import{y as Mb,b as Z1}from"./preact-c85490ff.js";import{l as q1}from"./lodash-es-fd932676.js";var jx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vw(P){return P&&P.__esModule&&Object.prototype.hasOwnProperty.call(P,"default")?P.default:P}var t1={exports:{}};(function(P,j){(function(h,b){P.exports=b()})(window,function(){return function(h){var b={};function u(d){if(b[d])return b[d].exports;var f=b[d]={i:d,l:!1,exports:{}};return h[d].call(f.exports,f,f.exports,u),f.l=!0,f.exports}return u.m=h,u.c=b,u.d=function(d,f,_){u.o(d,f)||Object.defineProperty(d,f,{enumerable:!0,get:_})},u.r=function(d){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},u.t=function(d,f){if(1&f&&(d=u(d)),8&f||4&f&&typeof d=="object"&&d&&d.__esModule)return d;var _=Object.create(null);if(u.r(_),Object.defineProperty(_,"default",{enumerable:!0,value:d}),2&f&&typeof d!="string")for(var g in d)u.d(_,g,function(S){return d[S]}.bind(null,g));return _},u.n=function(d){var f=d&&d.__esModule?function(){return d.default}:function(){return d};return u.d(f,"a",f),f},u.o=function(d,f){return Object.prototype.hasOwnProperty.call(d,f)},u.p="",u(u.s=221)}([function(h,b,u){u.d(b,"a",function(){return se}),u.d(b,"b",function(){return he}),u.d(b,"c",function(){return Ke}),u.d(b,"d",function(){return vt}),u.d(b,"e",function(){return q}),u.d(b,"f",function(){return ce}),u.d(b,"g",function(){return q}),u.d(b,"h",function(){return Ye}),u.d(b,"i",function(){return f}),u.d(b,"j",function(){return mt}),u.d(b,"k",function(){return $});var d,f,_,g,S,T,M,I={},C=[],U=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function z(ue,oe){for(var de in oe)ue[de]=oe[de];return ue}function G(ue){var oe=ue.parentNode;oe&&oe.removeChild(ue)}function q(ue,oe,de){var De,Xe,Ie,Ot={};for(Ie in oe)Ie=="key"?De=oe[Ie]:Ie=="ref"?Xe=oe[Ie]:Ot[Ie]=oe[Ie];if(arguments.length>2&&(Ot.children=arguments.length>3?d.call(arguments,2):de),typeof ue=="function"&&ue.defaultProps!=null)for(Ie in ue.defaultProps)Ot[Ie]===void 0&&(Ot[Ie]=ue.defaultProps[Ie]);return J(ue,Ot,De,Xe,null)}function J(ue,oe,de,De,Xe){var Ie={type:ue,props:oe,key:de,ref:De,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:Xe??++_};return Xe==null&&f.vnode!=null&&f.vnode(Ie),Ie}function ce(){return{current:null}}function he(ue){return ue.children}function se(ue,oe){this.props=ue,this.context=oe}function Q(ue,oe){if(oe==null)return ue.__?Q(ue.__,ue.__.__k.indexOf(ue)+1):null;for(var de;oe<ue.__k.length;oe++)if((de=ue.__k[oe])!=null&&de.__e!=null)return de.__e;return typeof ue.type=="function"?Q(ue):null}function re(ue){var oe,de;if((ue=ue.__)!=null&&ue.__c!=null){for(ue.__e=ue.__c.base=null,oe=0;oe<ue.__k.length;oe++)if((de=ue.__k[oe])!=null&&de.__e!=null){ue.__e=ue.__c.base=de.__e;break}return re(ue)}}function W(ue){(!ue.__d&&(ue.__d=!0)&&g.push(ue)&&!L.__r++||T!==f.debounceRendering)&&((T=f.debounceRendering)||S)(L)}function L(){for(var ue;L.__r=g.length;)ue=g.sort(function(oe,de){return oe.__v.__b-de.__v.__b}),g=[],ue.some(function(oe){var de,De,Xe,Ie,Ot,Pt;oe.__d&&(Ot=(Ie=(de=oe).__v).__e,(Pt=de.__P)&&(De=[],(Xe=z({},Ie)).__v=Ie.__v+1,je(Pt,Ie,Xe,de.__n,Pt.ownerSVGElement!==void 0,Ie.__h!=null?[Ot]:null,De,Ot??Q(Ie),Ie.__h),ve(De,Ie),Ie.__e!=Ot&&re(Ie)))})}function H(ue,oe,de,De,Xe,Ie,Ot,Pt,xt,ht){var ke,at,le,nt,Ct,rn,Rt,Kt=De&&De.__k||C,fn=Kt.length;for(de.__k=[],ke=0;ke<oe.length;ke++)if((nt=de.__k[ke]=(nt=oe[ke])==null||typeof nt=="boolean"?null:typeof nt=="string"||typeof nt=="number"||typeof nt=="bigint"?J(null,nt,null,null,nt):Array.isArray(nt)?J(he,{children:nt},null,null,null):nt.__b>0?J(nt.type,nt.props,nt.key,null,nt.__v):nt)!=null){if(nt.__=de,nt.__b=de.__b+1,(le=Kt[ke])===null||le&&nt.key==le.key&&nt.type===le.type)Kt[ke]=void 0;else for(at=0;at<fn;at++){if((le=Kt[at])&&nt.key==le.key&&nt.type===le.type){Kt[at]=void 0;break}le=null}je(ue,nt,le=le||I,Xe,Ie,Ot,Pt,xt,ht),Ct=nt.__e,(at=nt.ref)&&le.ref!=at&&(Rt||(Rt=[]),le.ref&&Rt.push(le.ref,null,nt),Rt.push(at,nt.__c||Ct,nt)),Ct!=null?(rn==null&&(rn=Ct),typeof nt.type=="function"&&nt.__k===le.__k?nt.__d=xt=X(nt,xt,ue):xt=ie(ue,nt,le,Kt,Ct,xt),typeof de.type=="function"&&(de.__d=xt)):xt&&le.__e==xt&&xt.parentNode!=ue&&(xt=Q(le))}for(de.__e=rn,ke=fn;ke--;)Kt[ke]!=null&&(typeof de.type=="function"&&Kt[ke].__e!=null&&Kt[ke].__e==de.__d&&(de.__d=Q(De,ke+1)),Fe(Kt[ke],Kt[ke]));if(Rt)for(ke=0;ke<Rt.length;ke++)Ae(Rt[ke],Rt[++ke],Rt[++ke])}function X(ue,oe,de){for(var De,Xe=ue.__k,Ie=0;Xe&&Ie<Xe.length;Ie++)(De=Xe[Ie])&&(De.__=ue,oe=typeof De.type=="function"?X(De,oe,de):ie(de,De,De,Xe,De.__e,oe));return oe}function $(ue,oe){return oe=oe||[],ue==null||typeof ue=="boolean"||(Array.isArray(ue)?ue.some(function(de){$(de,oe)}):oe.push(ue)),oe}function ie(ue,oe,de,De,Xe,Ie){var Ot,Pt,xt;if(oe.__d!==void 0)Ot=oe.__d,oe.__d=void 0;else if(de==null||Xe!=Ie||Xe.parentNode==null)e:if(Ie==null||Ie.parentNode!==ue)ue.appendChild(Xe),Ot=null;else{for(Pt=Ie,xt=0;(Pt=Pt.nextSibling)&&xt<De.length;xt+=2)if(Pt==Xe)break e;ue.insertBefore(Xe,Ie),Ot=Ie}return Ot!==void 0?Ot:Xe.nextSibling}function Ee(ue,oe,de){oe[0]==="-"?ue.setProperty(oe,de):ue[oe]=de==null?"":typeof de!="number"||U.test(oe)?de:de+"px"}function be(ue,oe,de,De,Xe){var Ie;e:if(oe==="style")if(typeof de=="string")ue.style.cssText=de;else{if(typeof De=="string"&&(ue.style.cssText=De=""),De)for(oe in De)de&&oe in de||Ee(ue.style,oe,"");if(de)for(oe in de)De&&de[oe]===De[oe]||Ee(ue.style,oe,de[oe])}else if(oe[0]==="o"&&oe[1]==="n")Ie=oe!==(oe=oe.replace(/Capture$/,"")),oe=oe.toLowerCase()in ue?oe.toLowerCase().slice(2):oe.slice(2),ue.l||(ue.l={}),ue.l[oe+Ie]=de,de?De||ue.addEventListener(oe,Ie?ze:Pe,Ie):ue.removeEventListener(oe,Ie?ze:Pe,Ie);else if(oe!=="dangerouslySetInnerHTML"){if(Xe)oe=oe.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(oe!=="href"&&oe!=="list"&&oe!=="form"&&oe!=="tabIndex"&&oe!=="download"&&oe in ue)try{ue[oe]=de??"";break e}catch{}typeof de=="function"||(de!=null&&(de!==!1||oe[0]==="a"&&oe[1]==="r")?ue.setAttribute(oe,de):ue.removeAttribute(oe))}}function Pe(ue){this.l[ue.type+!1](f.event?f.event(ue):ue)}function ze(ue){this.l[ue.type+!0](f.event?f.event(ue):ue)}function je(ue,oe,de,De,Xe,Ie,Ot,Pt,xt){var ht,ke,at,le,nt,Ct,rn,Rt,Kt,fn,mn,Dt=oe.type;if(oe.constructor!==void 0)return null;de.__h!=null&&(xt=de.__h,Pt=oe.__e=de.__e,oe.__h=null,Ie=[Pt]),(ht=f.__b)&&ht(oe);try{e:if(typeof Dt=="function"){if(Rt=oe.props,Kt=(ht=Dt.contextType)&&De[ht.__c],fn=ht?Kt?Kt.props.value:ht.__:De,de.__c?rn=(ke=oe.__c=de.__c).__=ke.__E:("prototype"in Dt&&Dt.prototype.render?oe.__c=ke=new Dt(Rt,fn):(oe.__c=ke=new se(Rt,fn),ke.constructor=Dt,ke.render=tt),Kt&&Kt.sub(ke),ke.props=Rt,ke.state||(ke.state={}),ke.context=fn,ke.__n=De,at=ke.__d=!0,ke.__h=[]),ke.__s==null&&(ke.__s=ke.state),Dt.getDerivedStateFromProps!=null&&(ke.__s==ke.state&&(ke.__s=z({},ke.__s)),z(ke.__s,Dt.getDerivedStateFromProps(Rt,ke.__s))),le=ke.props,nt=ke.state,at)Dt.getDerivedStateFromProps==null&&ke.componentWillMount!=null&&ke.componentWillMount(),ke.componentDidMount!=null&&ke.__h.push(ke.componentDidMount);else{if(Dt.getDerivedStateFromProps==null&&Rt!==le&&ke.componentWillReceiveProps!=null&&ke.componentWillReceiveProps(Rt,fn),!ke.__e&&ke.shouldComponentUpdate!=null&&ke.shouldComponentUpdate(Rt,ke.__s,fn)===!1||oe.__v===de.__v){ke.props=Rt,ke.state=ke.__s,oe.__v!==de.__v&&(ke.__d=!1),ke.__v=oe,oe.__e=de.__e,oe.__k=de.__k,oe.__k.forEach(function(Mn){Mn&&(Mn.__=oe)}),ke.__h.length&&Ot.push(ke);break e}ke.componentWillUpdate!=null&&ke.componentWillUpdate(Rt,ke.__s,fn),ke.componentDidUpdate!=null&&ke.__h.push(function(){ke.componentDidUpdate(le,nt,Ct)})}ke.context=fn,ke.props=Rt,ke.state=ke.__s,(ht=f.__r)&&ht(oe),ke.__d=!1,ke.__v=oe,ke.__P=ue,ht=ke.render(ke.props,ke.state,ke.context),ke.state=ke.__s,ke.getChildContext!=null&&(De=z(z({},De),ke.getChildContext())),at||ke.getSnapshotBeforeUpdate==null||(Ct=ke.getSnapshotBeforeUpdate(le,nt)),mn=ht!=null&&ht.type===he&&ht.key==null?ht.props.children:ht,H(ue,Array.isArray(mn)?mn:[mn],oe,de,De,Xe,Ie,Ot,Pt,xt),ke.base=oe.__e,oe.__h=null,ke.__h.length&&Ot.push(ke),rn&&(ke.__E=ke.__=null),ke.__e=!1}else Ie==null&&oe.__v===de.__v?(oe.__k=de.__k,oe.__e=de.__e):oe.__e=Se(de.__e,oe,de,De,Xe,Ie,Ot,xt);(ht=f.diffed)&&ht(oe)}catch(Mn){oe.__v=null,(xt||Ie!=null)&&(oe.__e=Pt,oe.__h=!!xt,Ie[Ie.indexOf(Pt)]=null),f.__e(Mn,oe,de)}}function ve(ue,oe){f.__c&&f.__c(oe,ue),ue.some(function(de){try{ue=de.__h,de.__h=[],ue.some(function(De){De.call(de)})}catch(De){f.__e(De,de.__v)}})}function Se(ue,oe,de,De,Xe,Ie,Ot,Pt){var xt,ht,ke,at=de.props,le=oe.props,nt=oe.type,Ct=0;if(nt==="svg"&&(Xe=!0),Ie!=null){for(;Ct<Ie.length;Ct++)if((xt=Ie[Ct])&&"setAttribute"in xt==!!nt&&(nt?xt.localName===nt:xt.nodeType===3)){ue=xt,Ie[Ct]=null;break}}if(ue==null){if(nt===null)return document.createTextNode(le);ue=Xe?document.createElementNS("http://www.w3.org/2000/svg",nt):document.createElement(nt,le.is&&le),Ie=null,Pt=!1}if(nt===null)at===le||Pt&&ue.data===le||(ue.data=le);else{if(Ie=Ie&&d.call(ue.childNodes),ht=(at=de.props||I).dangerouslySetInnerHTML,ke=le.dangerouslySetInnerHTML,!Pt){if(Ie!=null)for(at={},Ct=0;Ct<ue.attributes.length;Ct++)at[ue.attributes[Ct].name]=ue.attributes[Ct].value;(ke||ht)&&(ke&&(ht&&ke.__html==ht.__html||ke.__html===ue.innerHTML)||(ue.innerHTML=ke&&ke.__html||""))}if(function(rn,Rt,Kt,fn,mn){var Dt;for(Dt in Kt)Dt==="children"||Dt==="key"||Dt in Rt||be(rn,Dt,null,Kt[Dt],fn);for(Dt in Rt)mn&&typeof Rt[Dt]!="function"||Dt==="children"||Dt==="key"||Dt==="value"||Dt==="checked"||Kt[Dt]===Rt[Dt]||be(rn,Dt,Rt[Dt],Kt[Dt],fn)}(ue,le,at,Xe,Pt),ke)oe.__k=[];else if(Ct=oe.props.children,H(ue,Array.isArray(Ct)?Ct:[Ct],oe,de,De,Xe&&nt!=="foreignObject",Ie,Ot,Ie?Ie[0]:de.__k&&Q(de,0),Pt),Ie!=null)for(Ct=Ie.length;Ct--;)Ie[Ct]!=null&&G(Ie[Ct]);Pt||("value"in le&&(Ct=le.value)!==void 0&&(Ct!==at.value||Ct!==ue.value||nt==="progress"&&!Ct)&&be(ue,"value",Ct,at.value,!1),"checked"in le&&(Ct=le.checked)!==void 0&&Ct!==ue.checked&&be(ue,"checked",Ct,at.checked,!1))}return ue}function Ae(ue,oe,de){try{typeof ue=="function"?ue(oe):ue.current=oe}catch(De){f.__e(De,de)}}function Fe(ue,oe,de){var De,Xe;if(f.unmount&&f.unmount(ue),(De=ue.ref)&&(De.current&&De.current!==ue.__e||Ae(De,null,oe)),(De=ue.__c)!=null){if(De.componentWillUnmount)try{De.componentWillUnmount()}catch(Ie){f.__e(Ie,oe)}De.base=De.__P=null}if(De=ue.__k)for(Xe=0;Xe<De.length;Xe++)De[Xe]&&Fe(De[Xe],oe,typeof ue.type!="function");de||ue.__e==null||G(ue.__e),ue.__e=ue.__d=void 0}function tt(ue,oe,de){return this.constructor(ue,de)}function mt(ue,oe,de){var De,Xe,Ie;f.__&&f.__(ue,oe),Xe=(De=typeof de=="function")?null:de&&de.__k||oe.__k,Ie=[],je(oe,ue=(!De&&de||oe).__k=q(he,null,[ue]),Xe||I,I,oe.ownerSVGElement!==void 0,!De&&de?[de]:Xe?null:oe.firstChild?d.call(oe.childNodes):null,Ie,!De&&de?de:Xe?Xe.__e:oe.firstChild,De),ve(Ie,ue)}function Ye(ue,oe){mt(ue,oe,Ye)}function Ke(ue,oe,de){var De,Xe,Ie,Ot=z({},ue.props);for(Ie in oe)Ie=="key"?De=oe[Ie]:Ie=="ref"?Xe=oe[Ie]:Ot[Ie]=oe[Ie];return arguments.length>2&&(Ot.children=arguments.length>3?d.call(arguments,2):de),J(ue.type,Ot,De||ue.key,Xe||ue.ref,null)}function vt(ue,oe){var de={__c:oe="__cC"+M++,__:ue,Consumer:function(De,Xe){return De.children(Xe)},Provider:function(De){var Xe,Ie;return this.getChildContext||(Xe=[],(Ie={})[oe]=this,this.getChildContext=function(){return Ie},this.shouldComponentUpdate=function(Ot){this.props.value!==Ot.value&&Xe.some(W)},this.sub=function(Ot){Xe.push(Ot);var Pt=Ot.componentWillUnmount;Ot.componentWillUnmount=function(){Xe.splice(Xe.indexOf(Ot),1),Pt&&Pt.call(Ot)}}),De.children}};return de.Provider.__=de.Consumer.contextType=de}d=C.slice,f={__e:function(ue,oe){for(var de,De,Xe;oe=oe.__;)if((de=oe.__c)&&!de.__)try{if((De=de.constructor)&&De.getDerivedStateFromError!=null&&(de.setState(De.getDerivedStateFromError(ue)),Xe=de.__d),de.componentDidCatch!=null&&(de.componentDidCatch(ue),Xe=de.__d),Xe)return de.__E=de}catch(Ie){ue=Ie}throw ue}},_=0,se.prototype.setState=function(ue,oe){var de;de=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=z({},this.state),typeof ue=="function"&&(ue=ue(z({},de),this.props)),ue&&z(de,ue),ue!=null&&this.__v&&(oe&&this.__h.push(oe),W(this))},se.prototype.forceUpdate=function(ue){this.__v&&(this.__e=!0,ue&&this.__h.push(ue),W(this))},se.prototype.render=he,g=[],S=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,L.__r=0,M=0},function(h,b,u){(function(d,f){u.d(b,"a",function(){return W}),u.d(b,"b",function(){return Qa}),u.d(b,"c",function(){return Wr}),u.d(b,"d",function(){return wt}),u.d(b,"e",function(){return Ve}),u.d(b,"f",function(){return We}),u.d(b,"g",function(){return gt}),u.d(b,"h",function(){return oo}),u.d(b,"i",function(){return mn}),u.d(b,"j",function(){return rt}),u.d(b,"k",function(){return vo}),u.d(b,"l",function(){return Ha}),u.d(b,"m",function(){return rn}),u.d(b,"n",function(){return ti}),u.d(b,"o",function(){return X}),u.d(b,"p",function(){return Yu}),u.d(b,"q",function(){return go}),u.d(b,"r",function(){return qi}),u.d(b,"s",function(){return zr}),u.d(b,"t",function(){return Tn}),u.d(b,"u",function(){return Zi}),u.d(b,"v",function(){return Gu}),u.d(b,"w",function(){return $a}),u.d(b,"x",function(){return ni}),u.d(b,"y",function(){return Lr}),u.d(b,"z",function(){return Bn}),u.d(b,"A",function(){return Or}),u.d(b,"B",function(){return Qr}),u.d(b,"C",function(){return ht}),u.d(b,"D",function(){return Wu}),u.d(b,"E",function(){return on}),u.d(b,"F",function(){return an}),u.d(b,"G",function(){return Ua}),u.d(b,"H",function(){return Fa}),u.d(b,"I",function(){return Ka}),u.d(b,"J",function(){return Gn}),u.d(b,"K",function(){return pe}),u.d(b,"L",function(){return dn}),u.d(b,"M",function(){return Qi});var _=[];Object.freeze(_);var g={};function S(){return++ut.mobxGuid}function T(v){throw M(!1,v),"X"}function M(v,m){if(!v)throw new Error("[mobx] "+(m||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(g);function I(v){var m=!1;return function(){if(!m)return m=!0,v.apply(this,arguments)}}var C=function(){};function U(v){return v!==null&&typeof v=="object"}function z(v){if(v===null||typeof v!="object")return!1;var m=Object.getPrototypeOf(v);return m===Object.prototype||m===null}function G(v,m,E){Object.defineProperty(v,m,{enumerable:!1,writable:!0,configurable:!0,value:E})}function q(v,m){var E="isMobX"+v;return m.prototype[E]=!0,function(N){return U(N)&&N[E]===!0}}function J(v){return v instanceof Map}function ce(v){return v instanceof Set}function he(v){var m=new Set;for(var E in v)m.add(E);return Object.getOwnPropertySymbols(v).forEach(function(N){Object.getOwnPropertyDescriptor(v,N).enumerable&&m.add(N)}),Array.from(m)}function se(v){return v&&v.toString?v.toString():new String(v).toString()}function Q(v){return v===null?null:typeof v=="object"?""+v:v}var re=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(v){return Object.getOwnPropertyNames(v).concat(Object.getOwnPropertySymbols(v))}:Object.getOwnPropertyNames,W=Symbol("mobx administration"),L=function(){function v(m){m===void 0&&(m="Atom@"+S()),this.name=m,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=at.NOT_TRACKING}return v.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(m){return m()})},v.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(m){return m()})},v.prototype.reportObserved=function(){return Ki(this)},v.prototype.reportChanged=function(){yr(),function(m){m.lowestObserverState!==at.STALE&&(m.lowestObserverState=at.STALE,m.observers.forEach(function(E){E.dependenciesState===at.UP_TO_DATE&&(E.isTracing!==le.NONE&&Yr(E,m),E.onBecomeStale()),E.dependenciesState=at.STALE}))}(this),Sr()},v.prototype.toString=function(){return this.name},v}(),H=q("Atom",L);function X(v,m,E){m===void 0&&(m=C),E===void 0&&(E=C);var N,Y=new L(v);return m!==C&&Xu("onBecomeObserved",Y,m,N),E!==C&&on(Y,E),Y}var $={identity:function(v,m){return v===m},structural:function(v,m){return Me(v,m)},default:function(v,m){return Object.is(v,m)},shallow:function(v,m){return Me(v,m,1)}},ie=function(v,m){return ie=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,N){E.__proto__=N}||function(E,N){for(var Y in N)N.hasOwnProperty(Y)&&(E[Y]=N[Y])},ie(v,m)};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0

	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.

	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */var Ee=function(){return Ee=Object.assign||function(v){for(var m,E=1,N=arguments.length;E<N;E++)for(var Y in m=arguments[E])Object.prototype.hasOwnProperty.call(m,Y)&&(v[Y]=m[Y]);return v},Ee.apply(this,arguments)};function be(v){var m=typeof Symbol=="function"&&v[Symbol.iterator],E=0;return m?m.call(v):{next:function(){return v&&E>=v.length&&(v=void 0),{value:v&&v[E++],done:!v}}}}function Pe(v,m){var E=typeof Symbol=="function"&&v[Symbol.iterator];if(!E)return v;var N,Y,fe=E.call(v),xe=[];try{for(;(m===void 0||m-- >0)&&!(N=fe.next()).done;)xe.push(N.value)}catch(Be){Y={error:Be}}finally{try{N&&!N.done&&(E=fe.return)&&E.call(fe)}finally{if(Y)throw Y.error}}return xe}function ze(){for(var v=[],m=0;m<arguments.length;m++)v=v.concat(Pe(arguments[m]));return v}var je=Symbol("mobx did run lazy initializers"),ve=Symbol("mobx pending decorators"),Se={},Ae={};function Fe(v,m){var E=m?Se:Ae;return E[v]||(E[v]={configurable:!0,enumerable:m,get:function(){return tt(this),this[v]},set:function(N){tt(this),this[v]=N}})}function tt(v){var m,E;if(v[je]!==!0){var N=v[ve];if(N){G(v,je,!0);var Y=ze(Object.getOwnPropertySymbols(N),Object.keys(N));try{for(var fe=be(Y),xe=fe.next();!xe.done;xe=fe.next()){var Be=N[xe.value];Be.propertyCreator(v,Be.prop,Be.descriptor,Be.decoratorTarget,Be.decoratorArguments)}}catch(ot){m={error:ot}}finally{try{xe&&!xe.done&&(E=fe.return)&&E.call(fe)}finally{if(m)throw m.error}}}}}function mt(v,m){return function(){var E,N=function(Y,fe,xe,Be){if(Be===!0)return m(Y,fe,xe,Y,E),null;if(!Object.prototype.hasOwnProperty.call(Y,ve)){var ot=Y[ve];G(Y,ve,Ee({},ot))}return Y[ve][fe]={prop:fe,propertyCreator:m,descriptor:xe,decoratorTarget:Y,decoratorArguments:E},Fe(fe,v)};return Ye(arguments)?(E=_,N.apply(null,arguments)):(E=Array.prototype.slice.call(arguments),N)}}function Ye(v){return(v.length===2||v.length===3)&&(typeof v[1]=="string"||typeof v[1]=="symbol")||v.length===4&&v[3]===!0}function Ke(v,m,E){return ni(v)?v:Array.isArray(v)?ht.array(v,{name:E}):z(v)?ht.object(v,void 0,{name:E}):J(v)?ht.map(v,{name:E}):ce(v)?ht.set(v,{name:E}):v}function vt(v){return v}function ue(v){M(v);var m=mt(!0,function(N,Y,fe,xe,Be){var ot=fe?fe.initializer?fe.initializer.call(N):fe.value:void 0;Pr(N).addObservableProp(Y,ot,v)}),E=(d!==void 0&&d.env,m);return E.enhancer=v,E}var oe={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function de(v){return v==null?oe:typeof v=="string"?{name:v,deep:!0,proxy:!0}:v}Object.freeze(oe);var De=ue(Ke),Xe=ue(function(v,m,E){return v==null||Or(v)||Lr(v)||Bn(v)||sr(v)?v:Array.isArray(v)?ht.array(v,{name:E,deep:!1}):z(v)?ht.object(v,void 0,{name:E,deep:!1}):J(v)?ht.map(v,{name:E,deep:!1}):ce(v)?ht.set(v,{name:E,deep:!1}):T(!1)}),Ie=ue(vt),Ot=ue(function(v,m,E){return Me(v,m)?m:v});function Pt(v){return v.defaultDecorator?v.defaultDecorator.enhancer:v.deep===!1?vt:Ke}var xt={box:function(v,m){arguments.length>2&&ke("box");var E=de(m);return new jn(v,Pt(E),E.name,!0,E.equals)},array:function(v,m){arguments.length>2&&ke("array");var E=de(m);return Si(v,Pt(E),E.name)},map:function(v,m){arguments.length>2&&ke("map");var E=de(m);return new Qa(v,Pt(E),E.name)},set:function(v,m){arguments.length>2&&ke("set");var E=de(m);return new no(v,Pt(E),E.name)},object:function(v,m,E){typeof arguments[1]=="string"&&ke("object");var N=de(E);if(N.proxy===!1)return go({},v,m,N);var Y=Ga(N),fe=go({},void 0,void 0,N),xe=ri(fe);return Hu(xe,v,m,Y),xe},ref:Ie,shallow:Xe,deep:De,struct:Ot},ht=function(v,m,E){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return De.apply(null,arguments);if(ni(v))return v;var N=z(v)?ht.object(v,m,E):Array.isArray(v)?ht.array(v,m):J(v)?ht.map(v,m):ce(v)?ht.set(v,m):v;if(N!==v)return N;T(!1)};function ke(v){T("Expected one or two arguments to observable."+v+". Did you accidentally try to use observable."+v+" as decorator?")}Object.keys(xt).forEach(function(v){return ht[v]=xt[v]});var at,le,nt=mt(!1,function(v,m,E,N,Y){var fe=E.get,xe=E.set,Be=Y[0]||{};Pr(v).addComputedProp(v,m,Ee({get:fe,set:xe,context:v},Be))}),Ct=nt({equals:$.structural}),rn=function(v,m,E){if(typeof m=="string"||v!==null&&typeof v=="object"&&arguments.length===1)return nt.apply(null,arguments);var N=typeof m=="object"?m:{};return N.get=v,N.set=typeof m=="function"?m:N.set,N.name=N.name||v.name||"",new Jr(N)};rn.struct=Ct,function(v){v[v.NOT_TRACKING=-1]="NOT_TRACKING",v[v.UP_TO_DATE=0]="UP_TO_DATE",v[v.POSSIBLY_STALE=1]="POSSIBLY_STALE",v[v.STALE=2]="STALE"}(at||(at={})),function(v){v[v.NONE=0]="NONE",v[v.LOG=1]="LOG",v[v.BREAK=2]="BREAK"}(le||(le={}));var Rt=function(v){this.cause=v};function Kt(v){return v instanceof Rt}function fn(v){switch(v.dependenciesState){case at.UP_TO_DATE:return!1;case at.NOT_TRACKING:case at.STALE:return!0;case at.POSSIBLY_STALE:for(var m=We(!0),E=ne(),N=v.observing,Y=N.length,fe=0;fe<Y;fe++){var xe=N[fe];if(yo(xe)){if(ut.disableErrorBoundaries)xe.get();else try{xe.get()}catch{return me(E),Ve(m),!0}if(v.dependenciesState===at.STALE)return me(E),Ve(m),!0}}return st(v),me(E),Ve(m),!1}}function mn(){return ut.trackingDerivation!==null}function Dt(v){var m=v.observers.size>0;ut.computationDepth>0&&m&&T(!1),ut.allowStateChanges||!m&&ut.enforceActions!=="strict"||T(!1)}function Mn(v,m,E){var N=We(!0);st(v),v.newObserving=new Array(v.observing.length+100),v.unboundDepsCount=0,v.runId=++ut.runId;var Y,fe=ut.trackingDerivation;if(ut.trackingDerivation=v,ut.disableErrorBoundaries===!0)Y=m.call(E);else try{Y=m.call(E)}catch(xe){Y=new Rt(xe)}return ut.trackingDerivation=fe,function(xe){for(var Be=xe.observing,ot=xe.observing=xe.newObserving,Ht=at.UP_TO_DATE,Qe=0,pn=xe.unboundDepsCount,Lt=0;Lt<pn;Lt++)(tn=ot[Lt]).diffValue===0&&(tn.diffValue=1,Qe!==Lt&&(ot[Qe]=tn),Qe++),tn.dependenciesState>Ht&&(Ht=tn.dependenciesState);for(ot.length=Qe,xe.newObserving=null,pn=Be.length;pn--;)(tn=Be[pn]).diffValue===0&&Ia(tn,xe),tn.diffValue=0;for(;Qe--;){var tn;(tn=ot[Qe]).diffValue===1&&(tn.diffValue=0,ns(tn,xe))}Ht!==at.UP_TO_DATE&&(xe.dependenciesState=Ht,xe.onBecomeStale())}(v),Ve(N),Y}function K(v){var m=v.observing;v.observing=[];for(var E=m.length;E--;)Ia(m[E],v);v.dependenciesState=at.NOT_TRACKING}function pe(v){var m=ne();try{return v()}finally{me(m)}}function ne(){var v=ut.trackingDerivation;return ut.trackingDerivation=null,v}function me(v){ut.trackingDerivation=v}function We(v){var m=ut.allowStateReads;return ut.allowStateReads=v,m}function Ve(v){ut.allowStateReads=v}function st(v){if(v.dependenciesState!==at.UP_TO_DATE){v.dependenciesState=at.UP_TO_DATE;for(var m=v.observing,E=m.length;E--;)m[E].lowestObserverState=at.UP_TO_DATE}}var Ft=0,Hn=1,er=Object.getOwnPropertyDescriptor(function(){},"name");er&&er.configurable;function Nn(v,m,E){var N=function(){return zn(v,m,E||this,arguments)};return N.isMobxAction=!0,N}function zn(v,m,E,N){var Y=rt();try{return m.apply(E,N)}catch(fe){throw Y.error=fe,fe}finally{gt(Y)}}function rt(v,m,E){var N=0,Y=ne();yr();var fe={prevDerivation:Y,prevAllowStateChanges:Mt(!0),prevAllowStateReads:We(!0),notifySpy:!1,startTime:N,actionId:Hn++,parentActionId:Ft};return Ft=fe.actionId,fe}function gt(v){Ft!==v.actionId&&T("invalid action stack. did you forget to finish an action?"),Ft=v.parentActionId,v.error!==void 0&&(ut.suppressReactionErrors=!0),sn(v.prevAllowStateChanges),Ve(v.prevAllowStateReads),Sr(),me(v.prevDerivation),v.notifySpy,ut.suppressReactionErrors=!1}function wt(v,m){var E,N=Mt(v);try{E=m()}finally{sn(N)}return E}function Mt(v){var m=ut.allowStateChanges;return ut.allowStateChanges=v,m}function sn(v){ut.allowStateChanges=v}var jn=function(v){function m(E,N,Y,fe,xe){Y===void 0&&(Y="ObservableValue@"+S()),xe===void 0&&(xe=$.default);var Be=v.call(this,Y)||this;return Be.enhancer=N,Be.name=Y,Be.equals=xe,Be.hasUnreportedChange=!1,Be.value=N(E,void 0,Y),Be}return function(E,N){function Y(){this.constructor=E}ie(E,N),E.prototype=N===null?Object.create(N):(Y.prototype=N.prototype,new Y)}(m,v),m.prototype.dehanceValue=function(E){return this.dehancer!==void 0?this.dehancer(E):E},m.prototype.set=function(E){this.value,(E=this.prepareNewValue(E))!==ut.UNCHANGED&&this.setNewValue(E)},m.prototype.prepareNewValue=function(E){if(Dt(this),br(this)){var N=Zt(this,{object:this,type:"update",newValue:E});if(!N)return ut.UNCHANGED;E=N.newValue}return E=this.enhancer(E,this.value,this.name),this.equals(this.value,E)?ut.UNCHANGED:E},m.prototype.setNewValue=function(E){var N=this.value;this.value=E,this.reportChanged(),mr(this)&&Zn(this,{type:"update",object:this,newValue:E,oldValue:N})},m.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},m.prototype.intercept=function(E){return mo(this,E)},m.prototype.observe=function(E,N){return N&&E({object:this,type:"update",newValue:this.value,oldValue:void 0}),to(this,E)},m.prototype.toJSON=function(){return this.get()},m.prototype.toString=function(){return this.name+"["+this.value+"]"},m.prototype.valueOf=function(){return Q(this.get())},m.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},m}(L),ho=q("ObservableValue",jn),Jr=function(){function v(m){this.dependenciesState=at.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=at.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+S(),this.value=new Rt(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=le.NONE,M(m.get,"missing option for computed: get"),this.derivation=m.get,this.name=m.name||"ComputedValue@"+S(),m.set&&(this.setter=Nn(this.name+"-setter",m.set)),this.equals=m.equals||(m.compareStructural||m.struct?$.structural:$.default),this.scope=m.context,this.requiresReaction=!!m.requiresReaction,this.keepAlive=!!m.keepAlive}return v.prototype.onBecomeStale=function(){(function(m){m.lowestObserverState===at.UP_TO_DATE&&(m.lowestObserverState=at.POSSIBLY_STALE,m.observers.forEach(function(E){E.dependenciesState===at.UP_TO_DATE&&(E.dependenciesState=at.POSSIBLY_STALE,E.isTracing!==le.NONE&&Yr(E,m),E.onBecomeStale())}))})(this)},v.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(m){return m()})},v.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(m){return m()})},v.prototype.get=function(){this.isComputing&&T("Cycle detected in computation "+this.name+": "+this.derivation),ut.inBatch!==0||this.observers.size!==0||this.keepAlive?(Ki(this),fn(this)&&this.trackAndCompute()&&function(E){E.lowestObserverState!==at.STALE&&(E.lowestObserverState=at.STALE,E.observers.forEach(function(N){N.dependenciesState===at.POSSIBLY_STALE?N.dependenciesState=at.STALE:N.dependenciesState===at.UP_TO_DATE&&(E.lowestObserverState=at.UP_TO_DATE)}))}(this)):fn(this)&&(this.warnAboutUntrackedRead(),yr(),this.value=this.computeValue(!1),Sr());var m=this.value;if(Kt(m))throw m.cause;return m},v.prototype.peek=function(){var m=this.computeValue(!1);if(Kt(m))throw m.cause;return m},v.prototype.set=function(m){if(this.setter){M(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,m)}finally{this.isRunningSetter=!1}}else M(!1,!1)},v.prototype.trackAndCompute=function(){var m=this.value,E=this.dependenciesState===at.NOT_TRACKING,N=this.computeValue(!0),Y=E||Kt(m)||Kt(N)||!this.equals(m,N);return Y&&(this.value=N),Y},v.prototype.computeValue=function(m){var E;if(this.isComputing=!0,ut.computationDepth++,m)E=Mn(this,this.derivation,this.scope);else if(ut.disableErrorBoundaries===!0)E=this.derivation.call(this.scope);else try{E=this.derivation.call(this.scope)}catch(N){E=new Rt(N)}return ut.computationDepth--,this.isComputing=!1,E},v.prototype.suspend=function(){this.keepAlive||(K(this),this.value=void 0)},v.prototype.observe=function(m,E){var N=this,Y=!0,fe=void 0;return Ha(function(){var xe=N.get();if(!Y||E){var Be=ne();m({type:"update",object:N,newValue:xe,oldValue:fe}),me(Be)}Y=!1,fe=xe})},v.prototype.warnAboutUntrackedRead=function(){},v.prototype.toJSON=function(){return this.get()},v.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},v.prototype.valueOf=function(){return Q(this.get())},v.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},v}(),yo=q("ComputedValue",Jr),ei=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},ts={};function Ra(){return typeof window<"u"?window:f!==void 0?f:typeof self<"u"?self:ts}var Rr=!0,xi=!1,ut=function(){var v=Ra();return v.__mobxInstanceCount>0&&!v.__mobxGlobals&&(Rr=!1),v.__mobxGlobals&&v.__mobxGlobals.version!==new ei().version&&(Rr=!1),Rr?v.__mobxGlobals?(v.__mobxInstanceCount+=1,v.__mobxGlobals.UNCHANGED||(v.__mobxGlobals.UNCHANGED={}),v.__mobxGlobals):(v.__mobxInstanceCount=1,v.__mobxGlobals=new ei):(setTimeout(function(){xi||T("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new ei)}();function ns(v,m){v.observers.add(m),v.lowestObserverState>m.dependenciesState&&(v.lowestObserverState=m.dependenciesState)}function Ia(v,m){v.observers.delete(m),v.observers.size===0&&La(v)}function La(v){v.isPendingUnobservation===!1&&(v.isPendingUnobservation=!0,ut.pendingUnobservations.push(v))}function yr(){ut.inBatch++}function Sr(){if(--ut.inBatch==0){Ba();for(var v=ut.pendingUnobservations,m=0;m<v.length;m++){var E=v[m];E.isPendingUnobservation=!1,E.observers.size===0&&(E.isBeingObserved&&(E.isBeingObserved=!1,E.onBecomeUnobserved()),E instanceof Jr&&E.suspend())}ut.pendingUnobservations=[]}}function Ki(v){var m=ut.trackingDerivation;return m!==null?(m.runId!==v.lastAccessedBy&&(v.lastAccessedBy=m.runId,m.newObserving[m.unboundDepsCount++]=v,v.isBeingObserved||(v.isBeingObserved=!0,v.onBecomeObserved())),!0):(v.observers.size===0&&ut.inBatch>0&&La(v),!1)}function Yr(v,m){if(v.isTracing===le.BREAK){var E=[];Ir(Tn(v),E,1),new Function(`debugger;
/*
Tracing '`+v.name+`'

You are entering this break point because derivation '`+v.name+"' is being traced and '"+m.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(v instanceof Jr?v.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+E.join(`
`)+`
*/
    `)()}}function Ir(v,m,E){m.length>=1e3?m.push("(and many more)"):(m.push(""+new Array(E).join("	")+v.name),v.dependencies&&v.dependencies.forEach(function(N){return Ir(N,m,E+1)}))}var Wr=function(){function v(m,E,N,Y){m===void 0&&(m="Reaction@"+S()),Y===void 0&&(Y=!1),this.name=m,this.onInvalidate=E,this.errorHandler=N,this.requiresObservable=Y,this.observing=[],this.newObserving=[],this.dependenciesState=at.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+S(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=le.NONE}return v.prototype.onBecomeStale=function(){this.schedule()},v.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,ut.pendingReactions.push(this),Ba())},v.prototype.isScheduled=function(){return this._isScheduled},v.prototype.runReaction=function(){if(!this.isDisposed){if(yr(),this._isScheduled=!1,fn(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(m){this.reportExceptionInDerivation(m)}}Sr()}},v.prototype.track=function(m){if(!this.isDisposed){yr(),this._isRunning=!0;var E=Mn(this,m,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&K(this),Kt(E)&&this.reportExceptionInDerivation(E.cause),Sr()}},v.prototype.reportExceptionInDerivation=function(m){var E=this;if(this.errorHandler)this.errorHandler(m,this);else{if(ut.disableErrorBoundaries)throw m;ut.suppressReactionErrors,ut.globalReactionErrorHandlers.forEach(function(N){return N(m,E)})}},v.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(yr(),K(this),Sr()))},v.prototype.getDisposer=function(){var m=this.dispose.bind(this);return m[W]=this,m},v.prototype.toString=function(){return"Reaction["+this.name+"]"},v.prototype.trace=function(m){m===void 0&&(m=!1),function(){for(var E=[],N=0;N<arguments.length;N++)E[N]=arguments[N];var Y=!1;typeof E[E.length-1]=="boolean"&&(Y=E.pop());var fe=Qt(E);if(!fe)return T(!1);fe.isTracing,le.NONE,fe.isTracing=Y?le.BREAK:le.LOG}(this,m)},v}(),za=function(v){return v()};function Ba(){ut.inBatch>0||ut.isRunningReactions||za(zu)}function zu(){ut.isRunningReactions=!0;for(var v=ut.pendingReactions,m=0;v.length>0;){++m==100&&v.splice(0);for(var E=v.splice(0),N=0,Y=E.length;N<Y;N++)E[N].runReaction()}ut.isRunningReactions=!1}var Ei=q("Reaction",Wr);function Bu(v){var m=za;za=function(E){return v(function(){return m(E)})}}function Fa(v){return function(){}}function rs(){T(!1)}function No(v){return function(m,E,N){if(N){if(N.value)return{value:Nn(v,N.value),enumerable:!1,configurable:!0,writable:!0};var Y=N.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Nn(v,Y.call(this))}}}return Fu(v).apply(this,arguments)}}function Fu(v){return function(m,E,N){Object.defineProperty(m,E,{configurable:!0,enumerable:!1,get:function(){},set:function(Y){G(this,E,vo(v,Y))}})}}var vo=function(v,m,E,N){return arguments.length===1&&typeof v=="function"?Nn(v.name||"<unnamed action>",v):arguments.length===2&&typeof m=="function"?Nn(v,m):arguments.length===1&&typeof v=="string"?No(v):N!==!0?No(m).apply(null,arguments):void G(v,m,Nn(v.name||m,E.value,this))};function Ua(v,m){return zn(typeof v=="string"?v:v.name||"<unnamed action>",typeof v=="function"?v:m,this,void 0)}function Zi(v){return typeof v=="function"&&v.isMobxAction===!0}function Xa(v,m,E){G(v,m,Nn(m,E.bind(v)))}function Ha(v,m){m===void 0&&(m=g);var E,N=m&&m.name||v.name||"Autorun@"+S();if(!m.scheduler&&!m.delay)E=new Wr(N,function(){this.track(xe)},m.onError,m.requiresObservable);else{var Y=Uu(m),fe=!1;E=new Wr(N,function(){fe||(fe=!0,Y(function(){fe=!1,E.isDisposed||E.track(xe)}))},m.onError,m.requiresObservable)}function xe(){v(E)}return E.schedule(),E.getDisposer()}vo.bound=function(v,m,E,N){return N===!0?(Xa(v,m,E.value),null):E?{configurable:!0,enumerable:!1,get:function(){return Xa(this,m,E.value||E.initializer.call(this)),this[m]},set:rs}:{enumerable:!1,configurable:!0,set:function(Y){Xa(this,m,Y)},get:function(){}}};var os=function(v){return v()};function Uu(v){return v.scheduler?v.scheduler:v.delay?function(m){return setTimeout(m,v.delay)}:os}function an(v,m,E){E===void 0&&(E=g);var N,Y,fe,xe=E.name||"Reaction@"+S(),Be=vo(xe,E.onError?(N=E.onError,Y=m,function(){try{return Y.apply(this,arguments)}catch(On){N.call(this,On)}}):m),ot=!E.scheduler&&!E.delay,Ht=Uu(E),Qe=!0,pn=!1,Lt=E.compareStructural?$.structural:E.equals||$.default,tn=new Wr(xe,function(){Qe||ot?Br():pn||(pn=!0,Ht(Br))},E.onError,E.requiresObservable);function Br(){if(pn=!1,!tn.isDisposed){var On=!1;tn.track(function(){var _r=v(tn);On=Qe||!Lt(fe,_r),fe=_r}),Qe&&E.fireImmediately&&Be(fe,tn),Qe||On!==!0||Be(fe,tn),Qe&&(Qe=!1)}}return tn.schedule(),tn.getDisposer()}function on(v,m,E){return Xu("onBecomeUnobserved",v,m,E)}function Xu(v,m,E,N){var Y=typeof N=="function"?zr(m,E):zr(m),fe=typeof N=="function"?N:E,xe=v+"Listeners";return Y[xe]?Y[xe].add(fe):Y[xe]=new Set([fe]),typeof Y[v]!="function"?T(!1):function(){var Be=Y[xe];Be&&(Be.delete(fe),Be.size===0&&delete Y[xe])}}function ti(v){var m=v.enforceActions,E=v.computedRequiresReaction,N=v.computedConfigurable,Y=v.disableErrorBoundaries,fe=v.reactionScheduler,xe=v.reactionRequiresObservable,Be=v.observableRequiresReaction;if(v.isolateGlobalState===!0&&((ut.pendingReactions.length||ut.inBatch||ut.isRunningReactions)&&T("isolateGlobalState should be called before MobX is running any reactions"),xi=!0,Rr&&(--Ra().__mobxInstanceCount==0&&(Ra().__mobxGlobals=void 0),ut=new ei)),m!==void 0){var ot=void 0;switch(m){case!0:case"observed":ot=!0;break;case!1:case"never":ot=!1;break;case"strict":case"always":ot="strict";break;default:T("Invalid value for 'enforceActions': '"+m+"', expected 'never', 'always' or 'observed'")}ut.enforceActions=ot,ut.allowStateChanges=ot!==!0&&ot!=="strict"}E!==void 0&&(ut.computedRequiresReaction=!!E),xe!==void 0&&(ut.reactionRequiresObservable=!!xe),Be!==void 0&&(ut.observableRequiresReaction=!!Be,ut.allowStateReads=!ut.observableRequiresReaction),N!==void 0&&(ut.computedConfigurable=!!N),Y!==void 0&&(ut.disableErrorBoundaries=!!Y),fe&&Bu(fe)}function go(v,m,E,N){var Y=Ga(N=de(N));return tt(v),Pr(v,N.name,Y.enhancer),m&&Hu(v,m,E,Y),v}function Ga(v){return v.defaultDecorator||(v.deep===!1?Ie:De)}function Hu(v,m,E,N){var Y,fe;yr();try{var xe=re(m);try{for(var Be=be(xe),ot=Be.next();!ot.done;ot=Be.next()){var Ht=ot.value,Qe=Object.getOwnPropertyDescriptor(m,Ht),pn=(E&&Ht in E?E[Ht]:Qe.get?nt:N)(v,Ht,Qe,!0);pn&&Object.defineProperty(v,Ht,pn)}}catch(Lt){Y={error:Lt}}finally{try{ot&&!ot.done&&(fe=Be.return)&&fe.call(Be)}finally{if(Y)throw Y.error}}}finally{Sr()}}function Tn(v,m){return Ya(zr(v,m))}function Ya(v){var m,E,N={name:v.name};return v.observing&&v.observing.length>0&&(N.dependencies=(m=v.observing,E=[],m.forEach(function(Y){E.indexOf(Y)===-1&&E.push(Y)}),E).map(Ya)),N}var ji=0;function Wa(){this.message="FLOW_CANCELLED"}function qi(v){arguments.length!==1&&T("Flow expects 1 argument and cannot be used as decorator");var m=v.name||"<unnamed flow>";return function(){var E,N=this,Y=arguments,fe=++ji,xe=vo(m+" - runid: "+fe+" - init",v).apply(N,Y),Be=void 0,ot=new Promise(function(Ht,Qe){var pn=0;function Lt(On){var _r;Be=void 0;try{_r=vo(m+" - runid: "+fe+" - yield "+pn++,xe.next).call(xe,On)}catch(_o){return Qe(_o)}Br(_r)}function tn(On){var _r;Be=void 0;try{_r=vo(m+" - runid: "+fe+" - yield "+pn++,xe.throw).call(xe,On)}catch(_o){return Qe(_o)}Br(_r)}function Br(On){if(!On||typeof On.then!="function")return On.done?Ht(On.value):(Be=Promise.resolve(On.value)).then(Lt,tn);On.then(Br,Qe)}E=Qe,Lt(void 0)});return ot.cancel=vo(m+" - runid: "+fe+" - cancel",function(){try{Be&&tr(Be);var Ht=xe.return(void 0),Qe=Promise.resolve(Ht.value);Qe.then(C,C),tr(Qe),E(new Wa)}catch(pn){E(pn)}}),ot}}function tr(v){typeof v.cancel=="function"&&v.cancel()}function Va(v,m){if(v==null)return!1;if(m!==void 0){if(Or(v)===!1||!v[W].values.has(m))return!1;var E=zr(v,m);return yo(E)}return yo(v)}function Gu(v){return arguments.length>1?T(!1):Va(v)}function $a(v,m){return typeof m!="string"?T(!1):Va(v,m)}function Ji(v,m){return v!=null&&(m!==void 0?!!Or(v)&&v[W].values.has(m):Or(v)||!!v[W]||H(v)||Ei(v)||yo(v))}function ni(v){return arguments.length!==1&&T(!1),Ji(v)}function Qr(v){return Or(v)?v[W].getKeys():Bn(v)||sr(v)?Array.from(v.keys()):Lr(v)?v.map(function(m,E){return E}):T(!1)}function dn(v){return Or(v)?Qr(v).map(function(m){return v[m]}):Bn(v)?Qr(v).map(function(m){return v.get(m)}):sr(v)?Array.from(v.values()):Lr(v)?v.slice():T(!1)}function Yu(v){return Or(v)?Qr(v).map(function(m){return[m,v[m]]}):Bn(v)?Qr(v).map(function(m){return[m,v.get(m)]}):sr(v)?Array.from(v.entries()):Lr(v)?v.map(function(m,E){return[E,m]}):T(!1)}function vr(v,m,E){if(arguments.length!==2||sr(v))if(Or(v)){var N=v[W],Y=N.values.get(m);Y?N.write(m,E):N.addObservableProp(m,E,N.defaultEnhancer)}else if(Bn(v))v.set(m,E);else if(sr(v))v.add(m);else{if(!Lr(v))return T(!1);typeof m!="number"&&(m=parseInt(m,10)),M(m>=0,"Not a valid index: '"+m+"'"),yr(),m>=v.length&&(v.length=m+1),v[m]=E,Sr()}else{yr();var fe=m;try{for(var xe in fe)vr(v,xe,fe[xe])}finally{Sr()}}}function Wu(v,m,E,N){return typeof E=="function"?function(Y,fe,xe,Be){return oo(Y,fe).observe(xe,Be)}(v,m,E,N):function(Y,fe,xe){return oo(Y).observe(fe,xe)}(v,m,E)}Wa.prototype=Object.create(Error.prototype);var Vu={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function cr(v,m,E,N){return N.detectCycles&&v.set(m,E),E}function gr(v,m,E){if(!m.recurseEverything&&!ni(v)||typeof v!="object")return v;if(v===null)return null;if(v instanceof Date)return v;if(ho(v))return gr(v.get(),m,E);if(ni(v)&&Qr(v),m.detectCycles===!0&&v!==null&&E.has(v))return E.get(v);if(Lr(v)||Array.isArray(v)){var N=cr(E,v,[],m),Y=v.map(function(Lt){return gr(Lt,m,E)});N.length=Y.length;for(var fe=0,xe=Y.length;fe<xe;fe++)N[fe]=Y[fe];return N}if(sr(v)||Object.getPrototypeOf(v)===Set.prototype){if(m.exportMapsAsObjects===!1){var Be=cr(E,v,new Set,m);return v.forEach(function(Lt){Be.add(gr(Lt,m,E))}),Be}var ot=cr(E,v,[],m);return v.forEach(function(Lt){ot.push(gr(Lt,m,E))}),ot}if(Bn(v)||Object.getPrototypeOf(v)===Map.prototype){if(m.exportMapsAsObjects===!1){var Ht=cr(E,v,new Map,m);return v.forEach(function(Lt,tn){Ht.set(tn,gr(Lt,m,E))}),Ht}var Qe=cr(E,v,{},m);return v.forEach(function(Lt,tn){Qe[tn]=gr(Lt,m,E)}),Qe}var pn=cr(E,v,{},m);return he(v).forEach(function(Lt){pn[Lt]=gr(v[Lt],m,E)}),pn}function Ka(v,m){var E;return typeof m=="boolean"&&(m={detectCycles:m}),m||(m=Vu),m.detectCycles=m.detectCycles===void 0?m.recurseEverything===!0:m.detectCycles===!0,m.detectCycles&&(E=new Map),gr(v,m,E)}function Qt(v){switch(v.length){case 0:return ut.trackingDerivation;case 1:return zr(v[0]);case 2:return zr(v[0],v[1])}}function Gn(v,m){m===void 0&&(m=void 0),yr();try{return v.apply(m)}finally{Sr()}}function Qi(v,m,E){return arguments.length===1||m&&typeof m=="object"?Za(v,m):$u(v,m,E||{})}function $u(v,m,E){var N;typeof E.timeout=="number"&&(N=setTimeout(function(){if(!fe[W].isDisposed){fe();var xe=new Error("WHEN_TIMEOUT");if(!E.onError)throw xe;E.onError(xe)}},E.timeout)),E.name=E.name||"When@"+S();var Y=Nn(E.name+"-effect",m),fe=Ha(function(xe){v()&&(xe.dispose(),N&&clearTimeout(N),Y())},E);return fe}function Za(v,m){var E,N=new Promise(function(Y,fe){var xe=$u(v,Y,Ee(Ee({},m),{onError:fe}));E=function(){xe(),fe("WHEN_CANCELLED")}});return N.cancel=E,N}function ea(v){return v[W]}function eo(v){return typeof v=="string"||typeof v=="number"||typeof v=="symbol"}var bo={has:function(v,m){if(m===W||m==="constructor"||m===je)return!0;var E=ea(v);return eo(m)?E.has(m):m in v},get:function(v,m){if(m===W||m==="constructor"||m===je)return v[m];var E=ea(v),N=E.values.get(m);if(N instanceof L){var Y=N.get();return Y===void 0&&E.has(m),Y}return eo(m)&&E.has(m),v[m]},set:function(v,m,E){return!!eo(m)&&(vr(v,m,E),!0)},deleteProperty:function(v,m){return!!eo(m)&&(ea(v).remove(m),!0)},ownKeys:function(v){return ea(v).keysAtom.reportObserved(),Reflect.ownKeys(v)},preventExtensions:function(v){return T("Dynamic observable objects cannot be frozen"),!1}};function ri(v){var m=new Proxy(v,bo);return v[W].proxy=m,m}function br(v){return v.interceptors!==void 0&&v.interceptors.length>0}function mo(v,m){var E=v.interceptors||(v.interceptors=[]);return E.push(m),I(function(){var N=E.indexOf(m);N!==-1&&E.splice(N,1)})}function Zt(v,m){var E=ne();try{for(var N=ze(v.interceptors||[]),Y=0,fe=N.length;Y<fe&&(M(!(m=N[Y](m))||m.type,"Intercept handlers should return nothing or a change object"),m);Y++);return m}finally{me(E)}}function mr(v){return v.changeListeners!==void 0&&v.changeListeners.length>0}function to(v,m){var E=v.changeListeners||(v.changeListeners=[]);return E.push(m),I(function(){var N=E.indexOf(m);N!==-1&&E.splice(N,1)})}function Zn(v,m){var E=ne(),N=v.changeListeners;if(N){for(var Y=0,fe=(N=N.slice()).length;Y<fe;Y++)N[Y](m);me(E)}}var ta={get:function(v,m){return m===W?v[W]:m==="length"?v[W].getArrayLength():typeof m=="number"?Sn.get.call(v,m):typeof m!="string"||isNaN(m)?Sn.hasOwnProperty(m)?Sn[m]:v[m]:Sn.get.call(v,parseInt(m))},set:function(v,m,E){return m==="length"&&v[W].setArrayLength(E),typeof m=="number"&&Sn.set.call(v,m,E),typeof m=="symbol"||isNaN(m)?v[m]=E:Sn.set.call(v,parseInt(m),E),!0},preventExtensions:function(v){return T("Observable arrays cannot be frozen"),!1}};function Si(v,m,E,N){E===void 0&&(E="ObservableArray@"+S()),N===void 0&&(N=!1);var Y,fe,xe,Be=new qa(E,m,N);Y=Be.values,fe=W,xe=Be,Object.defineProperty(Y,fe,{enumerable:!1,writable:!1,configurable:!0,value:xe});var ot=new Proxy(Be.values,ta);if(Be.proxy=ot,v&&v.length){var Ht=Mt(!0);Be.spliceWithArray(0,0,v),sn(Ht)}return ot}var qa=function(){function v(m,E,N){this.owned=N,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new L(m||"ObservableArray@"+S()),this.enhancer=function(Y,fe){return E(Y,fe,m+"[..]")}}return v.prototype.dehanceValue=function(m){return this.dehancer!==void 0?this.dehancer(m):m},v.prototype.dehanceValues=function(m){return this.dehancer!==void 0&&m.length>0?m.map(this.dehancer):m},v.prototype.intercept=function(m){return mo(this,m)},v.prototype.observe=function(m,E){return E===void 0&&(E=!1),E&&m({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),to(this,m)},v.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},v.prototype.setArrayLength=function(m){if(typeof m!="number"||m<0)throw new Error("[mobx.array] Out of range: "+m);var E=this.values.length;if(m!==E)if(m>E){for(var N=new Array(m-E),Y=0;Y<m-E;Y++)N[Y]=void 0;this.spliceWithArray(E,0,N)}else this.spliceWithArray(m,E-m)},v.prototype.updateArrayLength=function(m,E){if(m!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=E},v.prototype.spliceWithArray=function(m,E,N){var Y=this;Dt(this.atom);var fe=this.values.length;if(m===void 0?m=0:m>fe?m=fe:m<0&&(m=Math.max(0,fe+m)),E=arguments.length===1?fe-m:E==null?0:Math.max(0,Math.min(E,fe-m)),N===void 0&&(N=_),br(this)){var xe=Zt(this,{object:this.proxy,type:"splice",index:m,removedCount:E,added:N});if(!xe)return _;E=xe.removedCount,N=xe.added}N=N.length===0?N:N.map(function(ot){return Y.enhancer(ot,void 0)});var Be=this.spliceItemsIntoValues(m,E,N);return E===0&&N.length===0||this.notifyArraySplice(m,N,Be),this.dehanceValues(Be)},v.prototype.spliceItemsIntoValues=function(m,E,N){var Y;if(N.length<1e4)return(Y=this.values).splice.apply(Y,ze([m,E],N));var fe=this.values.slice(m,m+E);return this.values=this.values.slice(0,m).concat(N,this.values.slice(m+E)),fe},v.prototype.notifyArrayChildUpdate=function(m,E,N){var Y=!this.owned&&!1,fe=mr(this),xe=fe||Y?{object:this.proxy,type:"update",index:m,newValue:E,oldValue:N}:null;this.atom.reportChanged(),fe&&Zn(this,xe)},v.prototype.notifyArraySplice=function(m,E,N){var Y=!this.owned&&!1,fe=mr(this),xe=fe||Y?{object:this.proxy,type:"splice",index:m,removed:N,added:E,removedCount:N.length,addedCount:E.length}:null;this.atom.reportChanged(),fe&&Zn(this,xe)},v}(),Sn={intercept:function(v){return this[W].intercept(v)},observe:function(v,m){return m===void 0&&(m=!1),this[W].observe(v,m)},clear:function(){return this.splice(0)},replace:function(v){var m=this[W];return m.spliceWithArray(0,m.values.length,v)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(v,m){for(var E=[],N=2;N<arguments.length;N++)E[N-2]=arguments[N];var Y=this[W];switch(arguments.length){case 0:return[];case 1:return Y.spliceWithArray(v);case 2:return Y.spliceWithArray(v,m)}return Y.spliceWithArray(v,m,E)},spliceWithArray:function(v,m,E){return this[W].spliceWithArray(v,m,E)},push:function(){for(var v=[],m=0;m<arguments.length;m++)v[m]=arguments[m];var E=this[W];return E.spliceWithArray(E.values.length,0,v),E.values.length},pop:function(){return this.splice(Math.max(this[W].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var v=[],m=0;m<arguments.length;m++)v[m]=arguments[m];var E=this[W];return E.spliceWithArray(0,0,v),E.values.length},reverse:function(){var v=this.slice();return v.reverse.apply(v,arguments)},sort:function(v){var m=this.slice();return m.sort.apply(m,arguments)},remove:function(v){var m=this[W],E=m.dehanceValues(m.values).indexOf(v);return E>-1&&(this.splice(E,1),!0)},get:function(v){var m=this[W];if(m&&v<m.values.length)return m.atom.reportObserved(),m.dehanceValue(m.values[v])},set:function(v,m){var E=this[W],N=E.values;if(v<N.length){Dt(E.atom);var Y=N[v];if(br(E)){var fe=Zt(E,{type:"update",object:E.proxy,index:v,newValue:m});if(!fe)return;m=fe.newValue}(m=E.enhancer(m,Y))!==Y&&(N[v]=m,E.notifyArrayChildUpdate(v,m,Y))}else{if(v!==N.length)throw new Error("[mobx.array] Index out of bounds, "+v+" is larger than "+N.length);E.spliceWithArray(v,0,[m])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(v){typeof Array.prototype[v]=="function"&&(Sn[v]=function(){var m=this[W];m.atom.reportObserved();var E=m.dehanceValues(m.values);return E[v].apply(E,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(v){typeof Array.prototype[v]=="function"&&(Sn[v]=function(m,E){var N=this,Y=this[W];return Y.atom.reportObserved(),Y.dehanceValues(Y.values)[v](function(fe,xe){return m.call(E,fe,xe,N)},E)})}),["reduce","reduceRight"].forEach(function(v){Sn[v]=function(){var m=this,E=this[W];E.atom.reportObserved();var N=arguments[0];return arguments[0]=function(Y,fe,xe){return fe=E.dehanceValue(fe),N(Y,fe,xe,m)},E.values[v].apply(E.values,arguments)}});var na,Oo=q("ObservableArrayAdministration",qa);function Lr(v){return U(v)&&Oo(v[W])}var Ja,is={},Qa=function(){function v(m,E,N){if(E===void 0&&(E=Ke),N===void 0&&(N="ObservableMap@"+S()),this.enhancer=E,this.name=N,this[na]=is,this._keysAtom=X(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(m)}return v.prototype._has=function(m){return this._data.has(m)},v.prototype.has=function(m){var E=this;if(!ut.trackingDerivation)return this._has(m);var N=this._hasMap.get(m);if(!N){var Y=N=new jn(this._has(m),vt,this.name+"."+se(m)+"?",!1);this._hasMap.set(m,Y),on(Y,function(){return E._hasMap.delete(m)})}return N.get()},v.prototype.set=function(m,E){var N=this._has(m);if(br(this)){var Y=Zt(this,{type:N?"update":"add",object:this,newValue:E,name:m});if(!Y)return this;E=Y.newValue}return N?this._updateValue(m,E):this._addValue(m,E),this},v.prototype.delete=function(m){var E=this;if(Dt(this._keysAtom),br(this)&&!(Y=Zt(this,{type:"delete",object:this,name:m})))return!1;if(this._has(m)){var N=mr(this),Y=N?{type:"delete",object:this,oldValue:this._data.get(m).value,name:m}:null;return Gn(function(){E._keysAtom.reportChanged(),E._updateHasMapEntry(m,!1),E._data.get(m).setNewValue(void 0),E._data.delete(m)}),N&&Zn(this,Y),!0}return!1},v.prototype._updateHasMapEntry=function(m,E){var N=this._hasMap.get(m);N&&N.setNewValue(E)},v.prototype._updateValue=function(m,E){var N=this._data.get(m);if((E=N.prepareNewValue(E))!==ut.UNCHANGED){var Y=mr(this),fe=Y?{type:"update",object:this,oldValue:N.value,name:m,newValue:E}:null;N.setNewValue(E),Y&&Zn(this,fe)}},v.prototype._addValue=function(m,E){var N=this;Dt(this._keysAtom),Gn(function(){var xe=new jn(E,N.enhancer,N.name+"."+se(m),!1);N._data.set(m,xe),E=xe.value,N._updateHasMapEntry(m,!0),N._keysAtom.reportChanged()});var Y=mr(this),fe=Y?{type:"add",object:this,name:m,newValue:E}:null;Y&&Zn(this,fe)},v.prototype.get=function(m){return this.has(m)?this.dehanceValue(this._data.get(m).get()):this.dehanceValue(void 0)},v.prototype.dehanceValue=function(m){return this.dehancer!==void 0?this.dehancer(m):m},v.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},v.prototype.values=function(){var m=this,E=this.keys();return Wt({next:function(){var N=E.next(),Y=N.done,fe=N.value;return{done:Y,value:Y?void 0:m.get(fe)}}})},v.prototype.entries=function(){var m=this,E=this.keys();return Wt({next:function(){var N=E.next(),Y=N.done,fe=N.value;return{done:Y,value:Y?void 0:[fe,m.get(fe)]}}})},v.prototype[na=W,Symbol.iterator]=function(){return this.entries()},v.prototype.forEach=function(m,E){var N,Y;try{for(var fe=be(this),xe=fe.next();!xe.done;xe=fe.next()){var Be=Pe(xe.value,2),ot=Be[0],Ht=Be[1];m.call(E,Ht,ot,this)}}catch(Qe){N={error:Qe}}finally{try{xe&&!xe.done&&(Y=fe.return)&&Y.call(fe)}finally{if(N)throw N.error}}},v.prototype.merge=function(m){var E=this;return Bn(m)&&(m=m.toJS()),Gn(function(){var N=Mt(!0);try{z(m)?he(m).forEach(function(Y){return E.set(Y,m[Y])}):Array.isArray(m)?m.forEach(function(Y){var fe=Pe(Y,2),xe=fe[0],Be=fe[1];return E.set(xe,Be)}):J(m)?(m.constructor!==Map&&T("Cannot initialize from classes that inherit from Map: "+m.constructor.name),m.forEach(function(Y,fe){return E.set(fe,Y)})):m!=null&&T("Cannot initialize map from "+m)}finally{sn(N)}}),this},v.prototype.clear=function(){var m=this;Gn(function(){pe(function(){var E,N;try{for(var Y=be(m.keys()),fe=Y.next();!fe.done;fe=Y.next()){var xe=fe.value;m.delete(xe)}}catch(Be){E={error:Be}}finally{try{fe&&!fe.done&&(N=Y.return)&&N.call(Y)}finally{if(E)throw E.error}}})})},v.prototype.replace=function(m){var E=this;return Gn(function(){var N,Y,fe,xe,Be=function(lr){if(J(lr)||Bn(lr))return lr;if(Array.isArray(lr))return new Map(lr);if(z(lr)){var Ai=new Map;for(var ii in lr)Ai.set(ii,lr[ii]);return Ai}return T("Cannot convert to map from '"+lr+"'")}(m),ot=new Map,Ht=!1;try{for(var Qe=be(E._data.keys()),pn=Qe.next();!pn.done;pn=Qe.next()){var Lt=pn.value;if(!Be.has(Lt))if(E.delete(Lt))Ht=!0;else{var tn=E._data.get(Lt);ot.set(Lt,tn)}}}catch(lr){N={error:lr}}finally{try{pn&&!pn.done&&(Y=Qe.return)&&Y.call(Qe)}finally{if(N)throw N.error}}try{for(var Br=be(Be.entries()),On=Br.next();!On.done;On=Br.next()){var _r=Pe(On.value,2),_o=(Lt=_r[0],tn=_r[1],E._data.has(Lt));if(E.set(Lt,tn),E._data.has(Lt)){var wo=E._data.get(Lt);ot.set(Lt,wo),_o||(Ht=!0)}}}catch(lr){fe={error:lr}}finally{try{On&&!On.done&&(xe=Br.return)&&xe.call(Br)}finally{if(fe)throw fe.error}}if(!Ht)if(E._data.size!==ot.size)E._keysAtom.reportChanged();else for(var Pi=E._data.keys(),tu=ot.keys(),Ro=Pi.next(),oa=tu.next();!Ro.done;){if(Ro.value!==oa.value){E._keysAtom.reportChanged();break}Ro=Pi.next(),oa=tu.next()}E._data=ot}),this},Object.defineProperty(v.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),v.prototype.toPOJO=function(){var m,E,N={};try{for(var Y=be(this),fe=Y.next();!fe.done;fe=Y.next()){var xe=Pe(fe.value,2),Be=xe[0],ot=xe[1];N[typeof Be=="symbol"?Be:se(Be)]=ot}}catch(Ht){m={error:Ht}}finally{try{fe&&!fe.done&&(E=Y.return)&&E.call(Y)}finally{if(m)throw m.error}}return N},v.prototype.toJS=function(){return new Map(this)},v.prototype.toJSON=function(){return this.toPOJO()},v.prototype.toString=function(){var m=this;return this.name+"[{ "+Array.from(this.keys()).map(function(E){return se(E)+": "+m.get(E)}).join(", ")+" }]"},v.prototype.observe=function(m,E){return to(this,m)},v.prototype.intercept=function(m){return mo(this,m)},v}(),Bn=q("ObservableMap",Qa),oi={},no=function(){function v(m,E,N){if(E===void 0&&(E=Ke),N===void 0&&(N="ObservableSet@"+S()),this.name=N,this[Ja]=oi,this._data=new Set,this._atom=X(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(Y,fe){return E(Y,fe,N)},m&&this.replace(m)}return v.prototype.dehanceValue=function(m){return this.dehancer!==void 0?this.dehancer(m):m},v.prototype.clear=function(){var m=this;Gn(function(){pe(function(){var E,N;try{for(var Y=be(m._data.values()),fe=Y.next();!fe.done;fe=Y.next()){var xe=fe.value;m.delete(xe)}}catch(Be){E={error:Be}}finally{try{fe&&!fe.done&&(N=Y.return)&&N.call(Y)}finally{if(E)throw E.error}}})})},v.prototype.forEach=function(m,E){var N,Y;try{for(var fe=be(this),xe=fe.next();!xe.done;xe=fe.next()){var Be=xe.value;m.call(E,Be,Be,this)}}catch(ot){N={error:ot}}finally{try{xe&&!xe.done&&(Y=fe.return)&&Y.call(fe)}finally{if(N)throw N.error}}},Object.defineProperty(v.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),v.prototype.add=function(m){var E=this;if(Dt(this._atom),br(this)&&!(Y=Zt(this,{type:"add",object:this,newValue:m})))return this;if(!this.has(m)){Gn(function(){E._data.add(E.enhancer(m,void 0)),E._atom.reportChanged()});var N=mr(this),Y=N?{type:"add",object:this,newValue:m}:null;N&&Zn(this,Y)}return this},v.prototype.delete=function(m){var E=this;if(br(this)&&!(Y=Zt(this,{type:"delete",object:this,oldValue:m})))return!1;if(this.has(m)){var N=mr(this),Y=N?{type:"delete",object:this,oldValue:m}:null;return Gn(function(){E._atom.reportChanged(),E._data.delete(m)}),N&&Zn(this,Y),!0}return!1},v.prototype.has=function(m){return this._atom.reportObserved(),this._data.has(this.dehanceValue(m))},v.prototype.entries=function(){var m=0,E=Array.from(this.keys()),N=Array.from(this.values());return Wt({next:function(){var Y=m;return m+=1,Y<N.length?{value:[E[Y],N[Y]],done:!1}:{done:!0}}})},v.prototype.keys=function(){return this.values()},v.prototype.values=function(){this._atom.reportObserved();var m=this,E=0,N=Array.from(this._data.values());return Wt({next:function(){return E<N.length?{value:m.dehanceValue(N[E++]),done:!1}:{done:!0}}})},v.prototype.replace=function(m){var E=this;return sr(m)&&(m=m.toJS()),Gn(function(){var N=Mt(!0);try{Array.isArray(m)||ce(m)?(E.clear(),m.forEach(function(Y){return E.add(Y)})):m!=null&&T("Cannot initialize set from "+m)}finally{sn(N)}}),this},v.prototype.observe=function(m,E){return to(this,m)},v.prototype.intercept=function(m){return mo(this,m)},v.prototype.toJS=function(){return new Set(this)},v.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},v.prototype[Ja=W,Symbol.iterator]=function(){return this.values()},v}(),sr=q("ObservableSet",no),eu=function(){function v(m,E,N,Y){E===void 0&&(E=new Map),this.target=m,this.values=E,this.name=N,this.defaultEnhancer=Y,this.keysAtom=new L(N+".keys")}return v.prototype.read=function(m){return this.values.get(m).get()},v.prototype.write=function(m,E){var N=this.target,Y=this.values.get(m);if(Y instanceof Jr)Y.set(E);else{if(br(this)){if(!(xe=Zt(this,{type:"update",object:this.proxy||N,name:m,newValue:E})))return;E=xe.newValue}if((E=Y.prepareNewValue(E))!==ut.UNCHANGED){var fe=mr(this),xe=fe?{type:"update",object:this.proxy||N,oldValue:Y.value,name:m,newValue:E}:null;Y.setNewValue(E),fe&&Zn(this,xe)}}},v.prototype.has=function(m){var E=this.pendingKeys||(this.pendingKeys=new Map),N=E.get(m);if(N)return N.get();var Y=!!this.values.get(m);return N=new jn(Y,vt,this.name+"."+se(m)+"?",!1),E.set(m,N),N.get()},v.prototype.addObservableProp=function(m,E,N){N===void 0&&(N=this.defaultEnhancer);var Y=this.target;if(br(this)){var fe=Zt(this,{object:this.proxy||Y,name:m,type:"add",newValue:E});if(!fe)return;E=fe.newValue}var xe=new jn(E,N,this.name+"."+se(m),!1);this.values.set(m,xe),E=xe.value,Object.defineProperty(Y,m,function(Be){return Co[Be]||(Co[Be]={configurable:!0,enumerable:!0,get:function(){return this[W].read(Be)},set:function(ot){this[W].write(Be,ot)}})}(m)),this.notifyPropertyAddition(m,E)},v.prototype.addComputedProp=function(m,E,N){var Y,fe,xe,Be=this.target;N.name=N.name||this.name+"."+se(E),this.values.set(E,new Jr(N)),(m===Be||(Y=m,fe=E,!(xe=Object.getOwnPropertyDescriptor(Y,fe))||xe.configurable!==!1&&xe.writable!==!1))&&Object.defineProperty(m,E,function(ot){return ra[ot]||(ra[ot]={configurable:ut.computedConfigurable,enumerable:!1,get:function(){return ro(this).read(ot)},set:function(Ht){ro(this).write(ot,Ht)}})}(E))},v.prototype.remove=function(m){if(this.values.has(m)){var E=this.target;if(br(this)&&!(ot=Zt(this,{object:this.proxy||E,name:m,type:"remove"})))return;try{yr();var N=mr(this),Y=!1,fe=this.values.get(m),xe=fe&&fe.get();if(fe&&fe.set(void 0),this.keysAtom.reportChanged(),this.values.delete(m),this.pendingKeys){var Be=this.pendingKeys.get(m);Be&&Be.set(!1)}delete this.target[m];var ot=N?{type:"remove",object:this.proxy||E,oldValue:xe,name:m}:null;N&&Zn(this,ot)}finally{Sr()}}},v.prototype.illegalAccess=function(m,E){},v.prototype.observe=function(m,E){return to(this,m)},v.prototype.intercept=function(m){return mo(this,m)},v.prototype.notifyPropertyAddition=function(m,E){var N=mr(this),Y=N?{type:"add",object:this.proxy||this.target,name:m,newValue:E}:null;if(N&&Zn(this,Y),this.pendingKeys){var fe=this.pendingKeys.get(m);fe&&fe.set(!0)}this.keysAtom.reportChanged()},v.prototype.getKeys=function(){var m,E;this.keysAtom.reportObserved();var N=[];try{for(var Y=be(this.values),fe=Y.next();!fe.done;fe=Y.next()){var xe=Pe(fe.value,2),Be=xe[0];xe[1]instanceof jn&&N.push(Be)}}catch(ot){m={error:ot}}finally{try{fe&&!fe.done&&(E=Y.return)&&E.call(Y)}finally{if(m)throw m.error}}return N},v}();function Pr(v,m,E){if(m===void 0&&(m=""),E===void 0&&(E=Ke),Object.prototype.hasOwnProperty.call(v,W))return v[W];z(v)||(m=(v.constructor.name||"ObservableObject")+"@"+S()),m||(m="ObservableObject@"+S());var N=new eu(v,new Map,se(m),E);return G(v,W,N),N}var Co=Object.create(null),ra=Object.create(null);function ro(v){var m=v[W];return m||(tt(v),v[W])}var Ar=q("ObservableObjectAdministration",eu);function Or(v){return!!U(v)&&(tt(v),Ar(v[W]))}function zr(v,m){if(typeof v=="object"&&v!==null){if(Lr(v))return m!==void 0&&T(!1),v[W].atom;if(sr(v))return v[W];if(Bn(v)){var E=v;return m===void 0?E._keysAtom:((N=E._data.get(m)||E._hasMap.get(m))||T(!1),N)}var N;if(tt(v),m&&!v[W]&&v[m],Or(v))return m?((N=v[W].values.get(m))||T(!1),N):T(!1);if(H(v)||yo(v)||Ei(v))return v}else if(typeof v=="function"&&Ei(v[W]))return v[W];return T(!1)}function oo(v,m){return v||T("Expecting some object"),m!==void 0?oo(zr(v,m)):H(v)||yo(v)||Ei(v)||Bn(v)||sr(v)?v:(tt(v),v[W]?v[W]:void T(!1))}var _e=Object.prototype.toString;function Me(v,m,E){return E===void 0&&(E=-1),Re(v,m,E)}function Re(v,m,E,N,Y){if(v===m)return v!==0||1/v==1/m;if(v==null||m==null)return!1;if(v!=v)return m!=m;var fe=typeof v;if(fe!=="function"&&fe!=="object"&&typeof m!="object")return!1;var xe=_e.call(v);if(xe!==_e.call(m))return!1;switch(xe){case"[object RegExp]":case"[object String]":return""+v==""+m;case"[object Number]":return+v!=+v?+m!=+m:+v==0?1/+v==1/m:+v==+m;case"[object Date]":case"[object Boolean]":return+v==+m;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(v)===Symbol.valueOf.call(m);case"[object Map]":case"[object Set]":E>=0&&E++}v=qe(v),m=qe(m);var Be=xe==="[object Array]";if(!Be){if(typeof v!="object"||typeof m!="object")return!1;var ot=v.constructor,Ht=m.constructor;if(ot!==Ht&&!(typeof ot=="function"&&ot instanceof ot&&typeof Ht=="function"&&Ht instanceof Ht)&&"constructor"in v&&"constructor"in m)return!1}if(E===0)return!1;E<0&&(E=-1),Y=Y||[];for(var Qe=(N=N||[]).length;Qe--;)if(N[Qe]===v)return Y[Qe]===m;if(N.push(v),Y.push(m),Be){if((Qe=v.length)!==m.length)return!1;for(;Qe--;)if(!Re(v[Qe],m[Qe],E-1,N,Y))return!1}else{var pn=Object.keys(v),Lt=void 0;if(Qe=pn.length,Object.keys(m).length!==Qe)return!1;for(;Qe--;)if(!It(m,Lt=pn[Qe])||!Re(v[Lt],m[Lt],E-1,N,Y))return!1}return N.pop(),Y.pop(),!0}function qe(v){return Lr(v)?v.slice():J(v)||Bn(v)||ce(v)||sr(v)?Array.from(v.entries()):v}function It(v,m){return Object.prototype.hasOwnProperty.call(v,m)}function Wt(v){return v[Symbol.iterator]=yn,v}function yn(){return this}if(typeof Proxy>"u"||typeof Symbol>"u")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Fa,extras:{getDebugName:function(v,m){return(m!==void 0?zr(v,m):Or(v)||Bn(v)||sr(v)?oo(v):zr(v)).name}},$mobx:W})}).call(this,u(163),u(68))},function(h,b,u){var d=u(113),f=u(42),_=u(179);d||f(Object.prototype,"toString",_,{unsafe:!0})},function(h,b,u){var d=u(41),f=u(100),_=u(80),g=u(58),S=u(116),T="Array Iterator",M=g.set,I=g.getterFor(T);h.exports=S(Array,"Array",function(C,U){M(this,{type:T,target:d(C),index:0,kind:U})},function(){var C=I(this),U=C.target,z=C.kind,G=C.index++;return!U||G>=U.length?(C.target=void 0,{value:void 0,done:!0}):z=="keys"?{value:G,done:!1}:z=="values"?{value:U[G],done:!1}:{value:[G,U[G]],done:!1}},"values"),_.Arguments=_.Array,f("keys"),f("values"),f("entries")},function(h,b,u){var d=u(16),f=u(7),_=u(46),g=u(76),S=u(34),T=u(15),M=u(71),I=u(36),C=u(108),U=u(18),z=u(35),G=u(96),q=u(30),J=u(33),ce=u(54),he=u(87),se=u(32),Q=u(40),re=u(41),W=u(86),L=u(39),H=u(69),X=u(60),$=u(77),ie=u(74),Ee=u(139),be=u(112),Pe=u(50),ze=u(38),je=u(84),ve=u(98),Se=u(42),Ae=u(89),Fe=u(93),tt=u(72),mt=u(90),Ye=u(28),Ke=u(140),vt=u(141),ue=u(78),oe=u(58),de=u(79).forEach,De=Fe("hidden"),Xe="Symbol",Ie=Ye("toPrimitive"),Ot=oe.set,Pt=oe.getterFor(Xe),xt=Object.prototype,ht=f.Symbol,ke=ht&&ht.prototype,at=f.TypeError,le=f.QObject,nt=_("JSON","stringify"),Ct=Pe.f,rn=ze.f,Rt=Ee.f,Kt=je.f,fn=T([].push),mn=Ae("symbols"),Dt=Ae("op-symbols"),Mn=Ae("string-to-symbol-registry"),K=Ae("symbol-to-string-registry"),pe=Ae("wks"),ne=!le||!le.prototype||!le.prototype.findChild,me=I&&U(function(){return X(rn({},"a",{get:function(){return rn(this,"a",{value:7}).a}})).a!=7})?function(rt,gt,wt){var Mt=Ct(xt,gt);Mt&&delete xt[gt],rn(rt,gt,wt),Mt&&rt!==xt&&rn(xt,gt,Mt)}:rn,We=function(rt,gt){var wt=mn[rt]=X(ke);return Ot(wt,{type:Xe,tag:rt,description:gt}),I||(wt.description=gt),wt},Ve=function(rt,gt,wt){rt===xt&&Ve(Dt,gt,wt),se(rt);var Mt=W(gt);return se(wt),z(mn,Mt)?(wt.enumerable?(z(rt,De)&&rt[De][Mt]&&(rt[De][Mt]=!1),wt=X(wt,{enumerable:H(0,!1)})):(z(rt,De)||rn(rt,De,H(1,{})),rt[De][Mt]=!0),me(rt,Mt,wt)):rn(rt,Mt,wt)},st=function(rt,gt){se(rt);var wt=re(gt),Mt=$(wt).concat(Nn(wt));return de(Mt,function(sn){I&&!S(Ft,wt,sn)||Ve(rt,sn,wt[sn])}),rt},Ft=function(rt){var gt=W(rt),wt=S(Kt,this,gt);return!(this===xt&&z(mn,gt)&&!z(Dt,gt))&&(!(wt||!z(this,gt)||!z(mn,gt)||z(this,De)&&this[De][gt])||wt)},Hn=function(rt,gt){var wt=re(rt),Mt=W(gt);if(wt!==xt||!z(mn,Mt)||z(Dt,Mt)){var sn=Ct(wt,Mt);return!sn||!z(mn,Mt)||z(wt,De)&&wt[De][Mt]||(sn.enumerable=!0),sn}},er=function(rt){var gt=Rt(re(rt)),wt=[];return de(gt,function(Mt){z(mn,Mt)||z(tt,Mt)||fn(wt,Mt)}),wt},Nn=function(rt){var gt=rt===xt,wt=Rt(gt?Dt:re(rt)),Mt=[];return de(wt,function(sn){!z(mn,sn)||gt&&!z(xt,sn)||fn(Mt,mn[sn])}),Mt};if(C||(ht=function(){if(ce(ke,this))throw at("Symbol is not a constructor");var rt=arguments.length&&arguments[0]!==void 0?L(arguments[0]):void 0,gt=mt(rt),wt=function(Mt){this===xt&&S(wt,Dt,Mt),z(this,De)&&z(this[De],gt)&&(this[De][gt]=!1),me(this,gt,H(1,Mt))};return I&&ne&&me(xt,gt,{configurable:!0,set:wt}),We(gt,rt)},Se(ke=ht.prototype,"toString",function(){return Pt(this).tag}),Se(ht,"withoutSetter",function(rt){return We(mt(rt),rt)}),je.f=Ft,ze.f=Ve,Pe.f=Hn,ie.f=Ee.f=er,be.f=Nn,Ke.f=function(rt){return We(Ye(rt),rt)},I&&(rn(ke,"description",{configurable:!0,get:function(){return Pt(this).description}}),M||Se(xt,"propertyIsEnumerable",Ft,{unsafe:!0}))),d({global:!0,wrap:!0,forced:!C,sham:!C},{Symbol:ht}),de($(pe),function(rt){vt(rt)}),d({target:Xe,stat:!0,forced:!C},{for:function(rt){var gt=L(rt);if(z(Mn,gt))return Mn[gt];var wt=ht(gt);return Mn[gt]=wt,K[wt]=gt,wt},keyFor:function(rt){if(!he(rt))throw at(rt+" is not a symbol");if(z(K,rt))return K[rt]},useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),d({target:"Object",stat:!0,forced:!C,sham:!I},{create:function(rt,gt){return gt===void 0?X(rt):st(X(rt),gt)},defineProperty:Ve,defineProperties:st,getOwnPropertyDescriptor:Hn}),d({target:"Object",stat:!0,forced:!C},{getOwnPropertyNames:er,getOwnPropertySymbols:Nn}),d({target:"Object",stat:!0,forced:U(function(){be.f(1)})},{getOwnPropertySymbols:function(rt){return be.f(Q(rt))}}),nt&&d({target:"JSON",stat:!0,forced:!C||U(function(){var rt=ht();return nt([rt])!="[null]"||nt({a:rt})!="{}"||nt(Object(rt))!="{}"})},{stringify:function(rt,gt,wt){var Mt=ve(arguments),sn=gt;if((J(gt)||rt!==void 0)&&!he(rt))return G(gt)||(gt=function(jn,ho){if(q(sn)&&(ho=S(sn,this,jn,ho)),!he(ho))return ho}),Mt[1]=gt,g(nt,null,Mt)}}),!ke[Ie]){var zn=ke.valueOf;Se(ke,Ie,function(rt){return S(zn,this)})}ue(ht,Xe),tt[De]=!0},function(h,b,u){var d=u(7),f=u(152),_=u(153),g=u(3),S=u(57),T=u(28),M=T("iterator"),I=T("toStringTag"),C=g.values,U=function(G,q){if(G){if(G[M]!==C)try{S(G,M,C)}catch{G[M]=C}if(G[I]||S(G,I,q),f[q]){for(var J in g)if(G[J]!==g[J])try{S(G,J,g[J])}catch{G[J]=g[J]}}}};for(var z in f)U(d[z]&&d[z].prototype,z);U(_,"DOMTokenList")},function(h,b,u){var d=u(151).charAt,f=u(39),_=u(58),g=u(116),S="String Iterator",T=_.set,M=_.getterFor(S);g(String,"String",function(I){T(this,{type:S,string:f(I),index:0})},function(){var I,C=M(this),U=C.string,z=C.index;return z>=U.length?{value:void 0,done:!0}:(I=d(U,z),C.index+=I.length,{value:I,done:!1})})},function(h,b,u){(function(d){var f=function(_){return _&&_.Math==Math&&_};h.exports=f(typeof globalThis=="object"&&globalThis)||f(typeof window=="object"&&window)||f(typeof self=="object"&&self)||f(typeof d=="object"&&d)||function(){return this}()||Function("return this")()}).call(this,u(68))},function(h,b,u){var d=u(16),f=u(36),_=u(7),g=u(15),S=u(35),T=u(30),M=u(54),I=u(39),C=u(38).f,U=u(134),z=_.Symbol,G=z&&z.prototype;if(f&&T(z)&&(!("description"in G)||z().description!==void 0)){var q={},J=function(){var L=arguments.length<1||arguments[0]===void 0?void 0:I(arguments[0]),H=M(G,this)?new z(L):L===void 0?z():z(L);return L===""&&(q[H]=!0),H};U(J,z),J.prototype=G,G.constructor=J;var ce=String(z("test"))=="Symbol(test)",he=g(G.toString),se=g(G.valueOf),Q=/^Symbol\((.*)\)[^)]+$/,re=g("".replace),W=g("".slice);C(G,"description",{configurable:!0,get:function(){var L=se(this),H=he(L);if(S(q,L))return"";var X=ce?W(H,7,-1):re(H,Q,"$1");return X===""?void 0:X}}),d({global:!0,forced:!0},{Symbol:J})}},function(h,b,u){u(141)("iterator")},function(h,b,u){u.d(b,"a",function(){return g.a}),u.d(b,"c",function(){return g.e}),u.d(b,"h",function(){return Q}),u.d(b,"i",function(){return ce}),u.d(b,"j",function(){return q}),u.d(b,"b",function(){return Pe}),u.d(b,"e",function(){return Se}),u.d(b,"f",function(){return ze}),u.d(b,"g",function(){return mn});var d,f,_,g=u(0),S=0,T=[],M=g.i.__b,I=g.i.__r,C=g.i.diffed,U=g.i.__c,z=g.i.unmount;function G(K,pe){g.i.__h&&g.i.__h(f,K,S||pe),S=0;var ne=f.__H||(f.__H={__:[],__h:[]});return K>=ne.__.length&&ne.__.push({}),ne.__[K]}function q(K){return S=1,J(ie,K)}function J(K,pe,ne){var me=G(d++,2);return me.t=K,me.__c||(me.__=[ne?ne(pe):ie(void 0,pe),function(We){var Ve=me.t(me.__[0],We);me.__[0]!==Ve&&(me.__=[Ve,me.__[1]],me.__c.setState({}))}],me.__c=f),me.__}function ce(K,pe){var ne=G(d++,3);!g.i.__s&&$(ne.__H,pe)&&(ne.__=K,ne.__H=pe,f.__H.__h.push(ne))}function he(K,pe){var ne=G(d++,4);!g.i.__s&&$(ne.__H,pe)&&(ne.__=K,ne.__H=pe,f.__h.push(ne))}function se(K,pe){var ne=G(d++,7);return $(ne.__H,pe)&&(ne.__=K(),ne.__H=pe,ne.__h=K),ne.__}function Q(K,pe){return S=8,se(function(){return K},pe)}function re(){var K;for(T.sort(function(pe,ne){return pe.__v.__b-ne.__v.__b});K=T.pop();)if(K.__P)try{K.__H.__h.forEach(H),K.__H.__h.forEach(X),K.__H.__h=[]}catch(pe){K.__H.__h=[],g.i.__e(pe,K.__v)}}g.i.__b=function(K){f=null,M&&M(K)},g.i.__r=function(K){I&&I(K),d=0;var pe=(f=K.__c).__H;pe&&(pe.__h.forEach(H),pe.__h.forEach(X),pe.__h=[])},g.i.diffed=function(K){C&&C(K);var pe=K.__c;pe&&pe.__H&&pe.__H.__h.length&&(T.push(pe)!==1&&_===g.i.requestAnimationFrame||((_=g.i.requestAnimationFrame)||L)(re)),f=null},g.i.__c=function(K,pe){pe.some(function(ne){try{ne.__h.forEach(H),ne.__h=ne.__h.filter(function(me){return!me.__||X(me)})}catch(me){pe.some(function(We){We.__h&&(We.__h=[])}),pe=[],g.i.__e(me,ne.__v)}}),U&&U(K,pe)},g.i.unmount=function(K){z&&z(K);var pe,ne=K.__c;ne&&ne.__H&&(ne.__H.__.forEach(function(me){try{H(me)}catch(We){pe=We}}),pe&&g.i.__e(pe,ne.__v))};var W=typeof requestAnimationFrame=="function";function L(K){var pe,ne=function(){clearTimeout(me),W&&cancelAnimationFrame(pe),setTimeout(K)},me=setTimeout(ne,100);W&&(pe=requestAnimationFrame(ne))}function H(K){var pe=f,ne=K.__c;typeof ne=="function"&&(K.__c=void 0,ne()),f=pe}function X(K){var pe=f;K.__c=K.__(),f=pe}function $(K,pe){return!K||K.length!==pe.length||pe.some(function(ne,me){return ne!==K[me]})}function ie(K,pe){return typeof pe=="function"?pe(K):pe}function Ee(K,pe){for(var ne in pe)K[ne]=pe[ne];return K}function be(K,pe){for(var ne in K)if(ne!=="__source"&&!(ne in pe))return!0;for(var me in pe)if(me!=="__source"&&K[me]!==pe[me])return!0;return!1}function Pe(K){this.props=K}function ze(K,pe){function ne(We){var Ve=this.props.ref,st=Ve==We.ref;return!st&&Ve&&(Ve.call?Ve(null):Ve.current=null),pe?!pe(this.props,We)||!st:be(this.props,We)}function me(We){return this.shouldComponentUpdate=ne,Object(g.e)(K,We)}return me.displayName="Memo("+(K.displayName||K.name)+")",me.prototype.isReactComponent=!0,me.__f=!0,me}(Pe.prototype=new g.a).isPureReactComponent=!0,Pe.prototype.shouldComponentUpdate=function(K,pe){return be(this.props,K)||be(this.state,pe)};var je=g.i.__b;g.i.__b=function(K){K.type&&K.type.__f&&K.ref&&(K.props.ref=K.ref,K.ref=null),je&&je(K)};var ve=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Se(K){function pe(ne,me){var We=Ee({},ne);return delete We.ref,K(We,!(me=ne.ref||me)||typeof me=="object"&&!("current"in me)?null:me)}return pe.$$typeof=ve,pe.render=pe,pe.prototype.isReactComponent=pe.__f=!0,pe.displayName="ForwardRef("+(K.displayName||K.name)+")",pe}var Ae=function(K,pe){return K==null?null:Object(g.k)(Object(g.k)(K).map(pe))},Fe={map:Ae,forEach:Ae,count:function(K){return K?Object(g.k)(K).length:0},only:function(K){var pe=Object(g.k)(K);if(pe.length!==1)throw"Children.only";return pe[0]},toArray:g.k},tt=g.i.__e;g.i.__e=function(K,pe,ne){if(K.then){for(var me,We=pe;We=We.__;)if((me=We.__c)&&me.__c)return pe.__e==null&&(pe.__e=ne.__e,pe.__k=ne.__k),me.__c(K,pe)}tt(K,pe,ne)};var mt=g.i.unmount;function Ye(K,pe,ne){return K&&(K.__c&&K.__c.__H&&(K.__c.__H.__.forEach(function(me){typeof me.__c=="function"&&me.__c()}),K.__c.__H=null),(K=Ee({},K)).__c!=null&&(K.__c.__P===ne&&(K.__c.__P=pe),K.__c=null),K.__k=K.__k&&K.__k.map(function(me){return Ye(me,pe,ne)})),K}function Ke(K,pe,ne){return K&&(K.__v=null,K.__k=K.__k&&K.__k.map(function(me){return Ke(me,pe,ne)}),K.__c&&K.__c.__P===pe&&(K.__e&&ne.insertBefore(K.__e,K.__d),K.__c.__e=!0,K.__c.__P=ne)),K}function vt(){this.__u=0,this.t=null,this.__b=null}function ue(K){var pe=K.__.__c;return pe&&pe.__e&&pe.__e(K)}function oe(){this.u=null,this.o=null}g.i.unmount=function(K){var pe=K.__c;pe&&pe.__R&&pe.__R(),pe&&K.__h===!0&&(K.type=null),mt&&mt(K)},(vt.prototype=new g.a).__c=function(K,pe){var ne=pe.__c,me=this;me.t==null&&(me.t=[]),me.t.push(ne);var We=ue(me.__v),Ve=!1,st=function(){Ve||(Ve=!0,ne.__R=null,We?We(Ft):Ft())};ne.__R=st;var Ft=function(){if(!--me.__u){if(me.state.__e){var er=me.state.__e;me.__v.__k[0]=Ke(er,er.__c.__P,er.__c.__O)}var Nn;for(me.setState({__e:me.__b=null});Nn=me.t.pop();)Nn.forceUpdate()}},Hn=pe.__h===!0;me.__u++||Hn||me.setState({__e:me.__b=me.__v.__k[0]}),K.then(st,st)},vt.prototype.componentWillUnmount=function(){this.t=[]},vt.prototype.render=function(K,pe){if(this.__b){if(this.__v.__k){var ne=document.createElement("div"),me=this.__v.__k[0].__c;this.__v.__k[0]=Ye(this.__b,ne,me.__O=me.__P)}this.__b=null}var We=pe.__e&&Object(g.e)(g.b,null,K.fallback);return We&&(We.__h=null),[Object(g.e)(g.b,null,pe.__e?null:K.children),We]};var de=function(K,pe,ne){if(++ne[1]===ne[0]&&K.o.delete(pe),K.props.revealOrder&&(K.props.revealOrder[0]!=="t"||!K.o.size))for(ne=K.u;ne;){for(;ne.length>3;)ne.pop()();if(ne[1]<ne[0])break;K.u=ne=ne[2]}};function De(K){return this.getChildContext=function(){return K.context},K.children}function Xe(K){var pe=this,ne=K.i;pe.componentWillUnmount=function(){Object(g.j)(null,pe.l),pe.l=null,pe.i=null},pe.i&&pe.i!==ne&&pe.componentWillUnmount(),K.__v?(pe.l||(pe.i=ne,pe.l={nodeType:1,parentNode:ne,childNodes:[],appendChild:function(me){this.childNodes.push(me),pe.i.appendChild(me)},insertBefore:function(me,We){this.childNodes.push(me),pe.i.appendChild(me)},removeChild:function(me){this.childNodes.splice(this.childNodes.indexOf(me)>>>1,1),pe.i.removeChild(me)}}),Object(g.j)(Object(g.e)(De,{context:pe.context},K.__v),pe.l)):pe.l&&pe.componentWillUnmount()}(oe.prototype=new g.a).__e=function(K){var pe=this,ne=ue(pe.__v),me=pe.o.get(K);return me[0]++,function(We){var Ve=function(){pe.props.revealOrder?(me.push(We),de(pe,K,me)):We()};ne?ne(Ve):Ve()}},oe.prototype.render=function(K){this.u=null,this.o=new Map;var pe=Object(g.k)(K.children);K.revealOrder&&K.revealOrder[0]==="b"&&pe.reverse();for(var ne=pe.length;ne--;)this.o.set(pe[ne],this.u=[1,0,this.u]);return K.children},oe.prototype.componentDidUpdate=oe.prototype.componentDidMount=function(){var K=this;this.o.forEach(function(pe,ne){de(K,ne,pe)})};var Ie=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Ot=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Pt=typeof document<"u",xt=function(K){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(K)};g.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(K){Object.defineProperty(g.a.prototype,K,{configurable:!0,get:function(){return this["UNSAFE_"+K]},set:function(pe){Object.defineProperty(this,K,{configurable:!0,writable:!0,value:pe})}})});var ht=g.i.event;function ke(){}function at(){return this.cancelBubble}function le(){return this.defaultPrevented}g.i.event=function(K){return ht&&(K=ht(K)),K.persist=ke,K.isPropagationStopped=at,K.isDefaultPrevented=le,K.nativeEvent=K};var nt,Ct={configurable:!0,get:function(){return this.class}},rn=g.i.vnode;g.i.vnode=function(K){var pe=K.type,ne=K.props,me=ne;if(typeof pe=="string"){var We=pe.indexOf("-")===-1;for(var Ve in me={},ne){var st=ne[Ve];Pt&&Ve==="children"&&pe==="noscript"||Ve==="value"&&"defaultValue"in ne&&st==null||(Ve==="defaultValue"&&"value"in ne&&ne.value==null?Ve="value":Ve==="download"&&st===!0?st="":/ondoubleclick/i.test(Ve)?Ve="ondblclick":/^onchange(textarea|input)/i.test(Ve+pe)&&!xt(ne.type)?Ve="oninput":/^onfocus$/i.test(Ve)?Ve="onfocusin":/^onblur$/i.test(Ve)?Ve="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(Ve)?Ve=Ve.toLowerCase():We&&Ot.test(Ve)?Ve=Ve.replace(/[A-Z0-9]/,"-$&").toLowerCase():st===null&&(st=void 0),me[Ve]=st)}pe=="select"&&me.multiple&&Array.isArray(me.value)&&(me.value=Object(g.k)(ne.children).forEach(function(Ft){Ft.props.selected=me.value.indexOf(Ft.props.value)!=-1})),pe=="select"&&me.defaultValue!=null&&(me.value=Object(g.k)(ne.children).forEach(function(Ft){Ft.props.selected=me.multiple?me.defaultValue.indexOf(Ft.props.value)!=-1:me.defaultValue==Ft.props.value})),K.props=me,ne.class!=ne.className&&(Ct.enumerable="className"in ne,ne.className!=null&&(me.class=ne.className),Object.defineProperty(me,"className",Ct))}K.$$typeof=Ie,rn&&rn(K)};var Rt=g.i.__r;g.i.__r=function(K){Rt&&Rt(K),nt=K.__c};var Kt={ReactCurrentDispatcher:{current:{readContext:function(K){return nt.__n[K.__c].props.value}}}};function fn(K){return!!K&&K.$$typeof===Ie}var mn=function(K,pe){return K(pe)},Dt=g.b,Mn={useState:q,useReducer:J,useEffect:ce,useLayoutEffect:he,useRef:function(K){return S=5,se(function(){return{current:K}},[])},useImperativeHandle:function(K,pe,ne){S=6,he(function(){typeof K=="function"?K(pe()):K&&(K.current=pe())},ne==null?ne:ne.concat(K))},useMemo:se,useCallback:Q,useContext:function(K){var pe=f.context[K.__c],ne=G(d++,9);return ne.c=K,pe?(ne.__==null&&(ne.__=!0,pe.sub(f)),pe.props.value):K.__},useDebugValue:function(K,pe){g.i.useDebugValue&&g.i.useDebugValue(pe?pe(K):K)},version:"17.0.2",Children:Fe,render:function(K,pe,ne){return pe.__k==null&&(pe.textContent=""),Object(g.j)(K,pe),typeof ne=="function"&&ne(),K?K.__c:null},hydrate:function(K,pe,ne){return Object(g.h)(K,pe),typeof ne=="function"&&ne(),K?K.__c:null},unmountComponentAtNode:function(K){return!!K.__k&&(Object(g.j)(null,K),!0)},createPortal:function(K,pe){return Object(g.e)(Xe,{__v:K,i:pe})},createElement:g.e,createContext:g.d,createFactory:function(K){return g.e.bind(null,K)},cloneElement:function(K){return fn(K)?g.c.apply(null,arguments):K},createRef:g.f,Fragment:g.b,isValidElement:fn,findDOMNode:function(K){return K&&(K.base||K.nodeType===1&&K)||null},Component:g.a,PureComponent:Pe,memo:ze,forwardRef:Se,flushSync:function(K,pe){return K(pe)},unstable_batchedUpdates:mn,StrictMode:Dt,Suspense:vt,SuspenseList:oe,lazy:function(K){var pe,ne,me;function We(Ve){if(pe||(pe=K()).then(function(st){ne=st.default||st},function(st){me=st}),me)throw me;if(!ne)throw pe;return Object(g.e)(ne,Ve)}return We.displayName="Lazy",We.__f=!0,We},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Kt};b.d=Mn},function(h,b,u){var d=u(7),f=u(152),_=u(153),g=u(187),S=u(57),T=function(I){if(I&&I.forEach!==g)try{S(I,"forEach",g)}catch{I.forEach=g}};for(var M in f)f[M]&&T(d[M]&&d[M].prototype);T(_)},function(h,b,u){u(16)({target:"Object",stat:!0},{setPrototypeOf:u(102)})},function(h,b,u){var d=u(16),f=u(18),_=u(40),g=u(101),S=u(143);d({target:"Object",stat:!0,forced:f(function(){g(1)}),sham:!S},{getPrototypeOf:function(T){return g(_(T))}})},function(h,b,u){var d=u(16),f=u(46),_=u(76),g=u(203),S=u(165),T=u(32),M=u(33),I=u(60),C=u(18),U=f("Reflect","construct"),z=Object.prototype,G=[].push,q=C(function(){function he(){}return!(U(function(){},[],he)instanceof he)}),J=!C(function(){U(function(){})}),ce=q||J;d({target:"Reflect",stat:!0,forced:ce,sham:ce},{construct:function(he,se){S(he),T(se);var Q=arguments.length<3?he:S(arguments[2]);if(J&&!q)return U(he,se,Q);if(he==Q){switch(se.length){case 0:return new he;case 1:return new he(se[0]);case 2:return new he(se[0],se[1]);case 3:return new he(se[0],se[1],se[2]);case 4:return new he(se[0],se[1],se[2],se[3])}var re=[null];return _(G,re,se),new(_(g,he,re))}var W=Q.prototype,L=I(M(W)?W:z),H=_(he,L,se);return M(H)?H:L}})},function(h,b){var u=Function.prototype,d=u.bind,f=u.call,_=d&&d.bind(f);h.exports=d?function(g){return g&&_(f,g)}:function(g){return g&&function(){return f.apply(g,arguments)}}},function(h,b,u){var d=u(7),f=u(50).f,_=u(57),g=u(42),S=u(110),T=u(134),M=u(95);h.exports=function(I,C){var U,z,G,q,J,ce=I.target,he=I.global,se=I.stat;if(U=he?d:se?d[ce]||S(ce,{}):(d[ce]||{}).prototype)for(z in C){if(q=C[z],G=I.noTargetGet?(J=f(U,z))&&J.value:U[z],!M(he?z:ce+(se?".":"#")+z,I.forced)&&G!==void 0){if(typeof q==typeof G)continue;T(q,G)}(I.sham||G&&G.sham)&&_(q,"sham",!0),g(U,z,q,I)}}},function(h,b,u){var d=u(16),f=u(7),_=u(96),g=u(99),S=u(33),T=u(75),M=u(45),I=u(41),C=u(62),U=u(28),z=u(81),G=u(98),q=z("slice"),J=U("species"),ce=f.Array,he=Math.max;d({target:"Array",proto:!0,forced:!q},{slice:function(se,Q){var re,W,L,H=I(this),X=M(H),$=T(se,X),ie=T(Q===void 0?X:Q,X);if(_(H)&&(re=H.constructor,(g(re)&&(re===ce||_(re.prototype))||S(re)&&(re=re[J])===null)&&(re=void 0),re===ce||re===void 0))return G(H,$,ie);for(W=new(re===void 0?ce:re)(he(ie-$,0)),L=0;$<ie;$++,L++)$ in H&&C(W,L,H[$]);return W.length=L,W}})},function(h,b){h.exports=function(u){try{return!!u()}catch{return!0}}},function(h,b,u){var d=u(16),f=u(103);d({target:"RegExp",proto:!0,forced:/./.exec!==f},{exec:f})},function(h,b,u){var d=u(16),f=u(40),_=u(77);d({target:"Object",stat:!0,forced:u(18)(function(){_(1)})},{keys:function(g){return _(f(g))}})},function(h,b,u){var d=u(36),f=u(73).EXISTS,_=u(15),g=u(38).f,S=Function.prototype,T=_(S.toString),M=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,I=_(M.exec);d&&!f&&g(S,"name",{configurable:!0,get:function(){try{return I(M,T(this))[1]}catch{return""}}})},function(h,b,u){var d=u(16),f=u(18),_=u(41),g=u(50).f,S=u(36),T=f(function(){g(1)});d({target:"Object",stat:!0,forced:!S||T,sham:!S},{getOwnPropertyDescriptor:function(M,I){return g(_(M),I)}})},function(h,b,u){var d=u(16),f=u(188);d({target:"Array",stat:!0,forced:!u(120)(function(_){Array.from(_)})},{from:f})},function(h,b,u){var d=u(16),f=u(79).filter;d({target:"Array",proto:!0,forced:!u(81)("filter")},{filter:function(_){return f(this,_,arguments.length>1?arguments[1]:void 0)}})},function(h,b,u){var d=u(16),f=u(36),_=u(135),g=u(41),S=u(50),T=u(62);d({target:"Object",stat:!0,sham:!f},{getOwnPropertyDescriptors:function(M){for(var I,C,U=g(M),z=S.f,G=_(U),q={},J=0;G.length>J;)(C=z(U,I=G[J++]))!==void 0&&T(q,I,C);return q}})},function(h,b,u){var d=u(16),f=u(7),_=u(18),g=u(96),S=u(33),T=u(40),M=u(45),I=u(62),C=u(115),U=u(81),z=u(28),G=u(70),q=z("isConcatSpreadable"),J=9007199254740991,ce="Maximum allowed index exceeded",he=f.TypeError,se=G>=51||!_(function(){var W=[];return W[q]=!1,W.concat()[0]!==W}),Q=U("concat"),re=function(W){if(!S(W))return!1;var L=W[q];return L!==void 0?!!L:g(W)};d({target:"Array",proto:!0,forced:!se||!Q},{concat:function(W){var L,H,X,$,ie,Ee=T(this),be=C(Ee,0),Pe=0;for(L=-1,X=arguments.length;L<X;L++)if(re(ie=L===-1?Ee:arguments[L])){if(Pe+($=M(ie))>J)throw he(ce);for(H=0;H<$;H++,Pe++)H in ie&&I(be,Pe,ie[H])}else{if(Pe>=J)throw he(ce);I(be,Pe++,ie)}return be.length=Pe,be}})},,function(h,b,u){var d=u(7),f=u(89),_=u(35),g=u(90),S=u(108),T=u(132),M=f("wks"),I=d.Symbol,C=I&&I.for,U=T?I:I&&I.withoutSetter||g;h.exports=function(z){if(!_(M,z)||!S&&typeof M[z]!="string"){var G="Symbol."+z;S&&_(I,z)?M[z]=I[z]:M[z]=T&&C?C(G):U(G)}return M[z]}},function(h,b,u){var d=u(16),f=u(202);d({target:"Object",stat:!0,forced:Object.assign!==f},{assign:f})},function(h,b){h.exports=function(u){return typeof u=="function"}},function(h,b,u){var d=u(106),f=typeof self=="object"&&self&&self.Object===Object&&self,_=d.a||f||Function("return this")();b.a=_},function(h,b,u){var d=u(7),f=u(33),_=d.String,g=d.TypeError;h.exports=function(S){if(f(S))return S;throw g(_(S)+" is not an object")}},function(h,b,u){var d=u(30);h.exports=function(f){return typeof f=="object"?f!==null:d(f)}},function(h,b){var u=Function.prototype.call;h.exports=u.bind?u.bind(u):function(){return u.apply(u,arguments)}},function(h,b,u){var d=u(15),f=u(40),_=d({}.hasOwnProperty);h.exports=Object.hasOwn||function(g,S){return _(f(g),S)}},function(h,b,u){var d=u(18);h.exports=!d(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(h,b,u){var d=u(16),f=u(79).map;d({target:"Array",proto:!0,forced:!u(81)("map")},{map:function(_){return f(this,_,arguments.length>1?arguments[1]:void 0)}})},function(h,b,u){var d=u(7),f=u(36),_=u(133),g=u(32),S=u(86),T=d.TypeError,M=Object.defineProperty;b.f=f?M:function(I,C,U){if(g(I),C=S(C),g(U),_)try{return M(I,C,U)}catch{}if("get"in U||"set"in U)throw T("Accessors not supported");return"value"in U&&(I[C]=U.value),I}},function(h,b,u){var d=u(7),f=u(97),_=d.String;h.exports=function(g){if(f(g)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return _(g)}},function(h,b,u){var d=u(7),f=u(44),_=d.Object;h.exports=function(g){return _(f(g))}},function(h,b,u){var d=u(85),f=u(44);h.exports=function(_){return d(f(_))}},function(h,b,u){var d=u(7),f=u(30),_=u(35),g=u(57),S=u(110),T=u(92),M=u(58),I=u(73).CONFIGURABLE,C=M.get,U=M.enforce,z=String(String).split("String");(h.exports=function(G,q,J,ce){var he,se=!!ce&&!!ce.unsafe,Q=!!ce&&!!ce.enumerable,re=!!ce&&!!ce.noTargetGet,W=ce&&ce.name!==void 0?ce.name:q;f(J)&&(String(W).slice(0,7)==="Symbol("&&(W="["+String(W).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!_(J,"name")||I&&J.name!==W)&&g(J,"name",W),(he=U(J)).source||(he.source=z.join(typeof W=="string"?W:""))),G!==d?(se?!re&&G[q]&&(Q=!0):delete G[q],Q?G[q]=J:g(G,q,J)):Q?G[q]=J:S(q,J)})(Function.prototype,"toString",function(){return f(this)&&C(this).source||T(this)})},function(h,b,u){(function(d){u.d(b,"d",function(){return g}),u.d(b,"c",function(){return S}),u.d(b,"b",function(){return T}),u.d(b,"a",function(){return I});var f=u(10),_=function(C,U){var z=typeof Symbol=="function"&&C[Symbol.iterator];if(!z)return C;var G,q,J=z.call(C),ce=[];try{for(;(U===void 0||U-- >0)&&!(G=J.next()).done;)ce.push(G.value)}catch(he){q={error:he}}finally{try{G&&!G.done&&(z=J.return)&&z.call(J)}finally{if(q)throw q.error}}return ce};function g(){var C=_(Object(f.j)(0),2)[1];return Object(f.h)(function(){C(function(U){return U+1})},[])}function S(C){if(!C||typeof C!="object")return!1;var U=Object.getPrototypeOf(C);return!U||U===Object.prototype}function T(C){return typeof Symbol=="function"?Symbol.for(C):"__$mobx-react "+C+"__"}var M={};function I(){return typeof window<"u"?window:d!==void 0?d:typeof self<"u"?self:M}}).call(this,u(68))},function(h,b,u){var d=u(7).TypeError;h.exports=function(f){if(f==null)throw d("Can't call method on "+f);return f}},function(h,b,u){var d=u(94);h.exports=function(f){return d(f.length)}},function(h,b,u){var d=u(7),f=u(30),_=function(g){return f(g)?g:void 0};h.exports=function(g,S){return arguments.length<2?_(d[g]):d[g]&&d[g][S]}},function(h,b,u){var d=u(16),f=u(34),_=u(33),g=u(32),S=u(204),T=u(50),M=u(101);d({target:"Reflect",stat:!0},{get:function I(C,U){var z,G,q=arguments.length<3?C:arguments[2];return g(C)===q?C[U]:(z=T.f(C,U))?S(z)?z.value:z.get===void 0?void 0:f(z.get,q):_(G=M(C))?I(G,U,q):void 0}})},function(h,b,u){(function(d){var f=u(31),_=u(171),g=j&&!j.nodeType&&j,S=g&&typeof d=="object"&&d&&!d.nodeType&&d,T=S&&S.exports===g?f.a.Buffer:void 0,M=(T?T.isBuffer:void 0)||_.a;b.a=M}).call(this,u(122)(h))},function(h,b,u){(function(d){var f=u(106),_=j&&!j.nodeType&&j,g=_&&typeof d=="object"&&d&&!d.nodeType&&d,S=g&&g.exports===_&&f.a.process,T=function(){try{var M=g&&g.require&&g.require("util").types;return M||S&&S.binding&&S.binding("util")}catch{}}();b.a=T}).call(this,u(122)(h))},function(h,b,u){var d=u(36),f=u(34),_=u(84),g=u(69),S=u(41),T=u(86),M=u(35),I=u(133),C=Object.getOwnPropertyDescriptor;b.f=d?C:function(U,z){if(U=S(U),z=T(z),I)try{return C(U,z)}catch{}if(M(U,z))return g(!f(_.f,U,z),U[z])}},function(h,b,u){var d=u(15),f=d({}.toString),_=d("".slice);h.exports=function(g){return _(f(g),8,-1)}},function(h,b,u){u(182)("Map",function(d){return function(){return d(this,arguments.length?arguments[0]:void 0)}},u(186))},function(h,b,u){var d=u(16),f=u(219).entries;d({target:"Object",stat:!0},{entries:function(_){return f(_)}})},function(h,b,u){var d=u(15);h.exports=d({}.isPrototypeOf)},function(h,b,u){var d=u(46);h.exports=d("navigator","userAgent")||""},function(h,b,u){var d=u(7),f=u(30),_=u(88),g=d.TypeError;h.exports=function(S){if(f(S))return S;throw g(_(S)+" is not a function")}},function(h,b,u){var d=u(36),f=u(38),_=u(69);h.exports=d?function(g,S,T){return f.f(g,S,_(1,T))}:function(g,S,T){return g[S]=T,g}},function(h,b,u){var d,f,_,g=u(175),S=u(7),T=u(15),M=u(33),I=u(57),C=u(35),U=u(109),z=u(93),G=u(72),q="Object already initialized",J=S.TypeError,ce=S.WeakMap;if(g||U.state){var he=U.state||(U.state=new ce),se=T(he.get),Q=T(he.has),re=T(he.set);d=function(L,H){if(Q(he,L))throw new J(q);return H.facade=L,re(he,L,H),H},f=function(L){return se(he,L)||{}},_=function(L){return Q(he,L)}}else{var W=z("state");G[W]=!0,d=function(L,H){if(C(L,W))throw new J(q);return H.facade=L,I(L,W,H),H},f=function(L){return C(L,W)?L[W]:{}},_=function(L){return C(L,W)}}h.exports={set:d,get:f,has:_,enforce:function(L){return _(L)?f(L):d(L,{})},getterFor:function(L){return function(H){var X;if(!M(H)||(X=f(H)).type!==L)throw J("Incompatible receiver, "+L+" required");return X}}}},function(h,b){var u=Math.ceil,d=Math.floor;h.exports=function(f){var _=+f;return _!=_||_===0?0:(_>0?d:u)(_)}},function(h,b,u){var d,f=u(32),_=u(176),g=u(111),S=u(72),T=u(138),M=u(91),I=u(93),C=I("IE_PROTO"),U=function(){},z=function(J){return"<script>"+J+"<\/script>"},G=function(J){J.write(z("")),J.close();var ce=J.parentWindow.Object;return J=null,ce},q=function(){try{d=new ActiveXObject("htmlfile")}catch{}var J,ce;q=typeof document<"u"?document.domain&&d?G(d):((ce=M("iframe")).style.display="none",T.appendChild(ce),ce.src="javascript:",(J=ce.contentWindow.document).open(),J.write(z("document.F=Object")),J.close(),J.F):G(d);for(var he=g.length;he--;)delete q.prototype[g[he]];return q()};S[C]=!0,h.exports=Object.create||function(J,ce){var he;return J!==null?(U.prototype=f(J),he=new U,U.prototype=null,he[C]=J):he=q(),ce===void 0?he:_(he,ce)}},function(h,b,u){var d=u(56);h.exports=function(f,_){var g=f[_];return g==null?void 0:d(g)}},function(h,b,u){var d=u(86),f=u(38),_=u(69);h.exports=function(g,S,T){var M=d(S);M in g?f.f(g,M,_(0,T)):g[M]=T}},function(h,b,u){var d=u(15),f=u(56),_=d(d.bind);h.exports=function(g,S){return f(g),S===void 0?g:_?_(g,S):function(){return g.apply(S,arguments)}}},function(h,b,u){var d=u(36),f=u(7),_=u(15),g=u(95),S=u(42),T=u(35),M=u(148),I=u(54),C=u(87),U=u(131),z=u(18),G=u(74).f,q=u(50).f,J=u(38).f,ce=u(160),he=u(161).trim,se="Number",Q=f.Number,re=Q.prototype,W=f.TypeError,L=_("".slice),H=_("".charCodeAt),X=function(ze){var je=U(ze,"number");return typeof je=="bigint"?je:$(je)},$=function(ze){var je,ve,Se,Ae,Fe,tt,mt,Ye,Ke=U(ze,"number");if(C(Ke))throw W("Cannot convert a Symbol value to a number");if(typeof Ke=="string"&&Ke.length>2){if(Ke=he(Ke),(je=H(Ke,0))===43||je===45){if((ve=H(Ke,2))===88||ve===120)return NaN}else if(je===48){switch(H(Ke,1)){case 66:case 98:Se=2,Ae=49;break;case 79:case 111:Se=8,Ae=55;break;default:return+Ke}for(tt=(Fe=L(Ke,2)).length,mt=0;mt<tt;mt++)if((Ye=H(Fe,mt))<48||Ye>Ae)return NaN;return parseInt(Fe,Se)}}return+Ke};if(g(se,!Q(" 0o1")||!Q("0b1")||Q("+0x1"))){for(var ie,Ee=function(ze){var je=arguments.length<1?0:Q(X(ze)),ve=this;return I(re,ve)&&z(function(){ce(ve)})?M(Object(je),ve,Ee):je},be=d?G(Q):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Pe=0;be.length>Pe;Pe++)T(Q,ie=be[Pe])&&!T(Ee,ie)&&J(Ee,ie,q(Q,ie));Ee.prototype=re,re.constructor=Ee,S(f,se,Ee)}},function(h,b,u){var d=u(16),f=u(15),_=u(85),g=u(41),S=u(121),T=f([].join),M=_!=Object,I=S("join",",");d({target:"Array",proto:!0,forced:M||!I},{join:function(C){return T(g(this),C===void 0?",":C)}})},function(h,b,u){var d=u(15),f=u(73).PROPER,_=u(42),g=u(32),S=u(54),T=u(39),M=u(18),I=u(154),C="toString",U=RegExp.prototype,z=U.toString,G=d(I),q=M(function(){return z.call({source:"a",flags:"b"})!="/a/b"}),J=f&&z.name!=C;(q||J)&&_(RegExp.prototype,C,function(){var ce=g(this),he=T(ce.source),se=ce.flags;return"/"+he+"/"+T(se===void 0&&S(U,ce)&&!("flags"in U)?G(ce):se)},{unsafe:!0})},function(h,b,u){var d=u(16),f=u(216),_=u(100);d({target:"Array",proto:!0},{fill:f}),_("fill")},function(h,b){var u;u=function(){return this}();try{u=u||new Function("return this")()}catch{typeof window=="object"&&(u=window)}h.exports=u},function(h,b){h.exports=function(u,d){return{enumerable:!(1&u),configurable:!(2&u),writable:!(4&u),value:d}}},function(h,b,u){var d,f,_=u(7),g=u(55),S=_.process,T=_.Deno,M=S&&S.versions||T&&T.version,I=M&&M.v8;I&&(f=(d=I.split("."))[0]>0&&d[0]<4?1:+(d[0]+d[1])),!f&&g&&(!(d=g.match(/Edge\/(\d+)/))||d[1]>=74)&&(d=g.match(/Chrome\/(\d+)/))&&(f=+d[1]),h.exports=f},function(h,b){h.exports=!1},function(h,b){h.exports={}},function(h,b,u){var d=u(36),f=u(35),_=Function.prototype,g=d&&Object.getOwnPropertyDescriptor,S=f(_,"name"),T=S&&function(){}.name==="something",M=S&&(!d||d&&g(_,"name").configurable);h.exports={EXISTS:S,PROPER:T,CONFIGURABLE:M}},function(h,b,u){var d=u(136),f=u(111).concat("length","prototype");b.f=Object.getOwnPropertyNames||function(_){return d(_,f)}},function(h,b,u){var d=u(59),f=Math.max,_=Math.min;h.exports=function(g,S){var T=d(g);return T<0?f(T+S,0):_(T,S)}},function(h,b){var u=Function.prototype,d=u.apply,f=u.bind,_=u.call;h.exports=typeof Reflect=="object"&&Reflect.apply||(f?_.bind(d):function(){return _.apply(d,arguments)})},function(h,b,u){var d=u(136),f=u(111);h.exports=Object.keys||function(_){return d(_,f)}},function(h,b,u){var d=u(38).f,f=u(35),_=u(28)("toStringTag");h.exports=function(g,S,T){g&&!f(g=T?g:g.prototype,_)&&d(g,_,{configurable:!0,value:S})}},function(h,b,u){var d=u(63),f=u(15),_=u(85),g=u(40),S=u(45),T=u(115),M=f([].push),I=function(C){var U=C==1,z=C==2,G=C==3,q=C==4,J=C==6,ce=C==7,he=C==5||J;return function(se,Q,re,W){for(var L,H,X=g(se),$=_(X),ie=d(Q,re),Ee=S($),be=0,Pe=W||T,ze=U?Pe(se,Ee):z||ce?Pe(se,0):void 0;Ee>be;be++)if((he||be in $)&&(H=ie(L=$[be],be,X),C))if(U)ze[be]=H;else if(H)switch(C){case 3:return!0;case 5:return L;case 6:return be;case 2:M(ze,L)}else switch(C){case 4:return!1;case 7:M(ze,L)}return J?-1:G||q?q:ze}};h.exports={forEach:I(0),map:I(1),filter:I(2),some:I(3),every:I(4),find:I(5),findIndex:I(6),filterReject:I(7)}},function(h,b){h.exports={}},function(h,b,u){var d=u(18),f=u(28),_=u(70),g=f("species");h.exports=function(S){return _>=51||!d(function(){var T=[];return(T.constructor={})[g]=function(){return{foo:1}},T[S](Boolean).foo!==1})}},function(h,b,u){var d=u(76),f=u(34),_=u(15),g=u(123),S=u(159),T=u(32),M=u(44),I=u(164),C=u(124),U=u(94),z=u(39),G=u(61),q=u(114),J=u(125),ce=u(103),he=u(155),se=u(18),Q=he.UNSUPPORTED_Y,re=4294967295,W=Math.min,L=[].push,H=_(/./.exec),X=_(L),$=_("".slice),ie=!se(function(){var Ee=/(?:)/,be=Ee.exec;Ee.exec=function(){return be.apply(this,arguments)};var Pe="ab".split(Ee);return Pe.length!==2||Pe[0]!=="a"||Pe[1]!=="b"});g("split",function(Ee,be,Pe){var ze;return ze="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(je,ve){var Se=z(M(this)),Ae=ve===void 0?re:ve>>>0;if(Ae===0)return[];if(je===void 0)return[Se];if(!S(je))return f(be,Se,je,Ae);for(var Fe,tt,mt,Ye=[],Ke=(je.ignoreCase?"i":"")+(je.multiline?"m":"")+(je.unicode?"u":"")+(je.sticky?"y":""),vt=0,ue=new RegExp(je.source,Ke+"g");(Fe=f(ce,ue,Se))&&!((tt=ue.lastIndex)>vt&&(X(Ye,$(Se,vt,Fe.index)),Fe.length>1&&Fe.index<Se.length&&d(L,Ye,q(Fe,1)),mt=Fe[0].length,vt=tt,Ye.length>=Ae));)ue.lastIndex===Fe.index&&ue.lastIndex++;return vt===Se.length?!mt&&H(ue,"")||X(Ye,""):X(Ye,$(Se,vt)),Ye.length>Ae?q(Ye,0,Ae):Ye}:"0".split(void 0,0).length?function(je,ve){return je===void 0&&ve===0?[]:f(be,this,je,ve)}:be,[function(je,ve){var Se=M(this),Ae=je==null?void 0:G(je,Ee);return Ae?f(Ae,je,Se,ve):f(ze,z(Se),je,ve)},function(je,ve){var Se=T(this),Ae=z(je),Fe=Pe(ze,Se,Ae,ve,ze!==be);if(Fe.done)return Fe.value;var tt=I(Se,RegExp),mt=Se.unicode,Ye=(Se.ignoreCase?"i":"")+(Se.multiline?"m":"")+(Se.unicode?"u":"")+(Q?"g":"y"),Ke=new tt(Q?"^(?:"+Se.source+")":Se,Ye),vt=ve===void 0?re:ve>>>0;if(vt===0)return[];if(Ae.length===0)return J(Ke,Ae)===null?[Ae]:[];for(var ue=0,oe=0,de=[];oe<Ae.length;){Ke.lastIndex=Q?0:oe;var De,Xe=J(Ke,Q?$(Ae,oe):Ae);if(Xe===null||(De=W(U(Ke.lastIndex+(Q?oe:0)),Ae.length))===ue)oe=C(Ae,oe,mt);else{if(X(de,$(Ae,ue,oe)),de.length===vt)return de;for(var Ie=1;Ie<=Xe.length-1;Ie++)if(X(de,Xe[Ie]),de.length===vt)return de;oe=ue=De}}return X(de,$(Ae,ue)),de}]},!ie,Q)},function(h,b,u){u(16)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(h,b,u){var d={}.propertyIsEnumerable,f=Object.getOwnPropertyDescriptor,_=f&&!d.call({1:2},1);b.f=_?function(g){var S=f(this,g);return!!S&&S.enumerable}:d},function(h,b,u){var d=u(7),f=u(15),_=u(18),g=u(51),S=d.Object,T=f("".split);h.exports=_(function(){return!S("z").propertyIsEnumerable(0)})?function(M){return g(M)=="String"?T(M,""):S(M)}:S},function(h,b,u){var d=u(131),f=u(87);h.exports=function(_){var g=d(_,"string");return f(g)?g:g+""}},function(h,b,u){var d=u(7),f=u(46),_=u(30),g=u(54),S=u(132),T=d.Object;h.exports=S?function(M){return typeof M=="symbol"}:function(M){var I=f("Symbol");return _(I)&&g(I.prototype,T(M))}},function(h,b,u){var d=u(7).String;h.exports=function(f){try{return d(f)}catch{return"Object"}}},function(h,b,u){var d=u(71),f=u(109);(h.exports=function(_,g){return f[_]||(f[_]=g!==void 0?g:{})})("versions",[]).push({version:"3.19.3",mode:d?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(h,b,u){var d=u(15),f=0,_=Math.random(),g=d(1 .toString);h.exports=function(S){return"Symbol("+(S===void 0?"":S)+")_"+g(++f+_,36)}},function(h,b,u){var d=u(7),f=u(33),_=d.document,g=f(_)&&f(_.createElement);h.exports=function(S){return g?_.createElement(S):{}}},function(h,b,u){var d=u(15),f=u(30),_=u(109),g=d(Function.toString);f(_.inspectSource)||(_.inspectSource=function(S){return g(S)}),h.exports=_.inspectSource},function(h,b,u){var d=u(89),f=u(90),_=d("keys");h.exports=function(g){return _[g]||(_[g]=f(g))}},function(h,b,u){var d=u(59),f=Math.min;h.exports=function(_){return _>0?f(d(_),9007199254740991):0}},function(h,b,u){var d=u(18),f=u(30),_=/#|\.prototype\./,g=function(C,U){var z=T[S(C)];return z==I||z!=M&&(f(U)?d(U):!!U)},S=g.normalize=function(C){return String(C).replace(_,".").toLowerCase()},T=g.data={},M=g.NATIVE="N",I=g.POLYFILL="P";h.exports=g},function(h,b,u){var d=u(51);h.exports=Array.isArray||function(f){return d(f)=="Array"}},function(h,b,u){var d=u(7),f=u(113),_=u(30),g=u(51),S=u(28)("toStringTag"),T=d.Object,M=g(function(){return arguments}())=="Arguments";h.exports=f?g:function(I){var C,U,z;return I===void 0?"Undefined":I===null?"Null":typeof(U=function(G,q){try{return G[q]}catch{}}(C=T(I),S))=="string"?U:M?g(C):(z=g(C))=="Object"&&_(C.callee)?"Arguments":z}},function(h,b,u){var d=u(15);h.exports=d([].slice)},function(h,b,u){var d=u(15),f=u(18),_=u(30),g=u(97),S=u(46),T=u(92),M=function(){},I=[],C=S("Reflect","construct"),U=/^\s*(?:class|function)\b/,z=d(U.exec),G=!U.exec(M),q=function(J){if(!_(J))return!1;try{return C(M,I,J),!0}catch{return!1}};h.exports=!C||f(function(){var J;return q(q.call)||!q(Object)||!q(function(){J=!0})||J})?function(J){if(!_(J))return!1;switch(g(J)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return G||!!z(U,T(J))}:q},function(h,b,u){var d=u(28),f=u(60),_=u(38),g=d("unscopables"),S=Array.prototype;S[g]==null&&_.f(S,g,{configurable:!0,value:f(null)}),h.exports=function(T){S[g][T]=!0}},function(h,b,u){var d=u(7),f=u(35),_=u(30),g=u(40),S=u(93),T=u(143),M=S("IE_PROTO"),I=d.Object,C=I.prototype;h.exports=T?I.getPrototypeOf:function(U){var z=g(U);if(f(z,M))return z[M];var G=z.constructor;return _(G)&&z instanceof G?G.prototype:z instanceof I?C:null}},function(h,b,u){var d=u(15),f=u(32),_=u(181);h.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var g,S=!1,T={};try{(g=d(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(T,[]),S=T instanceof Array}catch{}return function(M,I){return f(M),_(I),S?g(M,I):M.__proto__=I,M}}():void 0)},function(h,b,u){var d,f,_=u(34),g=u(15),S=u(39),T=u(154),M=u(155),I=u(89),C=u(60),U=u(58).get,z=u(190),G=u(191),q=I("native-string-replace",String.prototype.replace),J=RegExp.prototype.exec,ce=J,he=g("".charAt),se=g("".indexOf),Q=g("".replace),re=g("".slice),W=(f=/b*/g,_(J,d=/a/,"a"),_(J,f,"a"),d.lastIndex!==0||f.lastIndex!==0),L=M.BROKEN_CARET,H=/()??/.exec("")[1]!==void 0;(W||H||L||z||G)&&(ce=function(X){var $,ie,Ee,be,Pe,ze,je,ve=this,Se=U(ve),Ae=S(X),Fe=Se.raw;if(Fe)return Fe.lastIndex=ve.lastIndex,$=_(ce,Fe,Ae),ve.lastIndex=Fe.lastIndex,$;var tt=Se.groups,mt=L&&ve.sticky,Ye=_(T,ve),Ke=ve.source,vt=0,ue=Ae;if(mt&&(Ye=Q(Ye,"y",""),se(Ye,"g")===-1&&(Ye+="g"),ue=re(Ae,ve.lastIndex),ve.lastIndex>0&&(!ve.multiline||ve.multiline&&he(Ae,ve.lastIndex-1)!==`
`)&&(Ke="(?: "+Ke+")",ue=" "+ue,vt++),ie=new RegExp("^(?:"+Ke+")",Ye)),H&&(ie=new RegExp("^"+Ke+"$(?!\\s)",Ye)),W&&(Ee=ve.lastIndex),be=_(J,mt?ie:ve,ue),mt?be?(be.input=re(be.input,vt),be[0]=re(be[0],vt),be.index=ve.lastIndex,ve.lastIndex+=be[0].length):ve.lastIndex=0:W&&be&&(ve.lastIndex=ve.global?be.index+be[0].length:Ee),H&&be&&be.length>1&&_(q,be[0],ie,function(){for(Pe=1;Pe<arguments.length-2;Pe++)arguments[Pe]===void 0&&(be[Pe]=void 0)}),be&&tt)for(be.groups=ze=C(null),Pe=0;Pe<tt.length;Pe++)ze[(je=tt[Pe])[0]]=be[je[1]];return be}),h.exports=ce},function(h,b,u){var d=u(16),f=u(7),_=u(75),g=u(59),S=u(45),T=u(40),M=u(115),I=u(62),C=u(81)("splice"),U=f.TypeError,z=Math.max,G=Math.min,q=9007199254740991,J="Maximum allowed length exceeded";d({target:"Array",proto:!0,forced:!C},{splice:function(ce,he){var se,Q,re,W,L,H,X=T(this),$=S(X),ie=_(ce,$),Ee=arguments.length;if(Ee===0?se=Q=0:Ee===1?(se=0,Q=$-ie):(se=Ee-2,Q=G(z(g(he),0),$-ie)),$+se-Q>q)throw U(J);for(re=M(X,Q),W=0;W<Q;W++)(L=ie+W)in X&&I(re,W,X[L]);if(re.length=Q,se<Q){for(W=ie;W<$-Q;W++)H=W+se,(L=W+Q)in X?X[H]=X[L]:delete X[H];for(W=$;W>$-Q+se;W--)delete X[W-1]}else if(se>Q)for(W=$-Q;W>ie;W--)H=W+se-1,(L=W+Q-1)in X?X[H]=X[L]:delete X[H];for(W=0;W<se;W++)X[W+ie]=arguments[W+2];return X.length=$-Q+se,re}})},function(h,b,u){var d=u(16),f=u(205);d({target:"String",proto:!0,forced:u(206)("anchor")},{anchor:function(_){return f(this,"a","name",_)}})},function(h,b,u){(function(d){var f=typeof d=="object"&&d&&d.Object===Object&&d;b.a=f}).call(this,u(68))},function(h,b,u){(function(d){var f=u(31),_=j&&!j.nodeType&&j,g=_&&typeof d=="object"&&d&&!d.nodeType&&d,S=g&&g.exports===_?f.a.Buffer:void 0,T=S?S.allocUnsafe:void 0;b.a=function(M,I){if(I)return M.slice();var C=M.length,U=T?T(C):new M.constructor(C);return M.copy(U),U}}).call(this,u(122)(h))},function(h,b,u){var d=u(70),f=u(18);h.exports=!!Object.getOwnPropertySymbols&&!f(function(){var _=Symbol();return!String(_)||!(Object(_)instanceof Symbol)||!Symbol.sham&&d&&d<41})},function(h,b,u){var d=u(7),f=u(110),_="__core-js_shared__",g=d[_]||f(_,{});h.exports=g},function(h,b,u){var d=u(7),f=Object.defineProperty;h.exports=function(_,g){try{f(d,_,{value:g,configurable:!0,writable:!0})}catch{d[_]=g}return g}},function(h,b){h.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(h,b){b.f=Object.getOwnPropertySymbols},function(h,b,u){var d={};d[u(28)("toStringTag")]="z",h.exports=String(d)==="[object z]"},function(h,b,u){var d=u(7),f=u(75),_=u(45),g=u(62),S=d.Array,T=Math.max;h.exports=function(M,I,C){for(var U=_(M),z=f(I,U),G=f(C===void 0?U:C,U),q=S(T(G-z,0)),J=0;z<G;z++,J++)g(q,J,M[z]);return q.length=J,q}},function(h,b,u){var d=u(178);h.exports=function(f,_){return new(d(f))(_===0?0:_)}},function(h,b,u){var d=u(16),f=u(34),_=u(71),g=u(73),S=u(30),T=u(180),M=u(101),I=u(102),C=u(78),U=u(57),z=u(42),G=u(28),q=u(80),J=u(142),ce=g.PROPER,he=g.CONFIGURABLE,se=J.IteratorPrototype,Q=J.BUGGY_SAFARI_ITERATORS,re=G("iterator"),W="keys",L="values",H="entries",X=function(){return this};h.exports=function($,ie,Ee,be,Pe,ze,je){T(Ee,ie,be);var ve,Se,Ae,Fe=function(oe){if(oe===Pe&&vt)return vt;if(!Q&&oe in Ye)return Ye[oe];switch(oe){case W:case L:case H:return function(){return new Ee(this,oe)}}return function(){return new Ee(this)}},tt=ie+" Iterator",mt=!1,Ye=$.prototype,Ke=Ye[re]||Ye["@@iterator"]||Pe&&Ye[Pe],vt=!Q&&Ke||Fe(Pe),ue=ie=="Array"&&Ye.entries||Ke;if(ue&&(ve=M(ue.call(new $)))!==Object.prototype&&ve.next&&(_||M(ve)===se||(I?I(ve,se):S(ve[re])||z(ve,re,X)),C(ve,tt,!0,!0),_&&(q[tt]=X)),ce&&Pe==L&&Ke&&Ke.name!==L&&(!_&&he?U(Ye,"name",L):(mt=!0,vt=function(){return f(Ke,this)})),Pe)if(Se={values:Fe(L),keys:ze?vt:Fe(W),entries:Fe(H)},je)for(Ae in Se)(Q||mt||!(Ae in Ye))&&z(Ye,Ae,Se[Ae]);else d({target:ie,proto:!0,forced:Q||mt},Se);return _&&!je||Ye[re]===vt||z(Ye,re,vt,{name:Pe}),q[ie]=vt,Se}},function(h,b,u){var d=u(7),f=u(63),_=u(34),g=u(32),S=u(88),T=u(145),M=u(45),I=u(54),C=u(146),U=u(118),z=u(147),G=d.TypeError,q=function(ce,he){this.stopped=ce,this.result=he},J=q.prototype;h.exports=function(ce,he,se){var Q,re,W,L,H,X,$,ie=se&&se.that,Ee=!(!se||!se.AS_ENTRIES),be=!(!se||!se.IS_ITERATOR),Pe=!(!se||!se.INTERRUPTED),ze=f(he,ie),je=function(Se){return Q&&z(Q,"normal",Se),new q(!0,Se)},ve=function(Se){return Ee?(g(Se),Pe?ze(Se[0],Se[1],je):ze(Se[0],Se[1])):Pe?ze(Se,je):ze(Se)};if(be)Q=ce;else{if(!(re=U(ce)))throw G(S(ce)+" is not iterable");if(T(re)){for(W=0,L=M(ce);L>W;W++)if((H=ve(ce[W]))&&I(J,H))return H;return new q(!1)}Q=C(ce,re)}for(X=Q.next;!($=_(X,Q)).done;){try{H=ve($.value)}catch(Se){z(Q,"throw",Se)}if(typeof H=="object"&&H&&I(J,H))return H}return new q(!1)}},function(h,b,u){var d=u(97),f=u(61),_=u(80),g=u(28)("iterator");h.exports=function(S){if(S!=null)return f(S,g)||f(S,"@@iterator")||_[d(S)]}},function(h,b,u){var d=u(7),f=u(54),_=d.TypeError;h.exports=function(g,S){if(f(S,g))return g;throw _("Incorrect invocation")}},function(h,b,u){var d=u(28)("iterator"),f=!1;try{var _=0,g={next:function(){return{done:!!_++}},return:function(){f=!0}};g[d]=function(){return this},Array.from(g,function(){throw 2})}catch{}h.exports=function(S,T){if(!T&&!f)return!1;var M=!1;try{var I={};I[d]=function(){return{next:function(){return{done:M=!0}}}},S(I)}catch{}return M}},function(h,b,u){var d=u(18);h.exports=function(f,_){var g=[][f];return!!g&&d(function(){g.call(null,_||function(){throw 1},1)})}},function(h,b){h.exports=function(u){if(!u.webpackPolyfill){var d=Object.create(u);d.children||(d.children=[]),Object.defineProperty(d,"loaded",{enumerable:!0,get:function(){return d.l}}),Object.defineProperty(d,"id",{enumerable:!0,get:function(){return d.i}}),Object.defineProperty(d,"exports",{enumerable:!0}),d.webpackPolyfill=1}return d}},function(h,b,u){u(19);var d=u(15),f=u(42),_=u(103),g=u(18),S=u(28),T=u(57),M=S("species"),I=RegExp.prototype;h.exports=function(C,U,z,G){var q=S(C),J=!g(function(){var Q={};return Q[q]=function(){return 7},""[C](Q)!=7}),ce=J&&!g(function(){var Q=!1,re=/a/;return C==="split"&&((re={}).constructor={},re.constructor[M]=function(){return re},re.flags="",re[q]=/./[q]),re.exec=function(){return Q=!0,null},re[q](""),!Q});if(!J||!ce||z){var he=d(/./[q]),se=U(q,""[C],function(Q,re,W,L,H){var X=d(Q),$=re.exec;return $===_||$===I.exec?J&&!H?{done:!0,value:he(re,W,L)}:{done:!0,value:X(W,re,L)}:{done:!1}});f(String.prototype,C,se[0]),f(I,q,se[1])}G&&T(I[q],"sham",!0)}},function(h,b,u){var d=u(151).charAt;h.exports=function(f,_,g){return _+(g?d(f,_).length:1)}},function(h,b,u){var d=u(7),f=u(34),_=u(32),g=u(30),S=u(51),T=u(103),M=d.TypeError;h.exports=function(I,C){var U=I.exec;if(g(U)){var z=f(U,I,C);return z!==null&&_(z),z}if(S(I)==="RegExp")return f(T,I,C);throw M("RegExp#exec called on incompatible receiver")}},function(h,b,u){var d=u(76),f=u(34),_=u(15),g=u(123),S=u(18),T=u(32),M=u(30),I=u(59),C=u(94),U=u(39),z=u(44),G=u(124),q=u(61),J=u(201),ce=u(125),he=u(28)("replace"),se=Math.max,Q=Math.min,re=_([].concat),W=_([].push),L=_("".indexOf),H=_("".slice),X="a".replace(/./,"$0")==="$0",$=!!/./[he]&&/./[he]("a","$0")==="";g("replace",function(ie,Ee,be){var Pe=$?"$":"$0";return[function(ze,je){var ve=z(this),Se=ze==null?void 0:q(ze,he);return Se?f(Se,ze,ve,je):f(Ee,U(ve),ze,je)},function(ze,je){var ve=T(this),Se=U(ze);if(typeof je=="string"&&L(je,Pe)===-1&&L(je,"$<")===-1){var Ae=be(Ee,ve,Se,je);if(Ae.done)return Ae.value}var Fe=M(je);Fe||(je=U(je));var tt=ve.global;if(tt){var mt=ve.unicode;ve.lastIndex=0}for(var Ye=[];;){var Ke=ce(ve,Se);if(Ke===null||(W(Ye,Ke),!tt))break;U(Ke[0])===""&&(ve.lastIndex=G(Se,C(ve.lastIndex),mt))}for(var vt,ue="",oe=0,de=0;de<Ye.length;de++){for(var De=U((Ke=Ye[de])[0]),Xe=se(Q(I(Ke.index),Se.length),0),Ie=[],Ot=1;Ot<Ke.length;Ot++)W(Ie,(vt=Ke[Ot])===void 0?vt:String(vt));var Pt=Ke.groups;if(Fe){var xt=re([De],Ie,Xe,Se);Pt!==void 0&&W(xt,Pt);var ht=U(d(je,void 0,xt))}else ht=J(De,Se,Xe,Ie,Pt,je);Xe>=oe&&(ue+=H(Se,oe,Xe)+ht,oe=Xe+De.length)}return ue+H(Se,oe)}]},!!S(function(){var ie=/./;return ie.exec=function(){var Ee=[];return Ee.groups={a:"7"},Ee},"".replace(ie,"$<a>")!=="7"})||!X||$)},function(h,b,u){var d=u(16),f=Math.hypot,_=Math.abs,g=Math.sqrt;d({target:"Math",stat:!0,forced:!!f&&f(1/0,NaN)!==1/0},{hypot:function(S,T){for(var M,I,C=0,U=0,z=arguments.length,G=0;U<z;)G<(M=_(arguments[U++]))?(C=C*(I=G/M)*I+1,G=M):C+=M>0?(I=M/G)*I:M;return G===1/0?1/0:G*g(C)}})},function(h,b,u){var d=u(51),f=u(7);h.exports=d(f.process)=="process"},function(h,b,u){u(16)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(h,b,u){(function(d,f){var _;/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var g,S="Expected a function",T="__lodash_hash_undefined__",M="__lodash_placeholder__",I=16,C=32,U=64,z=128,G=256,q=1/0,J=9007199254740991,ce=NaN,he=4294967295,se=[["ary",z],["bind",1],["bindKey",2],["curry",8],["curryRight",I],["flip",512],["partial",C],["partialRight",U],["rearg",G]],Q="[object Arguments]",re="[object Array]",W="[object Boolean]",L="[object Date]",H="[object Error]",X="[object Function]",$="[object GeneratorFunction]",ie="[object Map]",Ee="[object Number]",be="[object Object]",Pe="[object Promise]",ze="[object RegExp]",je="[object Set]",ve="[object String]",Se="[object Symbol]",Ae="[object WeakMap]",Fe="[object ArrayBuffer]",tt="[object DataView]",mt="[object Float32Array]",Ye="[object Float64Array]",Ke="[object Int8Array]",vt="[object Int16Array]",ue="[object Int32Array]",oe="[object Uint8Array]",de="[object Uint8ClampedArray]",De="[object Uint16Array]",Xe="[object Uint32Array]",Ie=/\b__p \+= '';/g,Ot=/\b(__p \+=) '' \+/g,Pt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,xt=/&(?:amp|lt|gt|quot|#39);/g,ht=/[&<>"']/g,ke=RegExp(xt.source),at=RegExp(ht.source),le=/<%-([\s\S]+?)%>/g,nt=/<%([\s\S]+?)%>/g,Ct=/<%=([\s\S]+?)%>/g,rn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Rt=/^\w*$/,Kt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,fn=/[\\^$.*+?()[\]{}|]/g,mn=RegExp(fn.source),Dt=/^\s+/,Mn=/\s/,K=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,pe=/\{\n\/\* \[wrapped with (.+)\] \*/,ne=/,? & /,me=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,We=/[()=,{}\[\]\/\s]/,Ve=/\\(\\)?/g,st=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ft=/\w*$/,Hn=/^[-+]0x[0-9a-f]+$/i,er=/^0b[01]+$/i,Nn=/^\[object .+?Constructor\]$/,zn=/^0o[0-7]+$/i,rt=/^(?:0|[1-9]\d*)$/,gt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,wt=/($^)/,Mt=/['\n\r\u2028\u2029\\]/g,sn="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",jn="\\u2700-\\u27bf",ho="a-z\\xdf-\\xf6\\xf8-\\xff",Jr="A-Z\\xc0-\\xd6\\xd8-\\xde",yo="\\ufe0e\\ufe0f",ei="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ts="['’]",Ra="[\\ud800-\\udfff]",Rr="["+ei+"]",xi="["+sn+"]",ut="\\d+",ns="[\\u2700-\\u27bf]",Ia="["+ho+"]",La="[^\\ud800-\\udfff"+ei+ut+jn+ho+Jr+"]",yr="\\ud83c[\\udffb-\\udfff]",Sr="[^\\ud800-\\udfff]",Ki="(?:\\ud83c[\\udde6-\\uddff]){2}",Yr="[\\ud800-\\udbff][\\udc00-\\udfff]",Ir="["+Jr+"]",Wr="(?:"+Ia+"|"+La+")",za="(?:"+Ir+"|"+La+")",Ba="(?:['’](?:d|ll|m|re|s|t|ve))?",zu="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ei="(?:"+xi+"|"+yr+")?",Bu="[\\ufe0e\\ufe0f]?",Fa=Bu+Ei+("(?:\\u200d(?:"+[Sr,Ki,Yr].join("|")+")"+Bu+Ei+")*"),rs="(?:"+[ns,Ki,Yr].join("|")+")"+Fa,No="(?:"+[Sr+xi+"?",xi,Ki,Yr,Ra].join("|")+")",Fu=RegExp(ts,"g"),vo=RegExp(xi,"g"),Ua=RegExp(yr+"(?="+yr+")|"+No+Fa,"g"),Zi=RegExp([Ir+"?"+Ia+"+"+Ba+"(?="+[Rr,Ir,"$"].join("|")+")",za+"+"+zu+"(?="+[Rr,Ir+Wr,"$"].join("|")+")",Ir+"?"+Wr+"+"+Ba,Ir+"+"+zu,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ut,rs].join("|"),"g"),Xa=RegExp("[\\u200d\\ud800-\\udfff"+sn+yo+"]"),Ha=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,os=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Uu=-1,an={};an[mt]=an[Ye]=an[Ke]=an[vt]=an[ue]=an[oe]=an[de]=an[De]=an[Xe]=!0,an[Q]=an[re]=an[Fe]=an[W]=an[tt]=an[L]=an[H]=an[X]=an[ie]=an[Ee]=an[be]=an[ze]=an[je]=an[ve]=an[Ae]=!1;var on={};on[Q]=on[re]=on[Fe]=on[tt]=on[W]=on[L]=on[mt]=on[Ye]=on[Ke]=on[vt]=on[ue]=on[ie]=on[Ee]=on[be]=on[ze]=on[je]=on[ve]=on[Se]=on[oe]=on[de]=on[De]=on[Xe]=!0,on[H]=on[X]=on[Ae]=!1;var Xu={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ti=parseFloat,go=parseInt,Ga=typeof d=="object"&&d&&d.Object===Object&&d,Hu=typeof self=="object"&&self&&self.Object===Object&&self,Tn=Ga||Hu||Function("return this")(),Ya=b&&!b.nodeType&&b,ji=Ya&&typeof f=="object"&&f&&!f.nodeType&&f,Wa=ji&&ji.exports===Ya,qi=Wa&&Ga.process,tr=function(){try{var _e=ji&&ji.require&&ji.require("util").types;return _e||qi&&qi.binding&&qi.binding("util")}catch{}}(),Va=tr&&tr.isArrayBuffer,Gu=tr&&tr.isDate,$a=tr&&tr.isMap,Ji=tr&&tr.isRegExp,ni=tr&&tr.isSet,Qr=tr&&tr.isTypedArray;function dn(_e,Me,Re){switch(Re.length){case 0:return _e.call(Me);case 1:return _e.call(Me,Re[0]);case 2:return _e.call(Me,Re[0],Re[1]);case 3:return _e.call(Me,Re[0],Re[1],Re[2])}return _e.apply(Me,Re)}function Yu(_e,Me,Re,qe){for(var It=-1,Wt=_e==null?0:_e.length;++It<Wt;){var yn=_e[It];Me(qe,yn,Re(yn),_e)}return qe}function vr(_e,Me){for(var Re=-1,qe=_e==null?0:_e.length;++Re<qe&&Me(_e[Re],Re,_e)!==!1;);return _e}function Wu(_e,Me){for(var Re=_e==null?0:_e.length;Re--&&Me(_e[Re],Re,_e)!==!1;);return _e}function Vu(_e,Me){for(var Re=-1,qe=_e==null?0:_e.length;++Re<qe;)if(!Me(_e[Re],Re,_e))return!1;return!0}function cr(_e,Me){for(var Re=-1,qe=_e==null?0:_e.length,It=0,Wt=[];++Re<qe;){var yn=_e[Re];Me(yn,Re,_e)&&(Wt[It++]=yn)}return Wt}function gr(_e,Me){return!!(_e!=null&&_e.length)&&ri(_e,Me,0)>-1}function Ka(_e,Me,Re){for(var qe=-1,It=_e==null?0:_e.length;++qe<It;)if(Re(Me,_e[qe]))return!0;return!1}function Qt(_e,Me){for(var Re=-1,qe=_e==null?0:_e.length,It=Array(qe);++Re<qe;)It[Re]=Me(_e[Re],Re,_e);return It}function Gn(_e,Me){for(var Re=-1,qe=Me.length,It=_e.length;++Re<qe;)_e[It+Re]=Me[Re];return _e}function Qi(_e,Me,Re,qe){var It=-1,Wt=_e==null?0:_e.length;for(qe&&Wt&&(Re=_e[++It]);++It<Wt;)Re=Me(Re,_e[It],It,_e);return Re}function $u(_e,Me,Re,qe){var It=_e==null?0:_e.length;for(qe&&It&&(Re=_e[--It]);It--;)Re=Me(Re,_e[It],It,_e);return Re}function Za(_e,Me){for(var Re=-1,qe=_e==null?0:_e.length;++Re<qe;)if(Me(_e[Re],Re,_e))return!0;return!1}var ea=mr("length");function eo(_e,Me,Re){var qe;return Re(_e,function(It,Wt,yn){if(Me(It,Wt,yn))return qe=Wt,!1}),qe}function bo(_e,Me,Re,qe){for(var It=_e.length,Wt=Re+(qe?1:-1);qe?Wt--:++Wt<It;)if(Me(_e[Wt],Wt,_e))return Wt;return-1}function ri(_e,Me,Re){return Me==Me?function(qe,It,Wt){for(var yn=Wt-1,v=qe.length;++yn<v;)if(qe[yn]===It)return yn;return-1}(_e,Me,Re):bo(_e,mo,Re)}function br(_e,Me,Re,qe){for(var It=Re-1,Wt=_e.length;++It<Wt;)if(qe(_e[It],Me))return It;return-1}function mo(_e){return _e!=_e}function Zt(_e,Me){var Re=_e==null?0:_e.length;return Re?ta(_e,Me)/Re:ce}function mr(_e){return function(Me){return Me==null?g:Me[_e]}}function to(_e){return function(Me){return _e==null?g:_e[Me]}}function Zn(_e,Me,Re,qe,It){return It(_e,function(Wt,yn,v){Re=qe?(qe=!1,Wt):Me(Re,Wt,yn,v)}),Re}function ta(_e,Me){for(var Re,qe=-1,It=_e.length;++qe<It;){var Wt=Me(_e[qe]);Wt!==g&&(Re=Re===g?Wt:Re+Wt)}return Re}function Si(_e,Me){for(var Re=-1,qe=Array(_e);++Re<_e;)qe[Re]=Me(Re);return qe}function qa(_e){return _e&&_e.slice(0,Or(_e)+1).replace(Dt,"")}function Sn(_e){return function(Me){return _e(Me)}}function na(_e,Me){return Qt(Me,function(Re){return _e[Re]})}function Oo(_e,Me){return _e.has(Me)}function Lr(_e,Me){for(var Re=-1,qe=_e.length;++Re<qe&&ri(Me,_e[Re],0)>-1;);return Re}function Ja(_e,Me){for(var Re=_e.length;Re--&&ri(Me,_e[Re],0)>-1;);return Re}function is(_e,Me){for(var Re=_e.length,qe=0;Re--;)_e[Re]===Me&&++qe;return qe}var Qa=to({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),Bn=to({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function oi(_e){return"\\"+Xu[_e]}function no(_e){return Xa.test(_e)}function sr(_e){var Me=-1,Re=Array(_e.size);return _e.forEach(function(qe,It){Re[++Me]=[It,qe]}),Re}function eu(_e,Me){return function(Re){return _e(Me(Re))}}function Pr(_e,Me){for(var Re=-1,qe=_e.length,It=0,Wt=[];++Re<qe;){var yn=_e[Re];yn!==Me&&yn!==M||(_e[Re]=M,Wt[It++]=Re)}return Wt}function Co(_e){var Me=-1,Re=Array(_e.size);return _e.forEach(function(qe){Re[++Me]=qe}),Re}function ra(_e){var Me=-1,Re=Array(_e.size);return _e.forEach(function(qe){Re[++Me]=[qe,qe]}),Re}function ro(_e){return no(_e)?function(Me){for(var Re=Ua.lastIndex=0;Ua.test(Me);)++Re;return Re}(_e):ea(_e)}function Ar(_e){return no(_e)?function(Me){return Me.match(Ua)||[]}(_e):function(Me){return Me.split("")}(_e)}function Or(_e){for(var Me=_e.length;Me--&&Mn.test(_e.charAt(Me)););return Me}var zr=to({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),oo=function _e(Me){var Re,qe=(Me=Me==null?Tn:oo.defaults(Tn.Object(),Me,oo.pick(Tn,os))).Array,It=Me.Date,Wt=Me.Error,yn=Me.Function,v=Me.Math,m=Me.Object,E=Me.RegExp,N=Me.String,Y=Me.TypeError,fe=qe.prototype,xe=yn.prototype,Be=m.prototype,ot=Me["__core-js_shared__"],Ht=xe.toString,Qe=Be.hasOwnProperty,pn=0,Lt=(Re=/[^.]+$/.exec(ot&&ot.keys&&ot.keys.IE_PROTO||""))?"Symbol(src)_1."+Re:"",tn=Be.toString,Br=Ht.call(m),On=Tn._,_r=E("^"+Ht.call(Qe).replace(fn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_o=Wa?Me.Buffer:g,wo=Me.Symbol,Pi=Me.Uint8Array,tu=_o?_o.allocUnsafe:g,Ro=eu(m.getPrototypeOf,m),oa=m.create,lr=Be.propertyIsEnumerable,Ai=fe.splice,ii=wo?wo.isConcatSpreadable:g,Io=wo?wo.iterator:g,Lo=wo?wo.toStringTag:g,nu=function(){try{var a=pi(m,"defineProperty");return a({},"",{}),a}catch{}}(),$p=Me.clearTimeout!==Tn.clearTimeout&&Me.clearTimeout,Kp=It&&It.now!==Tn.Date.now&&It.now,Xl=Me.setTimeout!==Tn.setTimeout&&Me.setTimeout,Ku=v.ceil,ia=v.floor,as=m.getOwnPropertySymbols,Zp=_o?_o.isBuffer:g,Hl=Me.isFinite,qp=fe.join,Gl=eu(m.keys,m),qn=v.max,fr=v.min,Zu=It.now,qu=Me.parseInt,Ju=v.random,Jp=fe.reverse,aa=pi(Me,"DataView"),xo=pi(Me,"Map"),us=pi(Me,"Promise"),ki=pi(Me,"Set"),ua=pi(Me,"WeakMap"),ru=pi(m,"create"),Qu=ua&&new ua,ca={},Qp=Dr(aa),Yl=Dr(xo),eh=Dr(us),th=Dr(ki),Wl=Dr(ua),ec=wo?wo.prototype:g,Jn=ec?ec.valueOf:g,Vl=ec?ec.toString:g;function R(a){if(kn(a)&&!Bt(a)&&!(a instanceof Jt)){if(a instanceof Vr)return a;if(Qe.call(a,"__wrapped__"))return Pf(a)}return new Vr(a)}var sa=function(){function a(){}return function(s){if(!An(s))return{};if(oa)return oa(s);a.prototype=s;var y=new a;return a.prototype=g,y}}();function ou(){}function Vr(a,s){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!s,this.__index__=0,this.__values__=g}function Jt(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=he,this.__views__=[]}function Ti(a){var s=-1,y=a==null?0:a.length;for(this.clear();++s<y;){var x=a[s];this.set(x[0],x[1])}}function hn(a){var s=-1,y=a==null?0:a.length;for(this.clear();++s<y;){var x=a[s];this.set(x[0],x[1])}}function Eo(a){var s=-1,y=a==null?0:a.length;for(this.clear();++s<y;){var x=a[s];this.set(x[0],x[1])}}function ai(a){var s=-1,y=a==null?0:a.length;for(this.__data__=new Eo;++s<y;)this.add(a[s])}function $r(a){var s=this.__data__=new hn(a);this.size=s.size}function cs(a,s){var y=Bt(a),x=!y&&Ii(a),k=!y&&!x&&Ho(a),B=!y&&!x&&!k&&hi(a),ee=y||x||k||B,ae=ee?Si(a.length,N):[],Oe=ae.length;for(var V in a)!s&&!Qe.call(a,V)||ee&&(V=="length"||k&&(V=="offset"||V=="parent")||B&&(V=="buffer"||V=="byteLength"||V=="byteOffset")||ko(V,Oe))||ae.push(V);return ae}function ss(a){var s=a.length;return s?a[gs(0,s-1)]:g}function $l(a,s){return Mi(Tr(a),ui(s,0,a.length))}function Kl(a){return Mi(Tr(a))}function tc(a,s,y){(y!==g&&!En(a[s],y)||y===g&&!(s in a))&&jo(a,s,y)}function la(a,s,y){var x=a[s];Qe.call(a,s)&&En(x,y)&&(y!==g||s in a)||jo(a,s,y)}function iu(a,s){for(var y=a.length;y--;)if(En(a[y][0],s))return y;return-1}function Zl(a,s,y,x){return _n(a,function(k,B,ee){s(x,k,y(k),ee)}),x}function ls(a,s){return a&&So(s,Vn(s),a)}function jo(a,s,y){s=="__proto__"&&nu?nu(a,s,{configurable:!0,enumerable:!0,value:y,writable:!0}):a[s]=y}function nc(a,s){for(var y=-1,x=s.length,k=qe(x),B=a==null;++y<x;)k[y]=B?g:bu(a,s[y]);return k}function ui(a,s,y){return a==a&&(y!==g&&(a=a<=y?a:y),s!==g&&(a=a>=s?a:s)),a}function Fr(a,s,y,x,k,B){var ee,ae=1&s,Oe=2&s,V=4&s;if(y&&(ee=k?y(a,x,k,B):y(a)),ee!==g)return ee;if(!An(a))return a;var Ne=Bt(a);if(Ne){if(ee=function(Le){var He=Le.length,At=new Le.constructor(He);return He&&typeof Le[0]=="string"&&Qe.call(Le,"index")&&(At.index=Le.index,At.input=Le.input),At}(a),!ae)return Tr(a,ee)}else{var Ue=ir(a),ct=Ue==X||Ue==$;if(Ho(a))return Es(a,ae);if(Ue==be||Ue==Q||ct&&!k){if(ee=Oe||ct?{}:Ds(a),!ae)return Oe?function(Le,He){return So(Le,Te(Le),He)}(a,function(Le,He){return Le&&So(He,rr(He),Le)}(ee,a)):function(Le,He){return So(Le,ks(Le),He)}(a,ls(ee,a))}else{if(!on[Ue])return k?a:{};ee=function(Le,He,At){var it=Le.constructor;switch(He){case Fe:return js(Le);case W:case L:return new it(+Le);case tt:return function(Nt,$t){var dt=$t?js(Nt.buffer):Nt.buffer;return new Nt.constructor(dt,Nt.byteOffset,Nt.byteLength)}(Le,At);case mt:case Ye:case Ke:case vt:case ue:case oe:case de:case De:case Xe:return gn(Le,At);case ie:return new it;case Ee:case ve:return new it(Le);case ze:return function(Nt){var $t=new Nt.constructor(Nt.source,Ft.exec(Nt));return $t.lastIndex=Nt.lastIndex,$t}(Le);case je:return new it;case Se:return kt=Le,Jn?m(Jn.call(kt)):{}}var kt}(a,Ue,ae)}}B||(B=new $r);var pt=B.get(a);if(pt)return pt;B.set(a,ee),xa(a)?a.forEach(function(Le){ee.add(Fr(Le,s,y,Le,a,B))}):Bf(a)&&a.forEach(function(Le,He){ee.set(He,Fr(Le,s,y,He,a,B))});var jt=Ne?g:(V?Oe?As:lu:Oe?rr:Vn)(a);return vr(jt||a,function(Le,He){jt&&(Le=a[He=Le]),la(ee,He,Fr(Le,s,y,He,a,B))}),ee}function fs(a,s,y){var x=y.length;if(a==null)return!x;for(a=m(a);x--;){var k=y[x],B=s[k],ee=a[k];if(ee===g&&!(k in a)||!B(ee))return!1}return!0}function ps(a,s,y){if(typeof a!="function")throw new Y(S);return Oa(function(){a.apply(g,y)},s)}function zo(a,s,y,x){var k=-1,B=gr,ee=!0,ae=a.length,Oe=[],V=s.length;if(!ae)return Oe;y&&(s=Qt(s,Sn(y))),x?(B=Ka,ee=!1):s.length>=200&&(B=Oo,ee=!1,s=new ai(s));e:for(;++k<ae;){var Ne=a[k],Ue=y==null?Ne:y(Ne);if(Ne=x||Ne!==0?Ne:0,ee&&Ue==Ue){for(var ct=V;ct--;)if(s[ct]===Ue)continue e;Oe.push(Ne)}else B(s,Ue,x)||Oe.push(Ne)}return Oe}R.templateSettings={escape:le,evaluate:nt,interpolate:Ct,variable:"",imports:{_:R}},R.prototype=ou.prototype,R.prototype.constructor=R,Vr.prototype=sa(ou.prototype),Vr.prototype.constructor=Vr,Jt.prototype=sa(ou.prototype),Jt.prototype.constructor=Jt,Ti.prototype.clear=function(){this.__data__=ru?ru(null):{},this.size=0},Ti.prototype.delete=function(a){var s=this.has(a)&&delete this.__data__[a];return this.size-=s?1:0,s},Ti.prototype.get=function(a){var s=this.__data__;if(ru){var y=s[a];return y===T?g:y}return Qe.call(s,a)?s[a]:g},Ti.prototype.has=function(a){var s=this.__data__;return ru?s[a]!==g:Qe.call(s,a)},Ti.prototype.set=function(a,s){var y=this.__data__;return this.size+=this.has(a)?0:1,y[a]=ru&&s===g?T:s,this},hn.prototype.clear=function(){this.__data__=[],this.size=0},hn.prototype.delete=function(a){var s=this.__data__,y=iu(s,a);return!(y<0)&&(y==s.length-1?s.pop():Ai.call(s,y,1),--this.size,!0)},hn.prototype.get=function(a){var s=this.__data__,y=iu(s,a);return y<0?g:s[y][1]},hn.prototype.has=function(a){return iu(this.__data__,a)>-1},hn.prototype.set=function(a,s){var y=this.__data__,x=iu(y,a);return x<0?(++this.size,y.push([a,s])):y[x][1]=s,this},Eo.prototype.clear=function(){this.size=0,this.__data__={hash:new Ti,map:new(xo||hn),string:new Ti}},Eo.prototype.delete=function(a){var s=ba(this,a).delete(a);return this.size-=s?1:0,s},Eo.prototype.get=function(a){return ba(this,a).get(a)},Eo.prototype.has=function(a){return ba(this,a).has(a)},Eo.prototype.set=function(a,s){var y=ba(this,a),x=y.size;return y.set(a,s),this.size+=y.size==x?0:1,this},ai.prototype.add=ai.prototype.push=function(a){return this.__data__.set(a,T),this},ai.prototype.has=function(a){return this.__data__.has(a)},$r.prototype.clear=function(){this.__data__=new hn,this.size=0},$r.prototype.delete=function(a){var s=this.__data__,y=s.delete(a);return this.size=s.size,y},$r.prototype.get=function(a){return this.__data__.get(a)},$r.prototype.has=function(a){return this.__data__.has(a)},$r.prototype.set=function(a,s){var y=this.__data__;if(y instanceof hn){var x=y.__data__;if(!xo||x.length<199)return x.push([a,s]),this.size=++y.size,this;y=this.__data__=new Eo(x)}return y.set(a,s),this.size=y.size,this};var _n=df(lt),ql=df(vn,!0);function Jl(a,s){var y=!0;return _n(a,function(x,k,B){return y=!!s(x,k,B)}),y}function Cn(a,s,y){for(var x=-1,k=a.length;++x<k;){var B=a[x],ee=s(B);if(ee!=null&&(ae===g?ee==ee&&!ar(ee):y(ee,ae)))var ae=ee,Oe=B}return Oe}function un(a,s){var y=[];return _n(a,function(x,k,B){s(x,k,B)&&y.push(x)}),y}function nr(a,s,y,x,k){var B=-1,ee=a.length;for(y||(y=xf),k||(k=[]);++B<ee;){var ae=a[B];s>0&&y(ae)?s>1?nr(ae,s-1,y,x,k):Gn(k,ae):x||(k[k.length]=ae)}return k}var Gt=yf(),Fn=yf(!0);function lt(a,s){return a&&Gt(a,s,Vn)}function vn(a,s){return a&&Fn(a,s,Vn)}function rc(a,s){return cr(s,function(y){return Go(a[y])})}function Bo(a,s){for(var y=0,x=(s=si(s,a)).length;a!=null&&y<x;)a=a[Yn(s[y++])];return y&&y==x?a:g}function hs(a,s,y){var x=s(a);return Bt(a)?x:Gn(x,y(a))}function Pn(a){return a==null?a===g?"[object Undefined]":"[object Null]":Lo&&Lo in m(a)?function(s){var y=Qe.call(s,Lo),x=s[Lo];try{s[Lo]=g;var k=!0}catch{}var B=tn.call(s);return k&&(y?s[Lo]=x:delete s[Lo]),B}(a):function(s){return tn.call(s)}(a)}function Dn(a,s){return a>s}function Ql(a,s){return a!=null&&Qe.call(a,s)}function ef(a,s){return a!=null&&s in m(a)}function oc(a,s,y){for(var x=y?Ka:gr,k=a[0].length,B=a.length,ee=B,ae=qe(B),Oe=1/0,V=[];ee--;){var Ne=a[ee];ee&&s&&(Ne=Qt(Ne,Sn(s))),Oe=fr(Ne.length,Oe),ae[ee]=!y&&(s||k>=120&&Ne.length>=120)?new ai(ee&&Ne):g}Ne=a[0];var Ue=-1,ct=ae[0];e:for(;++Ue<k&&V.length<Oe;){var pt=Ne[Ue],jt=s?s(pt):pt;if(pt=y||pt!==0?pt:0,!(ct?Oo(ct,jt):x(V,jt,y))){for(ee=B;--ee;){var Le=ae[ee];if(!(Le?Oo(Le,jt):x(a[ee],jt,y)))continue e}ct&&ct.push(jt),V.push(pt)}}return V}function fa(a,s,y){var x=(a=Rs(a,s=si(s,a)))==null?a:a[Yn(bn(s))];return x==null?g:dn(x,a,y)}function ds(a){return kn(a)&&Pn(a)==Q}function pa(a,s,y,x,k){return a===s||(a==null||s==null||!kn(a)&&!kn(s)?a!=a&&s!=s:function(B,ee,ae,Oe,V,Ne){var Ue=Bt(B),ct=Bt(ee),pt=Ue?re:ir(B),jt=ct?re:ir(ee),Le=(pt=pt==Q?be:pt)==be,He=(jt=jt==Q?be:jt)==be,At=pt==jt;if(At&&Ho(B)){if(!Ho(ee))return!1;Ue=!0,Le=!1}if(At&&!Le)return Ne||(Ne=new $r),Ue||hi(B)?wf(B,ee,ae,Oe,V,Ne):function(dt,St,$n,ur,uo,Qn,Do){switch($n){case tt:if(dt.byteLength!=St.byteLength||dt.byteOffset!=St.byteOffset)return!1;dt=dt.buffer,St=St.buffer;case Fe:return!(dt.byteLength!=St.byteLength||!Qn(new Pi(dt),new Pi(St)));case W:case L:case Ee:return En(+dt,+St);case H:return dt.name==St.name&&dt.message==St.message;case ze:case ve:return dt==St+"";case ie:var co=sr;case je:var Vo=1&ur;if(co||(co=Co),dt.size!=St.size&&!Vo)return!1;var $o=Do.get(dt);if($o)return $o==St;ur|=2,Do.set(dt,St);var Bi=wf(co(dt),co(St),ur,uo,Qn,Do);return Do.delete(dt),Bi;case Se:if(Jn)return Jn.call(dt)==Jn.call(St)}return!1}(B,ee,pt,ae,Oe,V,Ne);if(!(1&ae)){var it=Le&&Qe.call(B,"__wrapped__"),kt=He&&Qe.call(ee,"__wrapped__");if(it||kt){var Nt=it?B.value():B,$t=kt?ee.value():ee;return Ne||(Ne=new $r),V(Nt,$t,ae,Oe,Ne)}}return At?(Ne||(Ne=new $r),function(dt,St,$n,ur,uo,Qn){var Do=1&$n,co=lu(dt),Vo=co.length,$o=lu(St).length;if(Vo!=$o&&!Do)return!1;for(var Bi=Vo;Bi--;){var Ko=co[Bi];if(!(Do?Ko in St:Qe.call(St,Ko)))return!1}var ju=Qn.get(dt),Xr=Qn.get(St);if(ju&&Xr)return ju==St&&Xr==dt;var Lc=!0;Qn.set(dt,St),Qn.set(St,dt);for(var Hr=Do;++Bi<Vo;){var yt=dt[Ko=co[Bi]],Su=St[Ko];if(ur)var Sl=Do?ur(Su,yt,Ko,St,dt,Qn):ur(yt,Su,Ko,dt,St,Qn);if(!(Sl===g?yt===Su||uo(yt,Su,$n,ur,Qn):Sl)){Lc=!1;break}Hr||(Hr=Ko=="constructor")}if(Lc&&!Hr){var Pu=dt.constructor,zc=St.constructor;Pu==zc||!("constructor"in dt)||!("constructor"in St)||typeof Pu=="function"&&Pu instanceof Pu&&typeof zc=="function"&&zc instanceof zc||(Lc=!1)}return Qn.delete(dt),Qn.delete(St),Lc}(B,ee,ae,Oe,V,Ne)):!1}(a,s,y,x,pa,k))}function ic(a,s,y,x){var k=y.length,B=k,ee=!x;if(a==null)return!B;for(a=m(a);k--;){var ae=y[k];if(ee&&ae[2]?ae[1]!==a[ae[0]]:!(ae[0]in a))return!1}for(;++k<B;){var Oe=(ae=y[k])[0],V=a[Oe],Ne=ae[1];if(ee&&ae[2]){if(V===g&&!(Oe in a))return!1}else{var Ue=new $r;if(x)var ct=x(V,Ne,Oe,a,s,Ue);if(!(ct===g?pa(Ne,V,3,x,Ue):ct))return!1}}return!0}function ha(a){return!(!An(a)||(s=a,Lt&&Lt in s))&&(Go(a)?_r:Nn).test(Dr(a));var s}function ys(a){return typeof a=="function"?a:a==null?hr:typeof a=="object"?Bt(a)?nf(a[0],a[1]):tf(a):xl(a)}function Fo(a){if(!ma(a))return Gl(a);var s=[];for(var y in m(a))Qe.call(a,y)&&y!="constructor"&&s.push(y);return s}function nh(a){if(!An(a))return function(k){var B=[];if(k!=null)for(var ee in m(k))B.push(ee);return B}(a);var s=ma(a),y=[];for(var x in a)(x!="constructor"||!s&&Qe.call(a,x))&&y.push(x);return y}function Uo(a,s){return a<s}function Kr(a,s){var y=-1,x=wr(a)?qe(a.length):[];return _n(a,function(k,B,ee){x[++y]=s(k,B,ee)}),x}function tf(a){var s=bc(a);return s.length==1&&s[0][2]?Ns(s[0][0],s[0][1]):function(y){return y===a||ic(y,a,s)}}function nf(a,s){return mc(a)&&Ms(s)?Ns(Yn(a),s):function(y){var x=bu(y,a);return x===g&&x===s?mu(y,a):pa(s,x,3)}}function ac(a,s,y,x,k){a!==s&&Gt(s,function(B,ee){if(k||(k=new $r),An(B))(function(Oe,V,Ne,Ue,ct,pt,jt){var Le=_c(Oe,Ne),He=_c(V,Ne),At=jt.get(He);if(At)return void tc(Oe,Ne,At);var it=pt?pt(Le,He,Ne+"",Oe,V,jt):g,kt=it===g;if(kt){var Nt=Bt(He),$t=!Nt&&Ho(He),dt=!Nt&&!$t&&hi(He);it=He,Nt||$t||dt?Bt(Le)?it=Le:Rn(Le)?it=Tr(Le):$t?(kt=!1,it=Es(He,!0)):dt?(kt=!1,it=gn(He,!0)):it=[]:Yo(He)||Ii(He)?(it=Le,Ii(Le)?it=il(Le):An(Le)&&!Go(Le)||(it=Ds(He))):kt=!1}kt&&(jt.set(He,it),ct(it,He,Ue,pt,jt),jt.delete(He)),tc(Oe,Ne,it)})(a,s,ee,y,ac,x,k);else{var ae=x?x(_c(a,ee),B,ee+"",a,s,k):g;ae===g&&(ae=B),tc(a,ee,ae)}},rr)}function rf(a,s){var y=a.length;if(y)return ko(s+=s<0?y:0,y)?a[s]:g}function of(a,s,y){s=s.length?Qt(s,function(B){return Bt(B)?function(ee){return Bo(ee,B.length===1?B[0]:B)}:B}):[hr];var x=-1;s=Qt(s,Sn(_t()));var k=Kr(a,function(B,ee,ae){var Oe=Qt(s,function(V){return V(B)});return{criteria:Oe,index:++x,value:B}});return function(B,ee){var ae=B.length;for(B.sort(ee);ae--;)B[ae]=B[ae].value;return B}(k,function(B,ee){return function(ae,Oe,V){for(var Ne=-1,Ue=ae.criteria,ct=Oe.criteria,pt=Ue.length,jt=V.length;++Ne<pt;){var Le=hf(Ue[Ne],ct[Ne]);if(Le)return Ne>=jt?Le:Le*(V[Ne]=="desc"?-1:1)}return ae.index-Oe.index}(B,ee,y)})}function af(a,s,y){for(var x=-1,k=s.length,B={};++x<k;){var ee=s[x],ae=Bo(a,ee);y(ae,ee)&&ya(B,si(ee,a),ae)}return B}function vs(a,s,y,x){var k=x?br:ri,B=-1,ee=s.length,ae=a;for(a===s&&(s=Tr(s)),y&&(ae=Qt(a,Sn(y)));++B<ee;)for(var Oe=0,V=s[B],Ne=y?y(V):V;(Oe=k(ae,Ne,Oe,x))>-1;)ae!==a&&Ai.call(ae,Oe,1),Ai.call(a,Oe,1);return a}function da(a,s){for(var y=a?s.length:0,x=y-1;y--;){var k=s[y];if(y==x||k!==B){var B=k;ko(k)?Ai.call(a,k,1):sc(a,k)}}return a}function gs(a,s){return a+ia(Ju()*(s-a+1))}function uc(a,s){var y="";if(!a||s<1||s>J)return y;do s%2&&(y+=a),(s=ia(s/2))&&(a+=a);while(s);return y}function Yt(a,s){return wc(Cs(a,s,hr),a+"")}function rh(a){return ss(yi(a))}function bs(a,s){var y=yi(a);return Mi(y,ui(s,0,y.length))}function ya(a,s,y,x){if(!An(a))return a;for(var k=-1,B=(s=si(s,a)).length,ee=B-1,ae=a;ae!=null&&++k<B;){var Oe=Yn(s[k]),V=y;if(Oe==="__proto__"||Oe==="constructor"||Oe==="prototype")return a;if(k!=ee){var Ne=ae[Oe];(V=x?x(Ne,Oe,ae):g)===g&&(V=An(Ne)?Ne:ko(s[k+1])?[]:{})}la(ae,Oe,V),ae=ae[Oe]}return a}var uf=Qu?function(a,s){return Qu.set(a,s),a}:hr,oh=nu?function(a,s){return nu(a,"toString",{configurable:!0,enumerable:!1,value:Nc(s),writable:!0})}:hr;function ih(a){return Mi(yi(a))}function Zr(a,s,y){var x=-1,k=a.length;s<0&&(s=-s>k?0:k+s),(y=y>k?k:y)<0&&(y+=k),k=s>y?0:y-s>>>0,s>>>=0;for(var B=qe(k);++x<k;)B[x]=a[x+s];return B}function ms(a,s){var y;return _n(a,function(x,k,B){return!(y=s(x,k,B))}),!!y}function cc(a,s,y){var x=0,k=a==null?x:a.length;if(typeof s=="number"&&s==s&&k<=2147483647){for(;x<k;){var B=x+k>>>1,ee=a[B];ee!==null&&!ar(ee)&&(y?ee<=s:ee<s)?x=B+1:k=B}return k}return Os(a,s,hr,y)}function Os(a,s,y,x){var k=0,B=a==null?0:a.length;if(B===0)return 0;for(var ee=(s=y(s))!=s,ae=s===null,Oe=ar(s),V=s===g;k<B;){var Ne=ia((k+B)/2),Ue=y(a[Ne]),ct=Ue!==g,pt=Ue===null,jt=Ue==Ue,Le=ar(Ue);if(ee)var He=x||jt;else He=V?jt&&(x||ct):ae?jt&&ct&&(x||!pt):Oe?jt&&ct&&!pt&&(x||!Le):!pt&&!Le&&(x?Ue<=s:Ue<s);He?k=Ne+1:B=Ne}return fr(B,4294967294)}function cf(a,s){for(var y=-1,x=a.length,k=0,B=[];++y<x;){var ee=a[y],ae=s?s(ee):ee;if(!y||!En(ae,Oe)){var Oe=ae;B[k++]=ee===0?0:ee}}return B}function _s(a){return typeof a=="number"?a:ar(a)?ce:+a}function kr(a){if(typeof a=="string")return a;if(Bt(a))return Qt(a,kr)+"";if(ar(a))return Vl?Vl.call(a):"";var s=a+"";return s=="0"&&1/a==-1/0?"-0":s}function ci(a,s,y){var x=-1,k=gr,B=a.length,ee=!0,ae=[],Oe=ae;if(y)ee=!1,k=Ka;else if(B>=200){var V=s?null:Ps(a);if(V)return Co(V);ee=!1,k=Oo,Oe=new ai}else Oe=s?[]:ae;e:for(;++x<B;){var Ne=a[x],Ue=s?s(Ne):Ne;if(Ne=y||Ne!==0?Ne:0,ee&&Ue==Ue){for(var ct=Oe.length;ct--;)if(Oe[ct]===Ue)continue e;s&&Oe.push(Ue),ae.push(Ne)}else k(Oe,Ue,y)||(Oe!==ae&&Oe.push(Ue),ae.push(Ne))}return ae}function sc(a,s){return(a=Rs(a,s=si(s,a)))==null||delete a[Yn(bn(s))]}function sf(a,s,y,x){return ya(a,s,y(Bo(a,s)),x)}function au(a,s,y,x){for(var k=a.length,B=x?k:-1;(x?B--:++B<k)&&s(a[B],B,a););return y?Zr(a,x?0:B,x?B+1:k):Zr(a,x?B+1:0,x?k:B)}function lf(a,s){var y=a;return y instanceof Jt&&(y=y.value()),Qi(s,function(x,k){return k.func.apply(k.thisArg,Gn([x],k.args))},y)}function lc(a,s,y){var x=a.length;if(x<2)return x?ci(a[0]):[];for(var k=-1,B=qe(x);++k<x;)for(var ee=a[k],ae=-1;++ae<x;)ae!=k&&(B[k]=zo(B[k]||ee,a[ae],s,y));return ci(nr(B,1),s,y)}function ff(a,s,y){for(var x=-1,k=a.length,B=s.length,ee={};++x<k;){var ae=x<B?s[x]:g;y(ee,a[x],ae)}return ee}function fc(a){return Rn(a)?a:[]}function ws(a){return typeof a=="function"?a:hr}function si(a,s){return Bt(a)?a:mc(a,s)?[a]:Sf(cn(a))}var pf=Yt;function li(a,s,y){var x=a.length;return y=y===g?x:y,!s&&y>=x?a:Zr(a,s,y)}var xs=$p||function(a){return Tn.clearTimeout(a)};function Es(a,s){if(s)return a.slice();var y=a.length,x=tu?tu(y):new a.constructor(y);return a.copy(x),x}function js(a){var s=new a.constructor(a.byteLength);return new Pi(s).set(new Pi(a)),s}function gn(a,s){var y=s?js(a.buffer):a.buffer;return new a.constructor(y,a.byteOffset,a.length)}function hf(a,s){if(a!==s){var y=a!==g,x=a===null,k=a==a,B=ar(a),ee=s!==g,ae=s===null,Oe=s==s,V=ar(s);if(!ae&&!V&&!B&&a>s||B&&ee&&Oe&&!ae&&!V||x&&ee&&Oe||!y&&Oe||!k)return 1;if(!x&&!B&&!V&&a<s||V&&y&&k&&!x&&!B||ae&&y&&k||!ee&&k||!Oe)return-1}return 0}function wn(a,s,y,x){for(var k=-1,B=a.length,ee=y.length,ae=-1,Oe=s.length,V=qn(B-ee,0),Ne=qe(Oe+V),Ue=!x;++ae<Oe;)Ne[ae]=s[ae];for(;++k<ee;)(Ue||k<B)&&(Ne[y[k]]=a[k]);for(;V--;)Ne[ae++]=a[k++];return Ne}function pc(a,s,y,x){for(var k=-1,B=a.length,ee=-1,ae=y.length,Oe=-1,V=s.length,Ne=qn(B-ae,0),Ue=qe(Ne+V),ct=!x;++k<Ne;)Ue[k]=a[k];for(var pt=k;++Oe<V;)Ue[pt+Oe]=s[Oe];for(;++ee<ae;)(ct||k<B)&&(Ue[pt+y[ee]]=a[k++]);return Ue}function Tr(a,s){var y=-1,x=a.length;for(s||(s=qe(x));++y<x;)s[y]=a[y];return s}function So(a,s,y,x){var k=!y;y||(y={});for(var B=-1,ee=s.length;++B<ee;){var ae=s[B],Oe=x?x(y[ae],a[ae],ae,y,a):g;Oe===g&&(Oe=a[ae]),k?jo(y,ae,Oe):la(y,ae,Oe)}return y}function hc(a,s){return function(y,x){var k=Bt(y)?Yu:Zl,B=s?s():{};return k(y,a,_t(x,2),B)}}function Di(a){return Yt(function(s,y){var x=-1,k=y.length,B=k>1?y[k-1]:g,ee=k>2?y[2]:g;for(B=a.length>3&&typeof B=="function"?(k--,B):g,ee&&pr(y[0],y[1],ee)&&(B=k<3?g:B,k=1),s=m(s);++x<k;){var ae=y[x];ae&&a(s,ae,x,B)}return s})}function df(a,s){return function(y,x){if(y==null)return y;if(!wr(y))return a(y,x);for(var k=y.length,B=s?k:-1,ee=m(y);(s?B--:++B<k)&&x(ee[B],B,ee)!==!1;);return y}}function yf(a){return function(s,y,x){for(var k=-1,B=m(s),ee=x(s),ae=ee.length;ae--;){var Oe=ee[a?ae:++k];if(y(B[Oe],Oe,B)===!1)break}return s}}function vf(a){return function(s){var y=no(s=cn(s))?Ar(s):g,x=y?y[0]:s.charAt(0),k=y?li(y,1).join(""):s.slice(1);return x[a]()+k}}function fi(a){return function(s){return Qi(ao(Dc(s).replace(Fu,"")),a,"")}}function uu(a){return function(){var s=arguments;switch(s.length){case 0:return new a;case 1:return new a(s[0]);case 2:return new a(s[0],s[1]);case 3:return new a(s[0],s[1],s[2]);case 4:return new a(s[0],s[1],s[2],s[3]);case 5:return new a(s[0],s[1],s[2],s[3],s[4]);case 6:return new a(s[0],s[1],s[2],s[3],s[4],s[5]);case 7:return new a(s[0],s[1],s[2],s[3],s[4],s[5],s[6])}var y=sa(a.prototype),x=a.apply(y,s);return An(x)?x:y}}function gf(a){return function(s,y,x){var k=m(s);if(!wr(s)){var B=_t(y,3);s=Vn(s),y=function(ae){return B(k[ae],ae,k)}}var ee=a(s,y,x);return ee>-1?k[B?s[ee]:ee]:g}}function bf(a){return xn(function(s){var y=s.length,x=y,k=Vr.prototype.thru;for(a&&s.reverse();x--;){var B=s[x];if(typeof B!="function")throw new Y(S);if(k&&!ee&&io(B)=="wrapper")var ee=new Vr([],!0)}for(x=ee?x:y;++x<y;){var ae=io(B=s[x]),Oe=ae=="wrapper"?fu(B):g;ee=Oe&&Oc(Oe[0])&&Oe[1]==424&&!Oe[4].length&&Oe[9]==1?ee[io(Oe[0])].apply(ee,Oe[3]):B.length==1&&Oc(B)?ee[ae]():ee.thru(B)}return function(){var V=arguments,Ne=V[0];if(ee&&V.length==1&&Bt(Ne))return ee.plant(Ne).value();for(var Ue=0,ct=y?s[Ue].apply(this,V):Ne;++Ue<y;)ct=s[Ue].call(this,ct);return ct}})}function cu(a,s,y,x,k,B,ee,ae,Oe,V){var Ne=s&z,Ue=1&s,ct=2&s,pt=24&s,jt=512&s,Le=ct?g:uu(a);return function He(){for(var At=arguments.length,it=qe(At),kt=At;kt--;)it[kt]=arguments[kt];if(pt)var Nt=ga(He),$t=is(it,Nt);if(x&&(it=wn(it,x,k,pt)),B&&(it=pc(it,B,ee,pt)),At-=$t,pt&&At<V){var dt=Pr(it,Nt);return yc(a,s,cu,He.placeholder,y,it,dt,ae,Oe,V-At)}var St=Ue?y:this,$n=ct?St[a]:a;return At=it.length,ae?it=jf(it,ae):jt&&At>1&&it.reverse(),Ne&&Oe<At&&(it.length=Oe),this&&this!==Tn&&this instanceof He&&($n=Le||uu($n)),$n.apply(St,it)}}function mf(a,s){return function(y,x){return function(k,B,ee,ae){return lt(k,function(Oe,V,Ne){B(ae,ee(Oe),V,Ne)}),ae}(y,a,s(x),{})}}function su(a,s){return function(y,x){var k;if(y===g&&x===g)return s;if(y!==g&&(k=y),x!==g){if(k===g)return x;typeof y=="string"||typeof x=="string"?(y=kr(y),x=kr(x)):(y=_s(y),x=_s(x)),k=a(y,x)}return k}}function Ss(a){return xn(function(s){return s=Qt(s,Sn(_t())),Yt(function(y){var x=this;return a(s,function(k){return dn(k,x,y)})})})}function dc(a,s){var y=(s=s===g?" ":kr(s)).length;if(y<2)return y?uc(s,a):s;var x=uc(s,Ku(a/ro(s)));return no(s)?li(Ar(x),0,a).join(""):x.slice(0,a)}function Po(a){return function(s,y,x){return x&&typeof x!="number"&&pr(s,y,x)&&(y=x=g),s=To(s),y===g?(y=s,s=0):y=To(y),function(k,B,ee,ae){for(var Oe=-1,V=qn(Ku((B-k)/(ee||1)),0),Ne=qe(V);V--;)Ne[ae?V:++Oe]=k,k+=ee;return Ne}(s,y,x=x===g?s<y?1:-1:To(x),a)}}function va(a){return function(s,y){return typeof s=="string"&&typeof y=="string"||(s=xr(s),y=xr(y)),a(s,y)}}function yc(a,s,y,x,k,B,ee,ae,Oe,V){var Ne=8&s;s|=Ne?C:U,4&(s&=~(Ne?U:C))||(s&=-4);var Ue=[a,s,k,Ne?B:g,Ne?ee:g,Ne?g:B,Ne?g:ee,ae,Oe,V],ct=y.apply(g,Ue);return Oc(a)&&Is(ct,Ue),ct.placeholder=x,Ls(ct,a,s)}function vc(a){var s=v[a];return function(y,x){if(y=xr(y),(x=x==null?0:fr(Ut(x),292))&&Hl(y)){var k=(cn(y)+"e").split("e");return+((k=(cn(s(k[0]+"e"+(+k[1]+x)))+"e").split("e"))[0]+"e"+(+k[1]-x))}return s(y)}}var Ps=ki&&1/Co(new ki([,-0]))[1]==q?function(a){return new ki(a)}:Cc;function gc(a){return function(s){var y=ir(s);return y==ie?sr(s):y==je?ra(s):function(x,k){return Qt(k,function(B){return[B,x[B]]})}(s,a(s))}}function Ao(a,s,y,x,k,B,ee,ae){var Oe=2&s;if(!Oe&&typeof a!="function")throw new Y(S);var V=x?x.length:0;if(V||(s&=-97,x=k=g),ee=ee===g?ee:qn(Ut(ee),0),ae=ae===g?ae:Ut(ae),V-=k?k.length:0,s&U){var Ne=x,Ue=k;x=k=g}var ct=Oe?g:fu(a),pt=[a,s,y,x,k,Ne,Ue,B,ee,ae];if(ct&&function(Le,He){var At=Le[1],it=He[1],kt=At|it,Nt=kt<131,$t=it==z&&At==8||it==z&&At==G&&Le[7].length<=He[8]||it==384&&He[7].length<=He[8]&&At==8;if(!Nt&&!$t)return Le;1&it&&(Le[2]=He[2],kt|=1&At?0:4);var dt=He[3];if(dt){var St=Le[3];Le[3]=St?wn(St,dt,He[4]):dt,Le[4]=St?Pr(Le[3],M):He[4]}(dt=He[5])&&(St=Le[5],Le[5]=St?pc(St,dt,He[6]):dt,Le[6]=St?Pr(Le[5],M):He[6]),(dt=He[7])&&(Le[7]=dt),it&z&&(Le[8]=Le[8]==null?He[8]:fr(Le[8],He[8])),Le[9]==null&&(Le[9]=He[9]),Le[0]=He[0],Le[1]=kt}(pt,ct),a=pt[0],s=pt[1],y=pt[2],x=pt[3],k=pt[4],!(ae=pt[9]=pt[9]===g?Oe?0:a.length:qn(pt[9]-V,0))&&24&s&&(s&=-25),s&&s!=1)jt=s==8||s==I?function(Le,He,At){var it=uu(Le);return function kt(){for(var Nt=arguments.length,$t=qe(Nt),dt=Nt,St=ga(kt);dt--;)$t[dt]=arguments[dt];var $n=Nt<3&&$t[0]!==St&&$t[Nt-1]!==St?[]:Pr($t,St);return(Nt-=$n.length)<At?yc(Le,He,cu,kt.placeholder,g,$t,$n,g,g,At-Nt):dn(this&&this!==Tn&&this instanceof kt?it:Le,this,$t)}}(a,s,ae):s!=C&&s!=33||k.length?cu.apply(g,pt):function(Le,He,At,it){var kt=1&He,Nt=uu(Le);return function $t(){for(var dt=-1,St=arguments.length,$n=-1,ur=it.length,uo=qe(ur+St),Qn=this&&this!==Tn&&this instanceof $t?Nt:Le;++$n<ur;)uo[$n]=it[$n];for(;St--;)uo[$n++]=arguments[++dt];return dn(Qn,kt?At:this,uo)}}(a,s,y,x);else var jt=function(Le,He,At){var it=1&He,kt=uu(Le);return function Nt(){return(this&&this!==Tn&&this instanceof Nt?kt:Le).apply(it?At:this,arguments)}}(a,s,y);return Ls((ct?uf:Is)(jt,pt),a,s)}function Of(a,s,y,x){return a===g||En(a,Be[y])&&!Qe.call(x,y)?s:a}function _f(a,s,y,x,k,B){return An(a)&&An(s)&&(B.set(s,a),ac(a,s,g,_f,B),B.delete(s)),a}function ah(a){return Yo(a)?g:a}function wf(a,s,y,x,k,B){var ee=1&y,ae=a.length,Oe=s.length;if(ae!=Oe&&!(ee&&Oe>ae))return!1;var V=B.get(a),Ne=B.get(s);if(V&&Ne)return V==s&&Ne==a;var Ue=-1,ct=!0,pt=2&y?new ai:g;for(B.set(a,s),B.set(s,a);++Ue<ae;){var jt=a[Ue],Le=s[Ue];if(x)var He=ee?x(Le,jt,Ue,s,a,B):x(jt,Le,Ue,a,s,B);if(He!==g){if(He)continue;ct=!1;break}if(pt){if(!Za(s,function(At,it){if(!Oo(pt,it)&&(jt===At||k(jt,At,y,x,B)))return pt.push(it)})){ct=!1;break}}else if(jt!==Le&&!k(jt,Le,y,x,B)){ct=!1;break}}return B.delete(a),B.delete(s),ct}function xn(a){return wc(Cs(a,g,Us),a+"")}function lu(a){return hs(a,Vn,ks)}function As(a){return hs(a,rr,Te)}var fu=Qu?function(a){return Qu.get(a)}:Cc;function io(a){for(var s=a.name+"",y=ca[s],x=Qe.call(ca,s)?y.length:0;x--;){var k=y[x],B=k.func;if(B==null||B==a)return k.name}return s}function ga(a){return(Qe.call(R,"placeholder")?R:a).placeholder}function _t(){var a=R.iteratee||Ol;return a=a===Ol?ys:a,arguments.length?a(arguments[0],arguments[1]):a}function ba(a,s){var y,x,k=a.__data__;return((x=typeof(y=s))=="string"||x=="number"||x=="symbol"||x=="boolean"?y!=="__proto__":y===null)?k[typeof s=="string"?"string":"hash"]:k.map}function bc(a){for(var s=Vn(a),y=s.length;y--;){var x=s[y],k=a[x];s[y]=[x,k,Ms(k)]}return s}function pi(a,s){var y=function(x,k){return x==null?g:x[k]}(a,s);return ha(y)?y:g}var ks=as?function(a){return a==null?[]:(a=m(a),cr(as(a),function(s){return lr.call(a,s)}))}:Sa,Te=as?function(a){for(var s=[];a;)Gn(s,ks(a)),a=Ro(a);return s}:Sa,ir=Pn;function Ts(a,s,y){for(var x=-1,k=(s=si(s,a)).length,B=!1;++x<k;){var ee=Yn(s[x]);if(!(B=a!=null&&y(a,ee)))break;a=a[ee]}return B||++x!=k?B:!!(k=a==null?0:a.length)&&Li(k)&&ko(ee,k)&&(Bt(a)||Ii(a))}function Ds(a){return typeof a.constructor!="function"||ma(a)?{}:sa(Ro(a))}function xf(a){return Bt(a)||Ii(a)||!!(ii&&a&&a[ii])}function ko(a,s){var y=typeof a;return!!(s=s??J)&&(y=="number"||y!="symbol"&&rt.test(a))&&a>-1&&a%1==0&&a<s}function pr(a,s,y){if(!An(y))return!1;var x=typeof s;return!!(x=="number"?wr(y)&&ko(s,y.length):x=="string"&&s in y)&&En(y[s],a)}function mc(a,s){if(Bt(a))return!1;var y=typeof a;return!(y!="number"&&y!="symbol"&&y!="boolean"&&a!=null&&!ar(a))||Rt.test(a)||!rn.test(a)||s!=null&&a in m(s)}function Oc(a){var s=io(a),y=R[s];if(typeof y!="function"||!(s in Jt.prototype))return!1;if(a===y)return!0;var x=fu(y);return!!x&&a===x[0]}(aa&&ir(new aa(new ArrayBuffer(1)))!=tt||xo&&ir(new xo)!=ie||us&&ir(us.resolve())!=Pe||ki&&ir(new ki)!=je||ua&&ir(new ua)!=Ae)&&(ir=function(a){var s=Pn(a),y=s==be?a.constructor:g,x=y?Dr(y):"";if(x)switch(x){case Qp:return tt;case Yl:return ie;case eh:return Pe;case th:return je;case Wl:return Ae}return s});var Ef=ot?Go:Eu;function ma(a){var s=a&&a.constructor;return a===(typeof s=="function"&&s.prototype||Be)}function Ms(a){return a==a&&!An(a)}function Ns(a,s){return function(y){return y!=null&&y[a]===s&&(s!==g||a in m(y))}}function Cs(a,s,y){return s=qn(s===g?a.length-1:s,0),function(){for(var x=arguments,k=-1,B=qn(x.length-s,0),ee=qe(B);++k<B;)ee[k]=x[s+k];k=-1;for(var ae=qe(s+1);++k<s;)ae[k]=x[k];return ae[s]=y(ee),dn(a,this,ae)}}function Rs(a,s){return s.length<2?a:Bo(a,Zr(s,0,-1))}function jf(a,s){for(var y=a.length,x=fr(s.length,y),k=Tr(a);x--;){var B=s[x];a[x]=ko(B,y)?k[B]:g}return a}function _c(a,s){if((s!=="constructor"||typeof a[s]!="function")&&s!="__proto__")return a[s]}var Is=xc(uf),Oa=Xl||function(a,s){return Tn.setTimeout(a,s)},wc=xc(oh);function Ls(a,s,y){var x=s+"";return wc(a,function(k,B){var ee=B.length;if(!ee)return k;var ae=ee-1;return B[ae]=(ee>1?"& ":"")+B[ae],B=B.join(ee>2?", ":" "),k.replace(K,`{
/* [wrapped with `+B+`] */
`)}(x,function(k,B){return vr(se,function(ee){var ae="_."+ee[0];B&ee[1]&&!gr(k,ae)&&k.push(ae)}),k.sort()}(function(k){var B=k.match(pe);return B?B[1].split(ne):[]}(x),y)))}function xc(a){var s=0,y=0;return function(){var x=Zu(),k=16-(x-y);if(y=x,k>0){if(++s>=800)return arguments[0]}else s=0;return a.apply(g,arguments)}}function Mi(a,s){var y=-1,x=a.length,k=x-1;for(s=s===g?x:s;++y<s;){var B=gs(y,k),ee=a[B];a[B]=a[y],a[y]=ee}return a.length=s,a}var Sf=function(a){var s=wa(a,function(x){return y.size===500&&y.clear(),x}),y=s.cache;return s}(function(a){var s=[];return a.charCodeAt(0)===46&&s.push(""),a.replace(Kt,function(y,x,k,B){s.push(k?B.replace(Ve,"$1"):x||y)}),s});function Yn(a){if(typeof a=="string"||ar(a))return a;var s=a+"";return s=="0"&&1/a==-1/0?"-0":s}function Dr(a){if(a!=null){try{return Ht.call(a)}catch{}try{return a+""}catch{}}return""}function Pf(a){if(a instanceof Jt)return a.clone();var s=new Vr(a.__wrapped__,a.__chain__);return s.__actions__=Tr(a.__actions__),s.__index__=a.__index__,s.__values__=a.__values__,s}var Ur=Yt(function(a,s){return Rn(a)?zo(a,nr(s,1,Rn,!0)):[]}),Af=Yt(function(a,s){var y=bn(s);return Rn(y)&&(y=g),Rn(a)?zo(a,nr(s,1,Rn,!0),_t(y,2)):[]}),zs=Yt(function(a,s){var y=bn(s);return Rn(y)&&(y=g),Rn(a)?zo(a,nr(s,1,Rn,!0),g,y):[]});function Bs(a,s,y){var x=a==null?0:a.length;if(!x)return-1;var k=y==null?0:Ut(y);return k<0&&(k=qn(x+k,0)),bo(a,_t(s,3),k)}function Fs(a,s,y){var x=a==null?0:a.length;if(!x)return-1;var k=x-1;return y!==g&&(k=Ut(y),k=y<0?qn(x+k,0):fr(k,x-1)),bo(a,_t(s,3),k,!0)}function Us(a){return a!=null&&a.length?nr(a,1):[]}function Xs(a){return a&&a.length?a[0]:g}var kf=Yt(function(a){var s=Qt(a,fc);return s.length&&s[0]===a[0]?oc(s):[]}),Hs=Yt(function(a){var s=bn(a),y=Qt(a,fc);return s===bn(y)?s=g:y.pop(),y.length&&y[0]===a[0]?oc(y,_t(s,2)):[]}),pu=Yt(function(a){var s=bn(a),y=Qt(a,fc);return(s=typeof s=="function"?s:g)&&y.pop(),y.length&&y[0]===a[0]?oc(y,g,s):[]});function bn(a){var s=a==null?0:a.length;return s?a[s-1]:g}var uh=Yt(Tf);function Tf(a,s){return a&&a.length&&s&&s.length?vs(a,s):a}var Gs=xn(function(a,s){var y=a==null?0:a.length,x=nc(a,s);return da(a,Qt(s,function(k){return ko(k,y)?+k:k}).sort(hf)),x});function Ec(a){return a==null?a:Jp.call(a)}var Mr=Yt(function(a){return ci(nr(a,1,Rn,!0))}),Wn=Yt(function(a){var s=bn(a);return Rn(s)&&(s=g),ci(nr(a,1,Rn,!0),_t(s,2))}),ch=Yt(function(a){var s=bn(a);return s=typeof s=="function"?s:g,ci(nr(a,1,Rn,!0),g,s)});function Nr(a){if(!a||!a.length)return[];var s=0;return a=cr(a,function(y){if(Rn(y))return s=qn(y.length,s),!0}),Si(s,function(y){return Qt(a,mr(y))})}function Et(a,s){if(!a||!a.length)return[];var y=Nr(a);return s==null?y:Qt(y,function(x){return dn(s,g,x)})}var Ys=Yt(function(a,s){return Rn(a)?zo(a,s):[]}),Ws=Yt(function(a){return lc(cr(a,Rn))}),Vs=Yt(function(a){var s=bn(a);return Rn(s)&&(s=g),lc(cr(a,Rn),_t(s,2))}),Df=Yt(function(a){var s=bn(a);return s=typeof s=="function"?s:g,lc(cr(a,Rn),g,s)}),Mf=Yt(Nr),sh=Yt(function(a){var s=a.length,y=s>1?a[s-1]:g;return y=typeof y=="function"?(a.pop(),y):g,Et(a,y)});function Nf(a){var s=R(a);return s.__chain__=!0,s}function _a(a,s){return s(a)}var lh=xn(function(a){var s=a.length,y=s?a[0]:0,x=this.__wrapped__,k=function(B){return nc(B,a)};return!(s>1||this.__actions__.length)&&x instanceof Jt&&ko(y)?((x=x.slice(y,+y+(s?1:0))).__actions__.push({func:_a,args:[k],thisArg:g}),new Vr(x,this.__chain__).thru(function(B){return s&&!B.length&&B.push(g),B})):this.thru(k)}),$s=hc(function(a,s,y){Qe.call(a,y)?++a[y]:jo(a,y,1)}),fh=gf(Bs),ph=gf(Fs);function Ks(a,s){return(Bt(a)?vr:_n)(a,_t(s,3))}function Ni(a,s){return(Bt(a)?Wu:ql)(a,_t(s,3))}var Cf=hc(function(a,s,y){Qe.call(a,y)?a[y].push(s):jo(a,y,[s])}),zt=Yt(function(a,s,y){var x=-1,k=typeof s=="function",B=wr(a)?qe(a.length):[];return _n(a,function(ee){B[++x]=k?dn(s,ee,y):fa(ee,s,y)}),B}),Rf=hc(function(a,s,y){jo(a,y,s)});function Ci(a,s){return(Bt(a)?Qt:Kr)(a,_t(s,3))}var Zs=hc(function(a,s,y){a[y?0:1].push(s)},function(){return[[],[]]}),hh=Yt(function(a,s){if(a==null)return[];var y=s.length;return y>1&&pr(a,s[0],s[1])?s=[]:y>2&&pr(s[0],s[1],s[2])&&(s=[s[0]]),of(a,nr(s,1),[])}),hu=Kp||function(){return Tn.Date.now()};function qs(a,s,y){return s=y?g:s,s=a&&s==null?a.length:s,Ao(a,z,g,g,g,g,s)}function Js(a,s){var y;if(typeof s!="function")throw new Y(S);return a=Ut(a),function(){return--a>0&&(y=s.apply(this,arguments)),a<=1&&(s=g),y}}var Qs=Yt(function(a,s,y){var x=1;if(y.length){var k=Pr(y,ga(Qs));x|=C}return Ao(a,x,s,y,k)}),If=Yt(function(a,s,y){var x=3;if(y.length){var k=Pr(y,ga(If));x|=C}return Ao(s,x,a,y,k)});function Lf(a,s,y){var x,k,B,ee,ae,Oe,V=0,Ne=!1,Ue=!1,ct=!0;if(typeof a!="function")throw new Y(S);function pt(kt){var Nt=x,$t=k;return x=k=g,V=kt,ee=a.apply($t,Nt)}function jt(kt){return V=kt,ae=Oa(He,s),Ne?pt(kt):ee}function Le(kt){var Nt=kt-Oe;return Oe===g||Nt>=s||Nt<0||Ue&&kt-V>=B}function He(){var kt=hu();if(Le(kt))return At(kt);ae=Oa(He,function(Nt){var $t=s-(Nt-Oe);return Ue?fr($t,B-(Nt-V)):$t}(kt))}function At(kt){return ae=g,ct&&x?pt(kt):(x=k=g,ee)}function it(){var kt=hu(),Nt=Le(kt);if(x=arguments,k=this,Oe=kt,Nt){if(ae===g)return jt(Oe);if(Ue)return xs(ae),ae=Oa(He,s),pt(Oe)}return ae===g&&(ae=Oa(He,s)),ee}return s=xr(s)||0,An(y)&&(Ne=!!y.leading,B=(Ue="maxWait"in y)?qn(xr(y.maxWait)||0,s):B,ct="trailing"in y?!!y.trailing:ct),it.cancel=function(){ae!==g&&xs(ae),V=0,x=Oe=k=ae=g},it.flush=function(){return ae===g?ee:At(hu())},it}var du=Yt(function(a,s){return ps(a,1,s)}),dh=Yt(function(a,s,y){return ps(a,xr(s)||0,y)});function wa(a,s){if(typeof a!="function"||s!=null&&typeof s!="function")throw new Y(S);var y=function(){var x=arguments,k=s?s.apply(this,x):x[0],B=y.cache;if(B.has(k))return B.get(k);var ee=a.apply(this,x);return y.cache=B.set(k,ee)||B,ee};return y.cache=new(wa.Cache||Eo),y}function jc(a){if(typeof a!="function")throw new Y(S);return function(){var s=arguments;switch(s.length){case 0:return!a.call(this);case 1:return!a.call(this,s[0]);case 2:return!a.call(this,s[0],s[1]);case 3:return!a.call(this,s[0],s[1],s[2])}return!a.apply(this,s)}}wa.Cache=Eo;var yh=pf(function(a,s){var y=(s=s.length==1&&Bt(s[0])?Qt(s[0],Sn(_t())):Qt(nr(s,1),Sn(_t()))).length;return Yt(function(x){for(var k=-1,B=fr(x.length,y);++k<B;)x[k]=s[k].call(this,x[k]);return dn(a,this,x)})}),Ri=Yt(function(a,s){var y=Pr(s,ga(Ri));return Ao(a,C,g,s,y)}),Xo=Yt(function(a,s){var y=Pr(s,ga(Xo));return Ao(a,U,g,s,y)}),el=xn(function(a,s){return Ao(a,G,g,g,g,s)});function En(a,s){return a===s||a!=a&&s!=s}var Sc=va(Dn),yu=va(function(a,s){return a>=s}),Ii=ds(function(){return arguments}())?ds:function(a){return kn(a)&&Qe.call(a,"callee")&&!lr.call(a,"callee")},Bt=qe.isArray,zf=Va?Sn(Va):function(a){return kn(a)&&Pn(a)==Fe};function wr(a){return a!=null&&Li(a.length)&&!Go(a)}function Rn(a){return kn(a)&&wr(a)}var Ho=Zp||Eu,Pc=Gu?Sn(Gu):function(a){return kn(a)&&Pn(a)==L};function tl(a){if(!kn(a))return!1;var s=Pn(a);return s==H||s=="[object DOMException]"||typeof a.message=="string"&&typeof a.name=="string"&&!Yo(a)}function Go(a){if(!An(a))return!1;var s=Pn(a);return s==X||s==$||s=="[object AsyncFunction]"||s=="[object Proxy]"}function Ac(a){return typeof a=="number"&&a==Ut(a)}function Li(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=J}function An(a){var s=typeof a;return a!=null&&(s=="object"||s=="function")}function kn(a){return a!=null&&typeof a=="object"}var Bf=$a?Sn($a):function(a){return kn(a)&&ir(a)==ie};function nl(a){return typeof a=="number"||kn(a)&&Pn(a)==Ee}function Yo(a){if(!kn(a)||Pn(a)!=be)return!1;var s=Ro(a);if(s===null)return!0;var y=Qe.call(s,"constructor")&&s.constructor;return typeof y=="function"&&y instanceof y&&Ht.call(y)==Br}var rl=Ji?Sn(Ji):function(a){return kn(a)&&Pn(a)==ze},xa=ni?Sn(ni):function(a){return kn(a)&&ir(a)==je};function vu(a){return typeof a=="string"||!Bt(a)&&kn(a)&&Pn(a)==ve}function ar(a){return typeof a=="symbol"||kn(a)&&Pn(a)==Se}var hi=Qr?Sn(Qr):function(a){return kn(a)&&Li(a.length)&&!!an[Pn(a)]},Ea=va(Uo),gu=va(function(a,s){return a<=s});function ja(a){if(!a)return[];if(wr(a))return vu(a)?Ar(a):Tr(a);if(Io&&a[Io])return function(y){for(var x,k=[];!(x=y.next()).done;)k.push(x.value);return k}(a[Io]());var s=ir(a);return(s==ie?sr:s==je?Co:yi)(a)}function To(a){return a?(a=xr(a))===q||a===-1/0?17976931348623157e292*(a<0?-1:1):a==a?a:0:a===0?a:0}function Ut(a){var s=To(a),y=s%1;return s==s?y?s-y:s:0}function ol(a){return a?ui(Ut(a),0,he):0}function xr(a){if(typeof a=="number")return a;if(ar(a))return ce;if(An(a)){var s=typeof a.valueOf=="function"?a.valueOf():a;a=An(s)?s+"":s}if(typeof a!="string")return a===0?a:+a;a=qa(a);var y=er.test(a);return y||zn.test(a)?go(a.slice(2),y?2:8):Hn.test(a)?ce:+a}function il(a){return So(a,rr(a))}function cn(a){return a==null?"":kr(a)}var Ff=Di(function(a,s){if(ma(s)||wr(s))So(s,Vn(s),a);else for(var y in s)Qe.call(s,y)&&la(a,y,s[y])}),al=Di(function(a,s){So(s,rr(s),a)}),Wo=Di(function(a,s,y,x){So(s,rr(s),a,x)}),ul=Di(function(a,s,y,x){So(s,Vn(s),a,x)}),Uf=xn(nc),Xf=Yt(function(a,s){a=m(a);var y=-1,x=s.length,k=x>2?s[2]:g;for(k&&pr(s[0],s[1],k)&&(x=1);++y<x;)for(var B=s[y],ee=rr(B),ae=-1,Oe=ee.length;++ae<Oe;){var V=ee[ae],Ne=a[V];(Ne===g||En(Ne,Be[V])&&!Qe.call(a,V))&&(a[V]=B[V])}return a}),cl=Yt(function(a){return a.push(g,_f),dn(fl,g,a)});function bu(a,s,y){var x=a==null?g:Bo(a,s);return x===g?y:x}function mu(a,s){return a!=null&&Ts(a,s,ef)}var Hf=mf(function(a,s,y){s!=null&&typeof s.toString!="function"&&(s=tn.call(s)),a[s]=y},Nc(hr)),sl=mf(function(a,s,y){s!=null&&typeof s.toString!="function"&&(s=tn.call(s)),Qe.call(a,s)?a[s].push(y):a[s]=[y]},_t),ll=Yt(fa);function Vn(a){return wr(a)?cs(a):Fo(a)}function rr(a){return wr(a)?cs(a,!0):nh(a)}var di=Di(function(a,s,y){ac(a,s,y)}),fl=Di(function(a,s,y,x){ac(a,s,y,x)}),Gf=xn(function(a,s){var y={};if(a==null)return y;var x=!1;s=Qt(s,function(B){return B=si(B,a),x||(x=B.length>1),B}),So(a,As(a),y),x&&(y=Fr(y,7,ah));for(var k=s.length;k--;)sc(y,s[k]);return y}),pl=xn(function(a,s){return a==null?{}:function(y,x){return af(y,x,function(k,B){return mu(y,B)})}(a,s)});function kc(a,s){if(a==null)return{};var y=Qt(As(a),function(x){return[x]});return s=_t(s),af(a,y,function(x,k){return s(x,k[0])})}var Yf=gc(Vn),hl=gc(rr);function yi(a){return a==null?[]:na(a,Vn(a))}var Tc=fi(function(a,s,y){return s=s.toLowerCase(),a+(y?Ou(s):s)});function Ou(a){return In(cn(a).toLowerCase())}function Dc(a){return(a=cn(a))&&a.replace(gt,Qa).replace(vo,"")}var dl=fi(function(a,s,y){return a+(y?"-":"")+s.toLowerCase()}),Wf=fi(function(a,s,y){return a+(y?" ":"")+s.toLowerCase()}),yl=vf("toLowerCase"),Vf=fi(function(a,s,y){return a+(y?"_":"")+s.toLowerCase()}),vl=fi(function(a,s,y){return a+(y?" ":"")+In(s)}),vh=fi(function(a,s,y){return a+(y?" ":"")+s.toUpperCase()}),In=vf("toUpperCase");function ao(a,s,y){return a=cn(a),(s=y?g:s)===g?function(x){return Ha.test(x)}(a)?function(x){return x.match(Zi)||[]}(a):function(x){return x.match(me)||[]}(a):a.match(s)||[]}var Mc=Yt(function(a,s){try{return dn(a,g,s)}catch(y){return tl(y)?y:new Wt(y)}}),gl=xn(function(a,s){return vr(s,function(y){y=Yn(y),jo(a,y,Qs(a[y],a))}),a});function Nc(a){return function(){return a}}var bl=bf(),ml=bf(!0);function hr(a){return a}function Ol(a){return ys(typeof a=="function"?a:Fr(a,1))}var zi=Yt(function(a,s){return function(y){return fa(y,a,s)}}),_l=Yt(function(a,s){return function(y){return fa(a,y,s)}});function _u(a,s,y){var x=Vn(s),k=rc(s,x);y!=null||An(s)&&(k.length||!x.length)||(y=s,s=a,a=this,k=rc(s,Vn(s)));var B=!(An(y)&&"chain"in y&&!y.chain),ee=Go(a);return vr(k,function(ae){var Oe=s[ae];a[ae]=Oe,ee&&(a.prototype[ae]=function(){var V=this.__chain__;if(B||V){var Ne=a(this.__wrapped__),Ue=Ne.__actions__=Tr(this.__actions__);return Ue.push({func:Oe,args:arguments,thisArg:a}),Ne.__chain__=V,Ne}return Oe.apply(a,Gn([this.value()],arguments))})}),a}function Cc(){}var wu=Ss(Qt),xu=Ss(Vu),wl=Ss(Za);function xl(a){return mc(a)?mr(Yn(a)):function(s){return function(y){return Bo(y,s)}}(a)}var $f=Po(),or=Po(!0);function Sa(){return[]}function Eu(){return!1}var El=su(function(a,s){return a+s},0),Kf=vc("ceil"),Zf=su(function(a,s){return a/s},1),jl=vc("floor"),Pa,qf=su(function(a,s){return a*s},1),Rc=vc("round"),Ic=su(function(a,s){return a-s},0);return R.after=function(a,s){if(typeof s!="function")throw new Y(S);return a=Ut(a),function(){if(--a<1)return s.apply(this,arguments)}},R.ary=qs,R.assign=Ff,R.assignIn=al,R.assignInWith=Wo,R.assignWith=ul,R.at=Uf,R.before=Js,R.bind=Qs,R.bindAll=gl,R.bindKey=If,R.castArray=function(){if(!arguments.length)return[];var a=arguments[0];return Bt(a)?a:[a]},R.chain=Nf,R.chunk=function(a,s,y){s=(y?pr(a,s,y):s===g)?1:qn(Ut(s),0);var x=a==null?0:a.length;if(!x||s<1)return[];for(var k=0,B=0,ee=qe(Ku(x/s));k<x;)ee[B++]=Zr(a,k,k+=s);return ee},R.compact=function(a){for(var s=-1,y=a==null?0:a.length,x=0,k=[];++s<y;){var B=a[s];B&&(k[x++]=B)}return k},R.concat=function(){var a=arguments.length;if(!a)return[];for(var s=qe(a-1),y=arguments[0],x=a;x--;)s[x-1]=arguments[x];return Gn(Bt(y)?Tr(y):[y],nr(s,1))},R.cond=function(a){var s=a==null?0:a.length,y=_t();return a=s?Qt(a,function(x){if(typeof x[1]!="function")throw new Y(S);return[y(x[0]),x[1]]}):[],Yt(function(x){for(var k=-1;++k<s;){var B=a[k];if(dn(B[0],this,x))return dn(B[1],this,x)}})},R.conforms=function(a){return function(s){var y=Vn(s);return function(x){return fs(x,s,y)}}(Fr(a,1))},R.constant=Nc,R.countBy=$s,R.create=function(a,s){var y=sa(a);return s==null?y:ls(y,s)},R.curry=function a(s,y,x){var k=Ao(s,8,g,g,g,g,g,y=x?g:y);return k.placeholder=a.placeholder,k},R.curryRight=function a(s,y,x){var k=Ao(s,I,g,g,g,g,g,y=x?g:y);return k.placeholder=a.placeholder,k},R.debounce=Lf,R.defaults=Xf,R.defaultsDeep=cl,R.defer=du,R.delay=dh,R.difference=Ur,R.differenceBy=Af,R.differenceWith=zs,R.drop=function(a,s,y){var x=a==null?0:a.length;return x?Zr(a,(s=y||s===g?1:Ut(s))<0?0:s,x):[]},R.dropRight=function(a,s,y){var x=a==null?0:a.length;return x?Zr(a,0,(s=x-(s=y||s===g?1:Ut(s)))<0?0:s):[]},R.dropRightWhile=function(a,s){return a&&a.length?au(a,_t(s,3),!0,!0):[]},R.dropWhile=function(a,s){return a&&a.length?au(a,_t(s,3),!0):[]},R.fill=function(a,s,y,x){var k=a==null?0:a.length;return k?(y&&typeof y!="number"&&pr(a,s,y)&&(y=0,x=k),function(B,ee,ae,Oe){var V=B.length;for((ae=Ut(ae))<0&&(ae=-ae>V?0:V+ae),(Oe=Oe===g||Oe>V?V:Ut(Oe))<0&&(Oe+=V),Oe=ae>Oe?0:ol(Oe);ae<Oe;)B[ae++]=ee;return B}(a,s,y,x)):[]},R.filter=function(a,s){return(Bt(a)?cr:un)(a,_t(s,3))},R.flatMap=function(a,s){return nr(Ci(a,s),1)},R.flatMapDeep=function(a,s){return nr(Ci(a,s),q)},R.flatMapDepth=function(a,s,y){return y=y===g?1:Ut(y),nr(Ci(a,s),y)},R.flatten=Us,R.flattenDeep=function(a){return a!=null&&a.length?nr(a,q):[]},R.flattenDepth=function(a,s){return a!=null&&a.length?nr(a,s=s===g?1:Ut(s)):[]},R.flip=function(a){return Ao(a,512)},R.flow=bl,R.flowRight=ml,R.fromPairs=function(a){for(var s=-1,y=a==null?0:a.length,x={};++s<y;){var k=a[s];x[k[0]]=k[1]}return x},R.functions=function(a){return a==null?[]:rc(a,Vn(a))},R.functionsIn=function(a){return a==null?[]:rc(a,rr(a))},R.groupBy=Cf,R.initial=function(a){return a!=null&&a.length?Zr(a,0,-1):[]},R.intersection=kf,R.intersectionBy=Hs,R.intersectionWith=pu,R.invert=Hf,R.invertBy=sl,R.invokeMap=zt,R.iteratee=Ol,R.keyBy=Rf,R.keys=Vn,R.keysIn=rr,R.map=Ci,R.mapKeys=function(a,s){var y={};return s=_t(s,3),lt(a,function(x,k,B){jo(y,s(x,k,B),x)}),y},R.mapValues=function(a,s){var y={};return s=_t(s,3),lt(a,function(x,k,B){jo(y,k,s(x,k,B))}),y},R.matches=function(a){return tf(Fr(a,1))},R.matchesProperty=function(a,s){return nf(a,Fr(s,1))},R.memoize=wa,R.merge=di,R.mergeWith=fl,R.method=zi,R.methodOf=_l,R.mixin=_u,R.negate=jc,R.nthArg=function(a){return a=Ut(a),Yt(function(s){return rf(s,a)})},R.omit=Gf,R.omitBy=function(a,s){return kc(a,jc(_t(s)))},R.once=function(a){return Js(2,a)},R.orderBy=function(a,s,y,x){return a==null?[]:(Bt(s)||(s=s==null?[]:[s]),Bt(y=x?g:y)||(y=y==null?[]:[y]),of(a,s,y))},R.over=wu,R.overArgs=yh,R.overEvery=xu,R.overSome=wl,R.partial=Ri,R.partialRight=Xo,R.partition=Zs,R.pick=pl,R.pickBy=kc,R.property=xl,R.propertyOf=function(a){return function(s){return a==null?g:Bo(a,s)}},R.pull=uh,R.pullAll=Tf,R.pullAllBy=function(a,s,y){return a&&a.length&&s&&s.length?vs(a,s,_t(y,2)):a},R.pullAllWith=function(a,s,y){return a&&a.length&&s&&s.length?vs(a,s,g,y):a},R.pullAt=Gs,R.range=$f,R.rangeRight=or,R.rearg=el,R.reject=function(a,s){return(Bt(a)?cr:un)(a,jc(_t(s,3)))},R.remove=function(a,s){var y=[];if(!a||!a.length)return y;var x=-1,k=[],B=a.length;for(s=_t(s,3);++x<B;){var ee=a[x];s(ee,x,a)&&(y.push(ee),k.push(x))}return da(a,k),y},R.rest=function(a,s){if(typeof a!="function")throw new Y(S);return Yt(a,s=s===g?s:Ut(s))},R.reverse=Ec,R.sampleSize=function(a,s,y){return s=(y?pr(a,s,y):s===g)?1:Ut(s),(Bt(a)?$l:bs)(a,s)},R.set=function(a,s,y){return a==null?a:ya(a,s,y)},R.setWith=function(a,s,y,x){return x=typeof x=="function"?x:g,a==null?a:ya(a,s,y,x)},R.shuffle=function(a){return(Bt(a)?Kl:ih)(a)},R.slice=function(a,s,y){var x=a==null?0:a.length;return x?(y&&typeof y!="number"&&pr(a,s,y)?(s=0,y=x):(s=s==null?0:Ut(s),y=y===g?x:Ut(y)),Zr(a,s,y)):[]},R.sortBy=hh,R.sortedUniq=function(a){return a&&a.length?cf(a):[]},R.sortedUniqBy=function(a,s){return a&&a.length?cf(a,_t(s,2)):[]},R.split=function(a,s,y){return y&&typeof y!="number"&&pr(a,s,y)&&(s=y=g),(y=y===g?he:y>>>0)?(a=cn(a))&&(typeof s=="string"||s!=null&&!rl(s))&&!(s=kr(s))&&no(a)?li(Ar(a),0,y):a.split(s,y):[]},R.spread=function(a,s){if(typeof a!="function")throw new Y(S);return s=s==null?0:qn(Ut(s),0),Yt(function(y){var x=y[s],k=li(y,0,s);return x&&Gn(k,x),dn(a,this,k)})},R.tail=function(a){var s=a==null?0:a.length;return s?Zr(a,1,s):[]},R.take=function(a,s,y){return a&&a.length?Zr(a,0,(s=y||s===g?1:Ut(s))<0?0:s):[]},R.takeRight=function(a,s,y){var x=a==null?0:a.length;return x?Zr(a,(s=x-(s=y||s===g?1:Ut(s)))<0?0:s,x):[]},R.takeRightWhile=function(a,s){return a&&a.length?au(a,_t(s,3),!1,!0):[]},R.takeWhile=function(a,s){return a&&a.length?au(a,_t(s,3)):[]},R.tap=function(a,s){return s(a),a},R.throttle=function(a,s,y){var x=!0,k=!0;if(typeof a!="function")throw new Y(S);return An(y)&&(x="leading"in y?!!y.leading:x,k="trailing"in y?!!y.trailing:k),Lf(a,s,{leading:x,maxWait:s,trailing:k})},R.thru=_a,R.toArray=ja,R.toPairs=Yf,R.toPairsIn=hl,R.toPath=function(a){return Bt(a)?Qt(a,Yn):ar(a)?[a]:Tr(Sf(cn(a)))},R.toPlainObject=il,R.transform=function(a,s,y){var x=Bt(a),k=x||Ho(a)||hi(a);if(s=_t(s,4),y==null){var B=a&&a.constructor;y=k?x?new B:[]:An(a)&&Go(B)?sa(Ro(a)):{}}return(k?vr:lt)(a,function(ee,ae,Oe){return s(y,ee,ae,Oe)}),y},R.unary=function(a){return qs(a,1)},R.union=Mr,R.unionBy=Wn,R.unionWith=ch,R.uniq=function(a){return a&&a.length?ci(a):[]},R.uniqBy=function(a,s){return a&&a.length?ci(a,_t(s,2)):[]},R.uniqWith=function(a,s){return s=typeof s=="function"?s:g,a&&a.length?ci(a,g,s):[]},R.unset=function(a,s){return a==null||sc(a,s)},R.unzip=Nr,R.unzipWith=Et,R.update=function(a,s,y){return a==null?a:sf(a,s,ws(y))},R.updateWith=function(a,s,y,x){return x=typeof x=="function"?x:g,a==null?a:sf(a,s,ws(y),x)},R.values=yi,R.valuesIn=function(a){return a==null?[]:na(a,rr(a))},R.without=Ys,R.words=ao,R.wrap=function(a,s){return Ri(ws(s),a)},R.xor=Ws,R.xorBy=Vs,R.xorWith=Df,R.zip=Mf,R.zipObject=function(a,s){return ff(a||[],s||[],la)},R.zipObjectDeep=function(a,s){return ff(a||[],s||[],ya)},R.zipWith=sh,R.entries=Yf,R.entriesIn=hl,R.extend=al,R.extendWith=Wo,_u(R,R),R.add=El,R.attempt=Mc,R.camelCase=Tc,R.capitalize=Ou,R.ceil=Kf,R.clamp=function(a,s,y){return y===g&&(y=s,s=g),y!==g&&(y=(y=xr(y))==y?y:0),s!==g&&(s=(s=xr(s))==s?s:0),ui(xr(a),s,y)},R.clone=function(a){return Fr(a,4)},R.cloneDeep=function(a){return Fr(a,5)},R.cloneDeepWith=function(a,s){return Fr(a,5,s=typeof s=="function"?s:g)},R.cloneWith=function(a,s){return Fr(a,4,s=typeof s=="function"?s:g)},R.conformsTo=function(a,s){return s==null||fs(a,s,Vn(s))},R.deburr=Dc,R.defaultTo=function(a,s){return a==null||a!=a?s:a},R.divide=Zf,R.endsWith=function(a,s,y){a=cn(a),s=kr(s);var x=a.length,k=y=y===g?x:ui(Ut(y),0,x);return(y-=s.length)>=0&&a.slice(y,k)==s},R.eq=En,R.escape=function(a){return(a=cn(a))&&at.test(a)?a.replace(ht,Bn):a},R.escapeRegExp=function(a){return(a=cn(a))&&mn.test(a)?a.replace(fn,"\\$&"):a},R.every=function(a,s,y){var x=Bt(a)?Vu:Jl;return y&&pr(a,s,y)&&(s=g),x(a,_t(s,3))},R.find=fh,R.findIndex=Bs,R.findKey=function(a,s){return eo(a,_t(s,3),lt)},R.findLast=ph,R.findLastIndex=Fs,R.findLastKey=function(a,s){return eo(a,_t(s,3),vn)},R.floor=jl,R.forEach=Ks,R.forEachRight=Ni,R.forIn=function(a,s){return a==null?a:Gt(a,_t(s,3),rr)},R.forInRight=function(a,s){return a==null?a:Fn(a,_t(s,3),rr)},R.forOwn=function(a,s){return a&&lt(a,_t(s,3))},R.forOwnRight=function(a,s){return a&&vn(a,_t(s,3))},R.get=bu,R.gt=Sc,R.gte=yu,R.has=function(a,s){return a!=null&&Ts(a,s,Ql)},R.hasIn=mu,R.head=Xs,R.identity=hr,R.includes=function(a,s,y,x){a=wr(a)?a:yi(a),y=y&&!x?Ut(y):0;var k=a.length;return y<0&&(y=qn(k+y,0)),vu(a)?y<=k&&a.indexOf(s,y)>-1:!!k&&ri(a,s,y)>-1},R.indexOf=function(a,s,y){var x=a==null?0:a.length;if(!x)return-1;var k=y==null?0:Ut(y);return k<0&&(k=qn(x+k,0)),ri(a,s,k)},R.inRange=function(a,s,y){return s=To(s),y===g?(y=s,s=0):y=To(y),function(x,k,B){return x>=fr(k,B)&&x<qn(k,B)}(a=xr(a),s,y)},R.invoke=ll,R.isArguments=Ii,R.isArray=Bt,R.isArrayBuffer=zf,R.isArrayLike=wr,R.isArrayLikeObject=Rn,R.isBoolean=function(a){return a===!0||a===!1||kn(a)&&Pn(a)==W},R.isBuffer=Ho,R.isDate=Pc,R.isElement=function(a){return kn(a)&&a.nodeType===1&&!Yo(a)},R.isEmpty=function(a){if(a==null)return!0;if(wr(a)&&(Bt(a)||typeof a=="string"||typeof a.splice=="function"||Ho(a)||hi(a)||Ii(a)))return!a.length;var s=ir(a);if(s==ie||s==je)return!a.size;if(ma(a))return!Fo(a).length;for(var y in a)if(Qe.call(a,y))return!1;return!0},R.isEqual=function(a,s){return pa(a,s)},R.isEqualWith=function(a,s,y){var x=(y=typeof y=="function"?y:g)?y(a,s):g;return x===g?pa(a,s,g,y):!!x},R.isError=tl,R.isFinite=function(a){return typeof a=="number"&&Hl(a)},R.isFunction=Go,R.isInteger=Ac,R.isLength=Li,R.isMap=Bf,R.isMatch=function(a,s){return a===s||ic(a,s,bc(s))},R.isMatchWith=function(a,s,y){return y=typeof y=="function"?y:g,ic(a,s,bc(s),y)},R.isNaN=function(a){return nl(a)&&a!=+a},R.isNative=function(a){if(Ef(a))throw new Wt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return ha(a)},R.isNil=function(a){return a==null},R.isNull=function(a){return a===null},R.isNumber=nl,R.isObject=An,R.isObjectLike=kn,R.isPlainObject=Yo,R.isRegExp=rl,R.isSafeInteger=function(a){return Ac(a)&&a>=-9007199254740991&&a<=J},R.isSet=xa,R.isString=vu,R.isSymbol=ar,R.isTypedArray=hi,R.isUndefined=function(a){return a===g},R.isWeakMap=function(a){return kn(a)&&ir(a)==Ae},R.isWeakSet=function(a){return kn(a)&&Pn(a)=="[object WeakSet]"},R.join=function(a,s){return a==null?"":qp.call(a,s)},R.kebabCase=dl,R.last=bn,R.lastIndexOf=function(a,s,y){var x=a==null?0:a.length;if(!x)return-1;var k=x;return y!==g&&(k=(k=Ut(y))<0?qn(x+k,0):fr(k,x-1)),s==s?function(B,ee,ae){for(var Oe=ae+1;Oe--;)if(B[Oe]===ee)return Oe;return Oe}(a,s,k):bo(a,mo,k,!0)},R.lowerCase=Wf,R.lowerFirst=yl,R.lt=Ea,R.lte=gu,R.max=function(a){return a&&a.length?Cn(a,hr,Dn):g},R.maxBy=function(a,s){return a&&a.length?Cn(a,_t(s,2),Dn):g},R.mean=function(a){return Zt(a,hr)},R.meanBy=function(a,s){return Zt(a,_t(s,2))},R.min=function(a){return a&&a.length?Cn(a,hr,Uo):g},R.minBy=function(a,s){return a&&a.length?Cn(a,_t(s,2),Uo):g},R.stubArray=Sa,R.stubFalse=Eu,R.stubObject=function(){return{}},R.stubString=function(){return""},R.stubTrue=function(){return!0},R.multiply=qf,R.nth=function(a,s){return a&&a.length?rf(a,Ut(s)):g},R.noConflict=function(){return Tn._===this&&(Tn._=On),this},R.noop=Cc,R.now=hu,R.pad=function(a,s,y){a=cn(a);var x=(s=Ut(s))?ro(a):0;if(!s||x>=s)return a;var k=(s-x)/2;return dc(ia(k),y)+a+dc(Ku(k),y)},R.padEnd=function(a,s,y){a=cn(a);var x=(s=Ut(s))?ro(a):0;return s&&x<s?a+dc(s-x,y):a},R.padStart=function(a,s,y){a=cn(a);var x=(s=Ut(s))?ro(a):0;return s&&x<s?dc(s-x,y)+a:a},R.parseInt=function(a,s,y){return y||s==null?s=0:s&&(s=+s),qu(cn(a).replace(Dt,""),s||0)},R.random=function(a,s,y){if(y&&typeof y!="boolean"&&pr(a,s,y)&&(s=y=g),y===g&&(typeof s=="boolean"?(y=s,s=g):typeof a=="boolean"&&(y=a,a=g)),a===g&&s===g?(a=0,s=1):(a=To(a),s===g?(s=a,a=0):s=To(s)),a>s){var x=a;a=s,s=x}if(y||a%1||s%1){var k=Ju();return fr(a+k*(s-a+ti("1e-"+((k+"").length-1))),s)}return gs(a,s)},R.reduce=function(a,s,y){var x=Bt(a)?Qi:Zn,k=arguments.length<3;return x(a,_t(s,4),y,k,_n)},R.reduceRight=function(a,s,y){var x=Bt(a)?$u:Zn,k=arguments.length<3;return x(a,_t(s,4),y,k,ql)},R.repeat=function(a,s,y){return s=(y?pr(a,s,y):s===g)?1:Ut(s),uc(cn(a),s)},R.replace=function(){var a=arguments,s=cn(a[0]);return a.length<3?s:s.replace(a[1],a[2])},R.result=function(a,s,y){var x=-1,k=(s=si(s,a)).length;for(k||(k=1,a=g);++x<k;){var B=a==null?g:a[Yn(s[x])];B===g&&(x=k,B=y),a=Go(B)?B.call(a):B}return a},R.round=Rc,R.runInContext=_e,R.sample=function(a){return(Bt(a)?ss:rh)(a)},R.size=function(a){if(a==null)return 0;if(wr(a))return vu(a)?ro(a):a.length;var s=ir(a);return s==ie||s==je?a.size:Fo(a).length},R.snakeCase=Vf,R.some=function(a,s,y){var x=Bt(a)?Za:ms;return y&&pr(a,s,y)&&(s=g),x(a,_t(s,3))},R.sortedIndex=function(a,s){return cc(a,s)},R.sortedIndexBy=function(a,s,y){return Os(a,s,_t(y,2))},R.sortedIndexOf=function(a,s){var y=a==null?0:a.length;if(y){var x=cc(a,s);if(x<y&&En(a[x],s))return x}return-1},R.sortedLastIndex=function(a,s){return cc(a,s,!0)},R.sortedLastIndexBy=function(a,s,y){return Os(a,s,_t(y,2),!0)},R.sortedLastIndexOf=function(a,s){if(a!=null&&a.length){var y=cc(a,s,!0)-1;if(En(a[y],s))return y}return-1},R.startCase=vl,R.startsWith=function(a,s,y){return a=cn(a),y=y==null?0:ui(Ut(y),0,a.length),s=kr(s),a.slice(y,y+s.length)==s},R.subtract=Ic,R.sum=function(a){return a&&a.length?ta(a,hr):0},R.sumBy=function(a,s){return a&&a.length?ta(a,_t(s,2)):0},R.template=function(a,s,y){var x=R.templateSettings;y&&pr(a,s,y)&&(s=g),a=cn(a),s=Wo({},s,x,Of);var k,B,ee=Wo({},s.imports,x.imports,Of),ae=Vn(ee),Oe=na(ee,ae),V=0,Ne=s.interpolate||wt,Ue="__p += '",ct=E((s.escape||wt).source+"|"+Ne.source+"|"+(Ne===Ct?st:wt).source+"|"+(s.evaluate||wt).source+"|$","g"),pt="//# sourceURL="+(Qe.call(s,"sourceURL")?(s.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Uu+"]")+`
`;a.replace(ct,function(He,At,it,kt,Nt,$t){return it||(it=kt),Ue+=a.slice(V,$t).replace(Mt,oi),At&&(k=!0,Ue+=`' +
__e(`+At+`) +
'`),Nt&&(B=!0,Ue+=`';
`+Nt+`;
__p += '`),it&&(Ue+=`' +
((__t = (`+it+`)) == null ? '' : __t) +
'`),V=$t+He.length,He}),Ue+=`';
`;var jt=Qe.call(s,"variable")&&s.variable;if(jt){if(We.test(jt))throw new Wt("Invalid `variable` option passed into `_.template`")}else Ue=`with (obj) {
`+Ue+`
}
`;Ue=(B?Ue.replace(Ie,""):Ue).replace(Ot,"$1").replace(Pt,"$1;"),Ue="function("+(jt||"obj")+`) {
`+(jt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(k?", __e = _.escape":"")+(B?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ue+`return __p
}`;var Le=Mc(function(){return yn(ae,pt+"return "+Ue).apply(g,Oe)});if(Le.source=Ue,tl(Le))throw Le;return Le},R.times=function(a,s){if((a=Ut(a))<1||a>J)return[];var y=he,x=fr(a,he);s=_t(s),a-=he;for(var k=Si(x,s);++y<a;)s(y);return k},R.toFinite=To,R.toInteger=Ut,R.toLength=ol,R.toLower=function(a){return cn(a).toLowerCase()},R.toNumber=xr,R.toSafeInteger=function(a){return a?ui(Ut(a),-9007199254740991,J):a===0?a:0},R.toString=cn,R.toUpper=function(a){return cn(a).toUpperCase()},R.trim=function(a,s,y){if((a=cn(a))&&(y||s===g))return qa(a);if(!a||!(s=kr(s)))return a;var x=Ar(a),k=Ar(s);return li(x,Lr(x,k),Ja(x,k)+1).join("")},R.trimEnd=function(a,s,y){if((a=cn(a))&&(y||s===g))return a.slice(0,Or(a)+1);if(!a||!(s=kr(s)))return a;var x=Ar(a);return li(x,0,Ja(x,Ar(s))+1).join("")},R.trimStart=function(a,s,y){if((a=cn(a))&&(y||s===g))return a.replace(Dt,"");if(!a||!(s=kr(s)))return a;var x=Ar(a);return li(x,Lr(x,Ar(s))).join("")},R.truncate=function(a,s){var y=30,x="...";if(An(s)){var k="separator"in s?s.separator:k;y="length"in s?Ut(s.length):y,x="omission"in s?kr(s.omission):x}var B=(a=cn(a)).length;if(no(a)){var ee=Ar(a);B=ee.length}if(y>=B)return a;var ae=y-ro(x);if(ae<1)return x;var Oe=ee?li(ee,0,ae).join(""):a.slice(0,ae);if(k===g)return Oe+x;if(ee&&(ae+=Oe.length-ae),rl(k)){if(a.slice(ae).search(k)){var V,Ne=Oe;for(k.global||(k=E(k.source,cn(Ft.exec(k))+"g")),k.lastIndex=0;V=k.exec(Ne);)var Ue=V.index;Oe=Oe.slice(0,Ue===g?ae:Ue)}}else if(a.indexOf(kr(k),ae)!=ae){var ct=Oe.lastIndexOf(k);ct>-1&&(Oe=Oe.slice(0,ct))}return Oe+x},R.unescape=function(a){return(a=cn(a))&&ke.test(a)?a.replace(xt,zr):a},R.uniqueId=function(a){var s=++pn;return cn(a)+s},R.upperCase=vh,R.upperFirst=In,R.each=Ks,R.eachRight=Ni,R.first=Xs,_u(R,(Pa={},lt(R,function(a,s){Qe.call(R.prototype,s)||(Pa[s]=a)}),Pa),{chain:!1}),R.VERSION="4.17.21",vr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){R[a].placeholder=R}),vr(["drop","take"],function(a,s){Jt.prototype[a]=function(y){y=y===g?1:qn(Ut(y),0);var x=this.__filtered__&&!s?new Jt(this):this.clone();return x.__filtered__?x.__takeCount__=fr(y,x.__takeCount__):x.__views__.push({size:fr(y,he),type:a+(x.__dir__<0?"Right":"")}),x},Jt.prototype[a+"Right"]=function(y){return this.reverse()[a](y).reverse()}}),vr(["filter","map","takeWhile"],function(a,s){var y=s+1,x=y==1||y==3;Jt.prototype[a]=function(k){var B=this.clone();return B.__iteratees__.push({iteratee:_t(k,3),type:y}),B.__filtered__=B.__filtered__||x,B}}),vr(["head","last"],function(a,s){var y="take"+(s?"Right":"");Jt.prototype[a]=function(){return this[y](1).value()[0]}}),vr(["initial","tail"],function(a,s){var y="drop"+(s?"":"Right");Jt.prototype[a]=function(){return this.__filtered__?new Jt(this):this[y](1)}}),Jt.prototype.compact=function(){return this.filter(hr)},Jt.prototype.find=function(a){return this.filter(a).head()},Jt.prototype.findLast=function(a){return this.reverse().find(a)},Jt.prototype.invokeMap=Yt(function(a,s){return typeof a=="function"?new Jt(this):this.map(function(y){return fa(y,a,s)})}),Jt.prototype.reject=function(a){return this.filter(jc(_t(a)))},Jt.prototype.slice=function(a,s){a=Ut(a);var y=this;return y.__filtered__&&(a>0||s<0)?new Jt(y):(a<0?y=y.takeRight(-a):a&&(y=y.drop(a)),s!==g&&(y=(s=Ut(s))<0?y.dropRight(-s):y.take(s-a)),y)},Jt.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},Jt.prototype.toArray=function(){return this.take(he)},lt(Jt.prototype,function(a,s){var y=/^(?:filter|find|map|reject)|While$/.test(s),x=/^(?:head|last)$/.test(s),k=R[x?"take"+(s=="last"?"Right":""):s],B=x||/^find/.test(s);k&&(R.prototype[s]=function(){var ee=this.__wrapped__,ae=x?[1]:arguments,Oe=ee instanceof Jt,V=ae[0],Ne=Oe||Bt(ee),Ue=function(At){var it=k.apply(R,Gn([At],ae));return x&&ct?it[0]:it};Ne&&y&&typeof V=="function"&&V.length!=1&&(Oe=Ne=!1);var ct=this.__chain__,pt=!!this.__actions__.length,jt=B&&!ct,Le=Oe&&!pt;if(!B&&Ne){ee=Le?ee:new Jt(this);var He=a.apply(ee,ae);return He.__actions__.push({func:_a,args:[Ue],thisArg:g}),new Vr(He,ct)}return jt&&Le?a.apply(this,ae):(He=this.thru(Ue),jt?x?He.value()[0]:He.value():He)})}),vr(["pop","push","shift","sort","splice","unshift"],function(a){var s=fe[a],y=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",x=/^(?:pop|shift)$/.test(a);R.prototype[a]=function(){var k=arguments;if(x&&!this.__chain__){var B=this.value();return s.apply(Bt(B)?B:[],k)}return this[y](function(ee){return s.apply(Bt(ee)?ee:[],k)})}}),lt(Jt.prototype,function(a,s){var y=R[s];if(y){var x=y.name+"";Qe.call(ca,x)||(ca[x]=[]),ca[x].push({name:s,func:y})}}),ca[cu(g,2).name]=[{name:"wrapper",func:g}],Jt.prototype.clone=function(){var a=new Jt(this.__wrapped__);return a.__actions__=Tr(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=Tr(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=Tr(this.__views__),a},Jt.prototype.reverse=function(){if(this.__filtered__){var a=new Jt(this);a.__dir__=-1,a.__filtered__=!0}else(a=this.clone()).__dir__*=-1;return a},Jt.prototype.value=function(){var a=this.__wrapped__.value(),s=this.__dir__,y=Bt(a),x=s<0,k=y?a.length:0,B=function($t,dt,St){for(var $n=-1,ur=St.length;++$n<ur;){var uo=St[$n],Qn=uo.size;switch(uo.type){case"drop":$t+=Qn;break;case"dropRight":dt-=Qn;break;case"take":dt=fr(dt,$t+Qn);break;case"takeRight":$t=qn($t,dt-Qn)}}return{start:$t,end:dt}}(0,k,this.__views__),ee=B.start,ae=B.end,Oe=ae-ee,V=x?ae:ee-1,Ne=this.__iteratees__,Ue=Ne.length,ct=0,pt=fr(Oe,this.__takeCount__);if(!y||!x&&k==Oe&&pt==Oe)return lf(a,this.__actions__);var jt=[];e:for(;Oe--&&ct<pt;){for(var Le=-1,He=a[V+=s];++Le<Ue;){var At=Ne[Le],it=At.iteratee,kt=At.type,Nt=it(He);if(kt==2)He=Nt;else if(!Nt){if(kt==1)continue e;break e}}jt[ct++]=He}return jt},R.prototype.at=lh,R.prototype.chain=function(){return Nf(this)},R.prototype.commit=function(){return new Vr(this.value(),this.__chain__)},R.prototype.next=function(){this.__values__===g&&(this.__values__=ja(this.value()));var a=this.__index__>=this.__values__.length;return{done:a,value:a?g:this.__values__[this.__index__++]}},R.prototype.plant=function(a){for(var s,y=this;y instanceof ou;){var x=Pf(y);x.__index__=0,x.__values__=g,s?k.__wrapped__=x:s=x;var k=x;y=y.__wrapped__}return k.__wrapped__=a,s},R.prototype.reverse=function(){var a=this.__wrapped__;if(a instanceof Jt){var s=a;return this.__actions__.length&&(s=new Jt(this)),(s=s.reverse()).__actions__.push({func:_a,args:[Ec],thisArg:g}),new Vr(s,this.__chain__)}return this.thru(Ec)},R.prototype.toJSON=R.prototype.valueOf=R.prototype.value=function(){return lf(this.__wrapped__,this.__actions__)},R.prototype.first=R.prototype.head,Io&&(R.prototype[Io]=function(){return this}),R}();Tn._=oo,(_=function(){return oo}.call(b,u,b,f))===g||(f.exports=_)}).call(this)}).call(this,u(68),u(220)(h))},function(h,b,u){var d=u(7),f=u(34),_=u(33),g=u(87),S=u(61),T=u(174),M=u(28),I=d.TypeError,C=M("toPrimitive");h.exports=function(U,z){if(!_(U)||g(U))return U;var G,q=S(U,C);if(q){if(z===void 0&&(z="default"),G=f(q,U,z),!_(G)||g(G))return G;throw I("Can't convert object to primitive value")}return z===void 0&&(z="number"),T(U,z)}},function(h,b,u){var d=u(108);h.exports=d&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(h,b,u){var d=u(36),f=u(18),_=u(91);h.exports=!d&&!f(function(){return Object.defineProperty(_("div"),"a",{get:function(){return 7}}).a!=7})},function(h,b,u){var d=u(35),f=u(135),_=u(50),g=u(38);h.exports=function(S,T){for(var M=f(T),I=g.f,C=_.f,U=0;U<M.length;U++){var z=M[U];d(S,z)||I(S,z,C(T,z))}}},function(h,b,u){var d=u(46),f=u(15),_=u(74),g=u(112),S=u(32),T=f([].concat);h.exports=d("Reflect","ownKeys")||function(M){var I=_.f(S(M)),C=g.f;return C?T(I,C(M)):I}},function(h,b,u){var d=u(15),f=u(35),_=u(41),g=u(137).indexOf,S=u(72),T=d([].push);h.exports=function(M,I){var C,U=_(M),z=0,G=[];for(C in U)!f(S,C)&&f(U,C)&&T(G,C);for(;I.length>z;)f(U,C=I[z++])&&(~g(G,C)||T(G,C));return G}},function(h,b,u){var d=u(41),f=u(75),_=u(45),g=function(S){return function(T,M,I){var C,U=d(T),z=_(U),G=f(I,z);if(S&&M!=M){for(;z>G;)if((C=U[G++])!=C)return!0}else for(;z>G;G++)if((S||G in U)&&U[G]===M)return S||G||0;return!S&&-1}};h.exports={includes:g(!0),indexOf:g(!1)}},function(h,b,u){var d=u(46);h.exports=d("document","documentElement")},function(h,b,u){var d=u(51),f=u(41),_=u(74).f,g=u(114),S=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];h.exports.f=function(T){return S&&d(T)=="Window"?function(M){try{return _(M)}catch{return g(S)}}(T):_(f(T))}},function(h,b,u){var d=u(28);b.f=d},function(h,b,u){var d=u(177),f=u(35),_=u(140),g=u(38).f;h.exports=function(S){var T=d.Symbol||(d.Symbol={});f(T,S)||g(T,S,{value:_.f(S)})}},function(h,b,u){var d,f,_,g=u(18),S=u(30),T=u(60),M=u(101),I=u(42),C=u(28),U=u(71),z=C("iterator"),G=!1;[].keys&&("next"in(_=[].keys())?(f=M(M(_)))!==Object.prototype&&(d=f):G=!0),d==null||g(function(){var q={};return d[z].call(q)!==q})?d={}:U&&(d=T(d)),S(d[z])||I(d,z,function(){return this}),h.exports={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:G}},function(h,b,u){var d=u(18);h.exports=!d(function(){function f(){}return f.prototype.constructor=null,Object.getPrototypeOf(new f)!==f.prototype})},function(h,b,u){var d=u(16),f=u(15),_=u(72),g=u(33),S=u(35),T=u(38).f,M=u(74),I=u(139),C=u(183),U=u(90),z=u(185),G=!1,q=U("meta"),J=0,ce=function(se){T(se,q,{value:{objectID:"O"+J++,weakData:{}}})},he=h.exports={enable:function(){he.enable=function(){},G=!0;var se=M.f,Q=f([].splice),re={};re[q]=1,se(re).length&&(M.f=function(W){for(var L=se(W),H=0,X=L.length;H<X;H++)if(L[H]===q){Q(L,H,1);break}return L},d({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:I.f}))},fastKey:function(se,Q){if(!g(se))return typeof se=="symbol"?se:(typeof se=="string"?"S":"P")+se;if(!S(se,q)){if(!C(se))return"F";if(!Q)return"E";ce(se)}return se[q].objectID},getWeakData:function(se,Q){if(!S(se,q)){if(!C(se))return!0;if(!Q)return!1;ce(se)}return se[q].weakData},onFreeze:function(se){return z&&G&&C(se)&&!S(se,q)&&ce(se),se}};_[q]=!0},function(h,b,u){var d=u(28),f=u(80),_=d("iterator"),g=Array.prototype;h.exports=function(S){return S!==void 0&&(f.Array===S||g[_]===S)}},function(h,b,u){var d=u(7),f=u(34),_=u(56),g=u(32),S=u(88),T=u(118),M=d.TypeError;h.exports=function(I,C){var U=arguments.length<2?T(I):C;if(_(U))return g(f(U,I));throw M(S(I)+" is not iterable")}},function(h,b,u){var d=u(34),f=u(32),_=u(61);h.exports=function(g,S,T){var M,I;f(g);try{if(!(M=_(g,"return"))){if(S==="throw")throw T;return T}M=d(M,g)}catch(C){I=!0,M=C}if(S==="throw")throw T;if(I)throw M;return f(M),T}},function(h,b,u){var d=u(30),f=u(33),_=u(102);h.exports=function(g,S,T){var M,I;return _&&d(M=S.constructor)&&M!==T&&f(I=M.prototype)&&I!==T.prototype&&_(g,I),g}},function(h,b,u){var d=u(42);h.exports=function(f,_,g){for(var S in _)d(f,S,_[S],g);return f}},function(h,b,u){var d=u(46),f=u(38),_=u(28),g=u(36),S=_("species");h.exports=function(T){var M=d(T),I=f.f;g&&M&&!M[S]&&I(M,S,{configurable:!0,get:function(){return this}})}},function(h,b,u){var d=u(15),f=u(59),_=u(39),g=u(44),S=d("".charAt),T=d("".charCodeAt),M=d("".slice),I=function(C){return function(U,z){var G,q,J=_(g(U)),ce=f(z),he=J.length;return ce<0||ce>=he?C?"":void 0:(G=T(J,ce))<55296||G>56319||ce+1===he||(q=T(J,ce+1))<56320||q>57343?C?S(J,ce):G:C?M(J,ce,ce+2):q-56320+(G-55296<<10)+65536}};h.exports={codeAt:I(!1),charAt:I(!0)}},function(h,b){h.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(h,b,u){var d=u(91)("span").classList,f=d&&d.constructor&&d.constructor.prototype;h.exports=f===Object.prototype?void 0:f},function(h,b,u){var d=u(32);h.exports=function(){var f=d(this),_="";return f.global&&(_+="g"),f.ignoreCase&&(_+="i"),f.multiline&&(_+="m"),f.dotAll&&(_+="s"),f.unicode&&(_+="u"),f.sticky&&(_+="y"),_}},function(h,b,u){var d=u(18),f=u(7).RegExp,_=d(function(){var T=f("a","y");return T.lastIndex=2,T.exec("abcd")!=null}),g=_||d(function(){return!f("a","y").sticky}),S=_||d(function(){var T=f("^r","gy");return T.lastIndex=2,T.exec("str")!=null});h.exports={BROKEN_CARET:S,MISSED_STICKY:g,UNSUPPORTED_Y:_}},function(h,b,u){var d=u(16),f=u(79).find,_=u(100),g="find",S=!0;g in[]&&Array(1).find(function(){S=!1}),d({target:"Array",proto:!0,forced:S},{find:function(T){return f(this,T,arguments.length>1?arguments[1]:void 0)}}),_(g)},function(h,b,u){var d=u(16),f=u(137).includes,_=u(100);d({target:"Array",proto:!0},{includes:function(g){return f(this,g,arguments.length>1?arguments[1]:void 0)}}),_("includes")},function(h,b,u){var d=u(16),f=u(15),_=u(197),g=u(44),S=u(39),T=u(198),M=f("".indexOf);d({target:"String",proto:!0,forced:!T("includes")},{includes:function(I){return!!~M(S(g(this)),S(_(I)),arguments.length>1?arguments[1]:void 0)}})},function(h,b,u){var d=u(33),f=u(51),_=u(28)("match");h.exports=function(g){var S;return d(g)&&((S=g[_])!==void 0?!!S:f(g)=="RegExp")}},function(h,b,u){var d=u(15);h.exports=d(1 .valueOf)},function(h,b,u){var d=u(15),f=u(44),_=u(39),g=u(162),S=d("".replace),T="["+g+"]",M=RegExp("^"+T+T+"*"),I=RegExp(T+T+"*$"),C=function(U){return function(z){var G=_(f(z));return 1&U&&(G=S(G,M,"")),2&U&&(G=S(G,I,"")),G}};h.exports={start:C(1),end:C(2),trim:C(3)}},function(h,b){h.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},function(h,b){var u,d,f=h.exports={};function _(){throw new Error("setTimeout has not been defined")}function g(){throw new Error("clearTimeout has not been defined")}function S(J){if(u===setTimeout)return setTimeout(J,0);if((u===_||!u)&&setTimeout)return u=setTimeout,setTimeout(J,0);try{return u(J,0)}catch{try{return u.call(null,J,0)}catch{return u.call(this,J,0)}}}(function(){try{u=typeof setTimeout=="function"?setTimeout:_}catch{u=_}try{d=typeof clearTimeout=="function"?clearTimeout:g}catch{d=g}})();var T,M=[],I=!1,C=-1;function U(){I&&T&&(I=!1,T.length?M=T.concat(M):C=-1,M.length&&z())}function z(){if(!I){var J=S(U);I=!0;for(var ce=M.length;ce;){for(T=M,M=[];++C<ce;)T&&T[C].run();C=-1,ce=M.length}T=null,I=!1,function(he){if(d===clearTimeout)return clearTimeout(he);if((d===g||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(he);try{d(he)}catch{try{return d.call(null,he)}catch{return d.call(this,he)}}}(J)}}function G(J,ce){this.fun=J,this.array=ce}function q(){}f.nextTick=function(J){var ce=new Array(arguments.length-1);if(arguments.length>1)for(var he=1;he<arguments.length;he++)ce[he-1]=arguments[he];M.push(new G(J,ce)),M.length!==1||I||S(z)},G.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=q,f.addListener=q,f.once=q,f.off=q,f.removeListener=q,f.removeAllListeners=q,f.emit=q,f.prependListener=q,f.prependOnceListener=q,f.listeners=function(J){return[]},f.binding=function(J){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(J){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(h,b,u){var d=u(32),f=u(165),_=u(28)("species");h.exports=function(g,S){var T,M=d(g).constructor;return M===void 0||(T=d(M)[_])==null?S:f(T)}},function(h,b,u){var d=u(7),f=u(99),_=u(88),g=d.TypeError;h.exports=function(S){if(f(S))return S;throw g(_(S)+" is not a constructor")}},function(h,b,u){var d=u(16),f=u(161).trim;d({target:"String",proto:!0,forced:u(200)("trim")},{trim:function(){return f(this)}})},function(h,b,u){var d=u(34),f=u(123),_=u(32),g=u(94),S=u(39),T=u(44),M=u(61),I=u(124),C=u(125);f("match",function(U,z,G){return[function(q){var J=T(this),ce=q==null?void 0:M(q,U);return ce?d(ce,q,J):new RegExp(q)[U](S(J))},function(q){var J=_(this),ce=S(q),he=G(z,J,ce);if(he.done)return he.value;if(!J.global)return C(J,ce);var se=J.unicode;J.lastIndex=0;for(var Q,re=[],W=0;(Q=C(J,ce))!==null;){var L=S(Q[0]);re[W]=L,L===""&&(J.lastIndex=I(ce,g(J.lastIndex),se)),W++}return W===0?null:re}]})},function(h,b,u){var d,f,_,g,S=u(7),T=u(76),M=u(63),I=u(30),C=u(35),U=u(18),z=u(138),G=u(98),q=u(91),J=u(169),ce=u(128),he=S.setImmediate,se=S.clearImmediate,Q=S.process,re=S.Dispatch,W=S.Function,L=S.MessageChannel,H=S.String,X=0,$={},ie="onreadystatechange";try{d=S.location}catch{}var Ee=function(je){if(C($,je)){var ve=$[je];delete $[je],ve()}},be=function(je){return function(){Ee(je)}},Pe=function(je){Ee(je.data)},ze=function(je){S.postMessage(H(je),d.protocol+"//"+d.host)};he&&se||(he=function(je){var ve=G(arguments,1);return $[++X]=function(){T(I(je)?je:W(je),void 0,ve)},f(X),X},se=function(je){delete $[je]},ce?f=function(je){Q.nextTick(be(je))}:re&&re.now?f=function(je){re.now(be(je))}:L&&!J?(g=(_=new L).port2,_.port1.onmessage=Pe,f=M(g.postMessage,g)):S.addEventListener&&I(S.postMessage)&&!S.importScripts&&d&&d.protocol!=="file:"&&!U(ze)?(f=ze,S.addEventListener("message",Pe,!1)):f=ie in q("script")?function(je){z.appendChild(q("script")).onreadystatechange=function(){z.removeChild(this),Ee(je)}}:function(je){setTimeout(be(je),0)}),h.exports={set:he,clear:se}},function(h,b,u){var d=u(55);h.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(d)},function(h,b,u){var d=u(56),f=function(_){var g,S;this.promise=new _(function(T,M){if(g!==void 0||S!==void 0)throw TypeError("Bad Promise constructor");g=T,S=M}),this.resolve=d(g),this.reject=d(S)};h.exports.f=function(_){return new f(_)}},function(h,b,u){b.a=function(){return!1}},function(h,b,u){(function(d){u.d(b,"a",function(){return Q});var f=u(1);function _(L){throw new Error("[mobx-utils] "+L)}function g(L,H){H===void 0&&(H="Illegal state"),L||_(H)}var S=function(L){return L&&L!==Object.prototype&&Object.getOwnPropertyNames(L).concat(S(Object.getPrototypeOf(L))||[])},T=function(L){return function(H){var X=S(H);return X.filter(function($,ie){return X.indexOf($)===ie})}(L).filter(function(H){return H!=="constructor"&&!~H.indexOf("__")})},M="pending",I="fulfilled",C="rejected";function U(L){switch(this.state){case M:return L.pending&&L.pending(this.value);case C:return L.rejected&&L.rejected(this.value);case I:return L.fulfilled?L.fulfilled(this.value):this.value}}function z(L,H){if(g(arguments.length<=2,"fromPromise expects up to two arguments"),g(typeof L=="function"||typeof L=="object"&&L&&typeof L.then=="function","Please pass a promise or function to fromPromise"),L.isPromiseBasedObservable===!0)return L;typeof L=="function"&&(L=new Promise(L));var X=L;L.then(Object(f.k)("observableFromPromise-resolve",function(ie){X.value=ie,X.state=I}),Object(f.k)("observableFromPromise-reject",function(ie){X.value=ie,X.state=C})),X.isPromiseBasedObservable=!0,X.case=U;var $=H&&H.state===I?H.value:void 0;return Object(f.q)(X,{value:$,state:M},{},{deep:!1}),X}(function(L){L.reject=Object(f.k)("fromPromise.reject",function(H){var X=L(Promise.reject(H));return X.state=C,X.value=H,X}),L.resolve=Object(f.k)("fromPromise.resolve",function(H){H===void 0&&(H=void 0);var X=L(Promise.resolve(H));return X.state=I,X.value=H,X})})(z||(z={}));var G=function(L,H,X,$){var ie,Ee=arguments.length,be=Ee<3?H:$===null?$=Object.getOwnPropertyDescriptor(H,X):$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")be=Reflect.decorate(L,H,X,$);else for(var Pe=L.length-1;Pe>=0;Pe--)(ie=L[Pe])&&(be=(Ee<3?ie(be):Ee>3?ie(H,X,be):ie(H,X))||be);return Ee>3&&be&&Object.defineProperty(H,X,be),be};(function(){function L(H,X){var $=this;Object(f.G)(function(){$.current=X,$.subscription=H.subscribe($)})}L.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},L.prototype.next=function(H){this.current=H},L.prototype.complete=function(){this.dispose()},L.prototype.error=function(H){this.current=H,this.dispose()},G([f.C.ref],L.prototype,"current",void 0),G([f.k.bound],L.prototype,"next",null),G([f.k.bound],L.prototype,"complete",null),G([f.k.bound],L.prototype,"error",null)})();var q=function(){return q=Object.assign||function(L){for(var H,X=1,$=arguments.length;X<$;X++)for(var ie in H=arguments[X])Object.prototype.hasOwnProperty.call(H,ie)&&(L[ie]=H[ie]);return L},q.apply(this,arguments)},J=function(L,H,X,$){var ie,Ee=arguments.length,be=Ee<3?H:$===null?$=Object.getOwnPropertyDescriptor(H,X):$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")be=Reflect.decorate(L,H,X,$);else for(var Pe=L.length-1;Pe>=0;Pe--)(ie=L[Pe])&&(be=(Ee<3?ie(be):Ee>3?ie(H,X,be):ie(H,X))||be);return Ee>3&&be&&Object.defineProperty(H,X,be),be},ce=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function L(H){var X=this;this.model=H,this.localValues=f.C.map({}),this.localComputedValues=f.C.map({}),this.isPropertyDirty=function($){return X.localValues.has($)},g(Object(f.A)(H),"createViewModel expects an observable object"),T(H).forEach(function($){if($!==f.a&&$!=="__mobxDidRunLazyInitializers"){if(g(ce.indexOf($)===-1,"The propertyname "+$+" is reserved and cannot be used with viewModels"),Object(f.w)(H,$)){var ie=Object(f.h)(H,$).derivation;X.localComputedValues.set($,Object(f.m)(ie.bind(X)))}var Ee=Object.getOwnPropertyDescriptor(H,$),be=Ee?{enumerable:Ee.enumerable}:{};Object.defineProperty(X,$,q(q({},be),{configurable:!0,get:function(){return Object(f.w)(H,$)?X.localComputedValues.get($).get():X.isPropertyDirty($)?X.localValues.get($):X.model[$]},set:Object(f.k)(function(Pe){Pe!==X.model[$]?X.localValues.set($,Pe):X.localValues.delete($)})}))}})}Object.defineProperty(L.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),L.prototype.submit=function(){var H=this;Object(f.B)(this.localValues).forEach(function(X){var $=H.localValues.get(X),ie=H.model[X];Object(f.y)(ie)?ie.replace($):Object(f.z)(ie)?(ie.clear(),ie.merge($)):Object(f.v)($)||(H.model[X]=$)}),this.localValues.clear()},L.prototype.reset=function(){this.localValues.clear()},L.prototype.resetProperty=function(H){this.localValues.delete(H)},J([f.m],L.prototype,"isDirty",null),J([f.m],L.prototype,"changedValues",null),J([f.k.bound],L.prototype,"submit",null),J([f.k.bound],L.prototype,"reset",null),J([f.k.bound],L.prototype,"resetProperty",null)})();function he(L){if(!L)return"ROOT";for(var H=[];L.parent;)H.push(L.path),L=L.parent;return H.reverse().join("/")}function se(L){return Object(f.A)(L)||Object(f.y)(L)||Object(f.z)(L)}function Q(L,H){var X=new WeakMap;function $(be){var Pe=X.get(be.object);(function(ze,je){switch(ze.type){case"add":ie(ze.newValue,je,ze.name);break;case"update":Ee(ze.oldValue),ie(ze.newValue,je,ze.name||""+ze.index);break;case"remove":case"delete":Ee(ze.oldValue);break;case"splice":ze.removed.map(Ee),ze.added.forEach(function(Ae,Fe){return ie(Ae,je,""+(ze.index+Fe))});for(var ve=ze.index+ze.addedCount;ve<ze.object.length;ve++)if(se(ze.object[ve])){var Se=X.get(ze.object[ve]);Se&&(Se.path=""+ve)}}})(be,Pe),H(be,he(Pe),L)}function ie(be,Pe,ze){if(se(be)){var je=X.get(be);if(je){if(je.parent!==Pe||je.path!==ze)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+he(Pe)+"/"+ze+"', but it already exists at '"+he(je.parent)+"/"+je.path+"'")}else{var ve={parent:Pe,path:ze,dispose:Object(f.D)(be,$)};X.set(be,ve),Object(f.p)(be).forEach(function(Se){var Ae=Se[0];return ie(Se[1],ve,Ae)})}}}function Ee(be){if(se(be)){var Pe=X.get(be);if(!Pe)return;X.delete(be),Pe.dispose(),Object(f.L)(be).forEach(Ee)}}return ie(L,void 0,""),function(){Ee(L)}}var re,W=(re=function(L,H){return re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,$){X.__proto__=$}||function(X,$){for(var ie in $)$.hasOwnProperty(ie)&&(X[ie]=$[ie])},re(L,H)},function(L,H){function X(){this.constructor=L}re(L,H),L.prototype=H===null?Object.create(H):(X.prototype=H.prototype,new X)});(function(L){function H(X,$,ie){var Ee=ie===void 0?{}:ie,be=Ee.name,Pe=be===void 0?"ogm"+(1e3*Math.random()|0):be,ze=Ee.keyToName,je=ze===void 0?function(Ae){return""+Ae}:ze,ve=L.call(this)||this;ve._keyToName=je,ve._groupBy=$,ve._ogmInfoKey=Symbol("ogmInfo"+Pe),ve._base=X;for(var Se=0;Se<X.length;Se++)ve._addItem(X[Se]);return ve._disposeBaseObserver=Object(f.D)(ve._base,function(Ae){if(Ae.type==="splice")Object(f.J)(function(){for(var Fe=0,tt=Ae.removed;Fe<tt.length;Fe++){var mt=tt[Fe];ve._removeItem(mt)}for(var Ye=0,Ke=Ae.added;Ye<Ke.length;Ye++){var vt=Ke[Ye];ve._addItem(vt)}});else{if(Ae.type!=="update")throw new Error("illegal state");Object(f.J)(function(){ve._removeItem(Ae.oldValue),ve._addItem(Ae.newValue)})}}),ve}W(H,L),H.prototype.clear=function(){throw new Error("not supported")},H.prototype.delete=function(X){throw new Error("not supported")},H.prototype.set=function(X,$){throw new Error("not supported")},H.prototype.dispose=function(){this._disposeBaseObserver();for(var X=0;X<this._base.length;X++){var $=this._base[X];$[this._ogmInfoKey].reaction(),delete $[this._ogmInfoKey]}},H.prototype._getGroupArr=function(X){var $=L.prototype.get.call(this,X);return $===void 0&&($=Object(f.C)([],{name:"GroupArray["+this._keyToName(X)+"]",deep:!1}),L.prototype.set.call(this,X,$)),$},H.prototype._removeFromGroupArr=function(X,$){var ie=L.prototype.get.call(this,X);ie.length===1?L.prototype.delete.call(this,X):($===ie.length-1||(ie[$]=ie[ie.length-1],ie[$][this._ogmInfoKey].groupArrIndex=$),ie.length--)},H.prototype._addItem=function(X){var $=this,ie=this._groupBy(X),Ee=this._getGroupArr(ie),be={groupByValue:ie,groupArrIndex:Ee.length,reaction:Object(f.F)(function(){return $._groupBy(X)},function(Pe,ze){var je=X[$._ogmInfoKey];$._removeFromGroupArr(je.groupByValue,je.groupArrIndex);var ve=$._getGroupArr(Pe),Se=ve.length;ve.push(X),je.groupByValue=Pe,je.groupArrIndex=Se})};Object.defineProperty(X,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:be}),Ee.push(X)},H.prototype._removeItem=function(X){var $=X[this._ogmInfoKey];this._removeFromGroupArr($.groupByValue,$.groupArrIndex),$.reaction(),delete X[this._ogmInfoKey]}})(f.b),function(){function L(H,X){this.base=H,this.args=X,this.closestIdx=0,this.isDisposed=!1;for(var $=this.closest=this.root=H,ie=0;ie<this.args.length-1&&($=$.get(X[ie]));ie++)this.closest=$;this.closestIdx=ie}return L.prototype.exists=function(){this.assertNotDisposed();var H=this.args.length;return this.closestIdx>=H-1&&this.closest.has(this.args[H-1])},L.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},L.prototype.set=function(H){this.assertNotDisposed();for(var X=this.args.length,$=this.closest,ie=this.closestIdx;ie<X-1;ie++){var Ee=new Map;$.set(this.args[ie],Ee),$=Ee}this.closestIdx=X-1,this.closest=$,$.set(this.args[X-1],H)},L.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var H=this.args.length;this.closest.delete(this.args[H-1]);for(var X=this.root,$=[X],ie=0;ie<H-1;ie++)X=X.get(this.args[ie]),$.push(X);for(ie=$.length-1;ie>0;ie--)$[ie].size===0&&$[ie-1].delete(this.args[ie-1]);this.isDisposed=!0},L.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},L}(),Promise.resolve(),typeof queueMicrotask<"u"||d!==void 0&&d.nextTick}).call(this,u(163))},function(h,b,u){var d;(function(f,_,g){if(f){for(var S,T={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},M={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},I={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},C={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},U=1;U<20;++U)T[111+U]="f"+U;for(U=0;U<=9;++U)T[U+96]=U.toString();se.prototype.bind=function(Q,re,W){var L=this;return Q=Q instanceof Array?Q:[Q],L._bindMultiple.call(L,Q,re,W),L},se.prototype.unbind=function(Q,re){return this.bind.call(this,Q,function(){},re)},se.prototype.trigger=function(Q,re){var W=this;return W._directMap[Q+":"+re]&&W._directMap[Q+":"+re]({},Q),W},se.prototype.reset=function(){var Q=this;return Q._callbacks={},Q._directMap={},Q},se.prototype.stopCallback=function(Q,re){if((" "+re.className+" ").indexOf(" mousetrap ")>-1||he(re,this.target))return!1;if("composedPath"in Q&&typeof Q.composedPath=="function"){var W=Q.composedPath()[0];W!==Q.target&&(re=W)}return re.tagName=="INPUT"||re.tagName=="SELECT"||re.tagName=="TEXTAREA"||re.isContentEditable},se.prototype.handleKey=function(){var Q=this;return Q._handleKey.apply(Q,arguments)},se.addKeycodes=function(Q){for(var re in Q)Q.hasOwnProperty(re)&&(T[re]=Q[re]);S=null},se.init=function(){var Q=se(_);for(var re in Q)re.charAt(0)!=="_"&&(se[re]=function(W){return function(){return Q[W].apply(Q,arguments)}}(re))},se.init(),f.Mousetrap=se,h.exports&&(h.exports=se),(d=function(){return se}.call(b,u,b,h))===void 0||(h.exports=d)}function z(Q,re,W){Q.addEventListener?Q.addEventListener(re,W,!1):Q.attachEvent("on"+re,W)}function G(Q){if(Q.type=="keypress"){var re=String.fromCharCode(Q.which);return Q.shiftKey||(re=re.toLowerCase()),re}return T[Q.which]?T[Q.which]:M[Q.which]?M[Q.which]:String.fromCharCode(Q.which).toLowerCase()}function q(Q){return Q=="shift"||Q=="ctrl"||Q=="alt"||Q=="meta"}function J(Q,re,W){return W||(W=function(){if(!S)for(var L in S={},T)L>95&&L<112||T.hasOwnProperty(L)&&(S[T[L]]=L);return S}()[Q]?"keydown":"keypress"),W=="keypress"&&re.length&&(W="keydown"),W}function ce(Q,re){var W,L,H,X=[];for(W=function($){return $==="+"?["+"]:($=$.replace(/\+{2}/g,"+plus")).split("+")}(Q),H=0;H<W.length;++H)L=W[H],C[L]&&(L=C[L]),re&&re!="keypress"&&I[L]&&(L=I[L],X.push("shift")),q(L)&&X.push(L);return{key:L,modifiers:X,action:re=J(L,X,re)}}function he(Q,re){return Q!==null&&Q!==_&&(Q===re||he(Q.parentNode,re))}function se(Q){var re=this;if(Q=Q||_,!(re instanceof se))return new se(Q);re.target=Q,re._callbacks={},re._directMap={};var W,L={},H=!1,X=!1,$=!1;function ie(ve){ve=ve||{};var Se,Ae=!1;for(Se in L)ve[Se]?Ae=!0:L[Se]=0;Ae||($=!1)}function Ee(ve,Se,Ae,Fe,tt,mt){var Ye,Ke,vt,ue,oe=[],de=Ae.type;if(!re._callbacks[ve])return[];for(de=="keyup"&&q(ve)&&(Se=[ve]),Ye=0;Ye<re._callbacks[ve].length;++Ye)if(Ke=re._callbacks[ve][Ye],(Fe||!Ke.seq||L[Ke.seq]==Ke.level)&&de==Ke.action&&(de=="keypress"&&!Ae.metaKey&&!Ae.ctrlKey||(vt=Se,ue=Ke.modifiers,vt.sort().join(",")===ue.sort().join(",")))){var De=!Fe&&Ke.combo==tt,Xe=Fe&&Ke.seq==Fe&&Ke.level==mt;(De||Xe)&&re._callbacks[ve].splice(Ye,1),oe.push(Ke)}return oe}function be(ve,Se,Ae,Fe){re.stopCallback(Se,Se.target||Se.srcElement,Ae,Fe)||ve(Se,Ae)===!1&&(function(tt){tt.preventDefault?tt.preventDefault():tt.returnValue=!1}(Se),function(tt){tt.stopPropagation?tt.stopPropagation():tt.cancelBubble=!0}(Se))}function Pe(ve){typeof ve.which!="number"&&(ve.which=ve.keyCode);var Se=G(ve);Se&&(ve.type!="keyup"||H!==Se?re.handleKey(Se,function(Ae){var Fe=[];return Ae.shiftKey&&Fe.push("shift"),Ae.altKey&&Fe.push("alt"),Ae.ctrlKey&&Fe.push("ctrl"),Ae.metaKey&&Fe.push("meta"),Fe}(ve),ve):H=!1)}function ze(ve,Se,Ae,Fe){function tt(vt){return function(){$=vt,++L[ve],clearTimeout(W),W=setTimeout(ie,1e3)}}function mt(vt){be(Ae,vt,ve),Fe!=="keyup"&&(H=G(vt)),setTimeout(ie,10)}L[ve]=0;for(var Ye=0;Ye<Se.length;++Ye){var Ke=Ye+1===Se.length?mt:tt(Fe||ce(Se[Ye+1]).action);je(Se[Ye],Ke,Fe,ve,Ye)}}function je(ve,Se,Ae,Fe,tt){re._directMap[ve+":"+Ae]=Se;var mt,Ye=(ve=ve.replace(/\s+/g," ")).split(" ");Ye.length>1?ze(ve,Ye,Se,Ae):(mt=ce(ve,Ae),re._callbacks[mt.key]=re._callbacks[mt.key]||[],Ee(mt.key,mt.modifiers,{type:mt.action},Fe,ve,tt),re._callbacks[mt.key][Fe?"unshift":"push"]({callback:Se,modifiers:mt.modifiers,action:mt.action,seq:Fe,level:tt,combo:ve}))}re._handleKey=function(ve,Se,Ae){var Fe,tt=Ee(ve,Se,Ae),mt={},Ye=0,Ke=!1;for(Fe=0;Fe<tt.length;++Fe)tt[Fe].seq&&(Ye=Math.max(Ye,tt[Fe].level));for(Fe=0;Fe<tt.length;++Fe)if(tt[Fe].seq){if(tt[Fe].level!=Ye)continue;Ke=!0,mt[tt[Fe].seq]=1,be(tt[Fe].callback,Ae,tt[Fe].combo,tt[Fe].seq)}else Ke||be(tt[Fe].callback,Ae,tt[Fe].combo);var vt=Ae.type=="keypress"&&X;Ae.type!=$||q(ve)||vt||ie(mt),X=Ke&&Ae.type=="keydown"},re._bindMultiple=function(ve,Se,Ae){for(var Fe=0;Fe<ve.length;++Fe)je(ve[Fe],Se,Ae)},z(Q,"keypress",Pe),z(Q,"keydown",Pe),z(Q,"keyup",Pe)}})(typeof window<"u"?window:null,typeof window<"u"?document:null)},function(h,b,u){var d=u(7),f=u(34),_=u(30),g=u(33),S=d.TypeError;h.exports=function(T,M){var I,C;if(M==="string"&&_(I=T.toString)&&!g(C=f(I,T))||_(I=T.valueOf)&&!g(C=f(I,T))||M!=="string"&&_(I=T.toString)&&!g(C=f(I,T)))return C;throw S("Can't convert object to primitive value")}},function(h,b,u){var d=u(7),f=u(30),_=u(92),g=d.WeakMap;h.exports=f(g)&&/native code/.test(_(g))},function(h,b,u){var d=u(36),f=u(38),_=u(32),g=u(41),S=u(77);h.exports=d?Object.defineProperties:function(T,M){_(T);for(var I,C=g(M),U=S(M),z=U.length,G=0;z>G;)f.f(T,I=U[G++],C[I]);return T}},function(h,b,u){var d=u(7);h.exports=d},function(h,b,u){var d=u(7),f=u(96),_=u(99),g=u(33),S=u(28)("species"),T=d.Array;h.exports=function(M){var I;return f(M)&&(I=M.constructor,(_(I)&&(I===T||f(I.prototype))||g(I)&&(I=I[S])===null)&&(I=void 0)),I===void 0?T:I}},function(h,b,u){var d=u(113),f=u(97);h.exports=d?{}.toString:function(){return"[object "+f(this)+"]"}},function(h,b,u){var d=u(142).IteratorPrototype,f=u(60),_=u(69),g=u(78),S=u(80),T=function(){return this};h.exports=function(M,I,C,U){var z=I+" Iterator";return M.prototype=f(d,{next:_(+!U,C)}),g(M,z,!1,!0),S[z]=T,M}},function(h,b,u){var d=u(7),f=u(30),_=d.String,g=d.TypeError;h.exports=function(S){if(typeof S=="object"||f(S))return S;throw g("Can't set "+_(S)+" as a prototype")}},function(h,b,u){var d=u(16),f=u(7),_=u(15),g=u(95),S=u(42),T=u(144),M=u(117),I=u(119),C=u(30),U=u(33),z=u(18),G=u(120),q=u(78),J=u(148);h.exports=function(ce,he,se){var Q=ce.indexOf("Map")!==-1,re=ce.indexOf("Weak")!==-1,W=Q?"set":"add",L=f[ce],H=L&&L.prototype,X=L,$={},ie=function(ve){var Se=_(H[ve]);S(H,ve,ve=="add"?function(Ae){return Se(this,Ae===0?0:Ae),this}:ve=="delete"?function(Ae){return!(re&&!U(Ae))&&Se(this,Ae===0?0:Ae)}:ve=="get"?function(Ae){return re&&!U(Ae)?void 0:Se(this,Ae===0?0:Ae)}:ve=="has"?function(Ae){return!(re&&!U(Ae))&&Se(this,Ae===0?0:Ae)}:function(Ae,Fe){return Se(this,Ae===0?0:Ae,Fe),this})};if(g(ce,!C(L)||!(re||H.forEach&&!z(function(){new L().entries().next()}))))X=se.getConstructor(he,ce,Q,W),T.enable();else if(g(ce,!0)){var Ee=new X,be=Ee[W](re?{}:-0,1)!=Ee,Pe=z(function(){Ee.has(1)}),ze=G(function(ve){new L(ve)}),je=!re&&z(function(){for(var ve=new L,Se=5;Se--;)ve[W](Se,Se);return!ve.has(-0)});ze||((X=he(function(ve,Se){I(ve,H);var Ae=J(new L,ve,X);return Se!=null&&M(Se,Ae[W],{that:Ae,AS_ENTRIES:Q}),Ae})).prototype=H,H.constructor=X),(Pe||je)&&(ie("delete"),ie("has"),Q&&ie("get")),(je||be)&&ie(W),re&&H.clear&&delete H.clear}return $[ce]=X,d({global:!0,forced:X!=L},$),q(X,ce),re||se.setStrong(X,ce,Q),X}},function(h,b,u){var d=u(18),f=u(33),_=u(51),g=u(184),S=Object.isExtensible,T=d(function(){});h.exports=T||g?function(M){return!!f(M)&&(!g||_(M)!="ArrayBuffer")&&(!S||S(M))}:S},function(h,b,u){var d=u(18);h.exports=d(function(){if(typeof ArrayBuffer=="function"){var f=new ArrayBuffer(8);Object.isExtensible(f)&&Object.defineProperty(f,"a",{value:8})}})},function(h,b,u){var d=u(18);h.exports=!d(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(h,b,u){var d=u(38).f,f=u(60),_=u(149),g=u(63),S=u(119),T=u(117),M=u(116),I=u(150),C=u(36),U=u(144).fastKey,z=u(58),G=z.set,q=z.getterFor;h.exports={getConstructor:function(J,ce,he,se){var Q=J(function(X,$){S(X,re),G(X,{type:ce,index:f(null),first:void 0,last:void 0,size:0}),C||(X.size=0),$!=null&&T($,X[se],{that:X,AS_ENTRIES:he})}),re=Q.prototype,W=q(ce),L=function(X,$,ie){var Ee,be,Pe=W(X),ze=H(X,$);return ze?ze.value=ie:(Pe.last=ze={index:be=U($,!0),key:$,value:ie,previous:Ee=Pe.last,next:void 0,removed:!1},Pe.first||(Pe.first=ze),Ee&&(Ee.next=ze),C?Pe.size++:X.size++,be!=="F"&&(Pe.index[be]=ze)),X},H=function(X,$){var ie,Ee=W(X),be=U($);if(be!=="F")return Ee.index[be];for(ie=Ee.first;ie;ie=ie.next)if(ie.key==$)return ie};return _(re,{clear:function(){for(var X=W(this),$=X.index,ie=X.first;ie;)ie.removed=!0,ie.previous&&(ie.previous=ie.previous.next=void 0),delete $[ie.index],ie=ie.next;X.first=X.last=void 0,C?X.size=0:this.size=0},delete:function(X){var $=this,ie=W($),Ee=H($,X);if(Ee){var be=Ee.next,Pe=Ee.previous;delete ie.index[Ee.index],Ee.removed=!0,Pe&&(Pe.next=be),be&&(be.previous=Pe),ie.first==Ee&&(ie.first=be),ie.last==Ee&&(ie.last=Pe),C?ie.size--:$.size--}return!!Ee},forEach:function(X){for(var $,ie=W(this),Ee=g(X,arguments.length>1?arguments[1]:void 0);$=$?$.next:ie.first;)for(Ee($.value,$.key,this);$&&$.removed;)$=$.previous},has:function(X){return!!H(this,X)}}),_(re,he?{get:function(X){var $=H(this,X);return $&&$.value},set:function(X,$){return L(this,X===0?0:X,$)}}:{add:function(X){return L(this,X=X===0?0:X,X)}}),C&&d(re,"size",{get:function(){return W(this).size}}),Q},setStrong:function(J,ce,he){var se=ce+" Iterator",Q=q(ce),re=q(se);M(J,ce,function(W,L){G(this,{type:se,target:W,state:Q(W),kind:L,last:void 0})},function(){for(var W=re(this),L=W.kind,H=W.last;H&&H.removed;)H=H.previous;return W.target&&(W.last=H=H?H.next:W.state.first)?L=="keys"?{value:H.key,done:!1}:L=="values"?{value:H.value,done:!1}:{value:[H.key,H.value],done:!1}:(W.target=void 0,{value:void 0,done:!0})},he?"entries":"values",!he,!0),I(ce)}}},function(h,b,u){var d=u(79).forEach,f=u(121)("forEach");h.exports=f?[].forEach:function(_){return d(this,_,arguments.length>1?arguments[1]:void 0)}},function(h,b,u){var d=u(7),f=u(63),_=u(34),g=u(40),S=u(189),T=u(145),M=u(99),I=u(45),C=u(62),U=u(146),z=u(118),G=d.Array;h.exports=function(q){var J=g(q),ce=M(this),he=arguments.length,se=he>1?arguments[1]:void 0,Q=se!==void 0;Q&&(se=f(se,he>2?arguments[2]:void 0));var re,W,L,H,X,$,ie=z(J),Ee=0;if(!ie||this==G&&T(ie))for(re=I(J),W=ce?new this(re):G(re);re>Ee;Ee++)$=Q?se(J[Ee],Ee):J[Ee],C(W,Ee,$);else for(X=(H=U(J,ie)).next,W=ce?new this:[];!(L=_(X,H)).done;Ee++)$=Q?S(H,se,[L.value,Ee],!0):L.value,C(W,Ee,$);return W.length=Ee,W}},function(h,b,u){var d=u(32),f=u(147);h.exports=function(_,g,S,T){try{return T?g(d(S)[0],S[1]):g(S)}catch(M){f(_,"throw",M)}}},function(h,b,u){var d=u(18),f=u(7).RegExp;h.exports=d(function(){var _=f(".","s");return!(_.dotAll&&_.exec(`
`)&&_.flags==="s")})},function(h,b,u){var d=u(18),f=u(7).RegExp;h.exports=d(function(){var _=f("(?<a>b)","g");return _.exec("b").groups.a!=="b"||"b".replace(_,"$<a>c")!=="bc"})},function(h,b,u){var d=u(16),f=u(15),_=u(56),g=u(40),S=u(45),T=u(39),M=u(18),I=u(193),C=u(121),U=u(194),z=u(195),G=u(70),q=u(196),J=[],ce=f(J.sort),he=f(J.push),se=M(function(){J.sort(void 0)}),Q=M(function(){J.sort(null)}),re=C("sort"),W=!M(function(){if(G)return G<70;if(!(U&&U>3)){if(z)return!0;if(q)return q<603;var L,H,X,$,ie="";for(L=65;L<76;L++){switch(H=String.fromCharCode(L),L){case 66:case 69:case 70:case 72:X=3;break;case 68:case 71:X=4;break;default:X=2}for($=0;$<47;$++)J.push({k:H+$,v:X})}for(J.sort(function(Ee,be){return be.v-Ee.v}),$=0;$<J.length;$++)H=J[$].k.charAt(0),ie.charAt(ie.length-1)!==H&&(ie+=H);return ie!=="DGBEFHACIJK"}});d({target:"Array",proto:!0,forced:se||!Q||!re||!W},{sort:function(L){L!==void 0&&_(L);var H=g(this);if(W)return L===void 0?ce(H):ce(H,L);var X,$,ie=[],Ee=S(H);for($=0;$<Ee;$++)$ in H&&he(ie,H[$]);for(I(ie,function(be){return function(Pe,ze){return ze===void 0?-1:Pe===void 0?1:be!==void 0?+be(Pe,ze)||0:T(Pe)>T(ze)?1:-1}}(L)),X=ie.length,$=0;$<X;)H[$]=ie[$++];for(;$<Ee;)delete H[$++];return H}})},function(h,b,u){var d=u(114),f=Math.floor,_=function(T,M){var I=T.length,C=f(I/2);return I<8?g(T,M):S(T,_(d(T,0,C),M),_(d(T,C),M),M)},g=function(T,M){for(var I,C,U=T.length,z=1;z<U;){for(C=z,I=T[z];C&&M(T[C-1],I)>0;)T[C]=T[--C];C!==z++&&(T[C]=I)}return T},S=function(T,M,I,C){for(var U=M.length,z=I.length,G=0,q=0;G<U||q<z;)T[G+q]=G<U&&q<z?C(M[G],I[q])<=0?M[G++]:I[q++]:G<U?M[G++]:I[q++];return T};h.exports=_},function(h,b,u){var d=u(55).match(/firefox\/(\d+)/i);h.exports=!!d&&+d[1]},function(h,b,u){var d=u(55);h.exports=/MSIE|Trident/.test(d)},function(h,b,u){var d=u(55).match(/AppleWebKit\/(\d+)\./);h.exports=!!d&&+d[1]},function(h,b,u){var d=u(7),f=u(159),_=d.TypeError;h.exports=function(g){if(f(g))throw _("The method doesn't accept regular expressions");return g}},function(h,b,u){var d=u(28)("match");h.exports=function(f){var _=/./;try{"/./"[f](_)}catch{try{return _[d]=!1,"/./"[f](_)}catch{}}return!1}},function(h,b,u){u(16)({target:"Number",stat:!0},{isNaN:function(d){return d!=d}})},function(h,b,u){var d=u(73).PROPER,f=u(18),_=u(162);h.exports=function(g){return f(function(){return!!_[g]()||"​᠎"[g]()!=="​᠎"||d&&_[g].name!==g})}},function(h,b,u){var d=u(15),f=u(40),_=Math.floor,g=d("".charAt),S=d("".replace),T=d("".slice),M=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,I=/\$([$&'`]|\d{1,2})/g;h.exports=function(C,U,z,G,q,J){var ce=z+C.length,he=G.length,se=I;return q!==void 0&&(q=f(q),se=M),S(J,se,function(Q,re){var W;switch(g(re,0)){case"$":return"$";case"&":return C;case"`":return T(U,0,z);case"'":return T(U,ce);case"<":W=q[T(re,1,-1)];break;default:var L=+re;if(L===0)return Q;if(L>he){var H=_(L/10);return H===0?Q:H<=he?G[H-1]===void 0?g(re,1):G[H-1]+g(re,1):Q}W=G[L-1]}return W===void 0?"":W})}},function(h,b,u){var d=u(36),f=u(15),_=u(34),g=u(18),S=u(77),T=u(112),M=u(84),I=u(40),C=u(85),U=Object.assign,z=Object.defineProperty,G=f([].concat);h.exports=!U||g(function(){if(d&&U({b:1},U(z({},"a",{enumerable:!0,get:function(){z(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var q={},J={},ce=Symbol(),he="abcdefghijklmnopqrst";return q[ce]=7,he.split("").forEach(function(se){J[se]=se}),U({},q)[ce]!=7||S(U({},J)).join("")!=he})?function(q,J){for(var ce=I(q),he=arguments.length,se=1,Q=T.f,re=M.f;he>se;)for(var W,L=C(arguments[se++]),H=Q?G(S(L),Q(L)):S(L),X=H.length,$=0;X>$;)W=H[$++],d&&!_(re,L,W)||(ce[W]=L[W]);return ce}:U},function(h,b,u){var d=u(7),f=u(15),_=u(56),g=u(33),S=u(35),T=u(98),M=d.Function,I=f([].concat),C=f([].join),U={},z=function(G,q,J){if(!S(U,q)){for(var ce=[],he=0;he<q;he++)ce[he]="a["+he+"]";U[q]=M("C,a","return new C("+C(ce,",")+")")}return U[q](G,J)};h.exports=M.bind||function(G){var q=_(this),J=q.prototype,ce=T(arguments,1),he=function(){var se=I(ce,T(arguments));return this instanceof he?z(q,se.length,se):q.apply(G,se)};return g(J)&&(he.prototype=J),he}},function(h,b,u){var d=u(35);h.exports=function(f){return f!==void 0&&(d(f,"value")||d(f,"writable"))}},function(h,b,u){var d=u(15),f=u(44),_=u(39),g=/"/g,S=d("".replace);h.exports=function(T,M,I,C){var U=_(f(T)),z="<"+M;return I!==""&&(z+=" "+I+'="'+S(_(C),g,"&quot;")+'"'),z+">"+U+"</"+M+">"}},function(h,b,u){var d=u(18);h.exports=function(f){return d(function(){var _=""[f]('"');return _!==_.toLowerCase()||_.split('"').length>3})}},function(h,b,u){var d,f,_,g,S=u(16),T=u(71),M=u(7),I=u(46),C=u(34),U=u(208),z=u(42),G=u(149),q=u(102),J=u(78),ce=u(150),he=u(56),se=u(30),Q=u(33),re=u(119),W=u(92),L=u(117),H=u(120),X=u(164),$=u(168).set,ie=u(209),Ee=u(212),be=u(213),Pe=u(170),ze=u(214),je=u(58),ve=u(95),Se=u(28),Ae=u(215),Fe=u(128),tt=u(70),mt=Se("species"),Ye="Promise",Ke=je.getterFor(Ye),vt=je.set,ue=je.getterFor(Ye),oe=U&&U.prototype,de=U,De=oe,Xe=M.TypeError,Ie=M.document,Ot=M.process,Pt=Pe.f,xt=Pt,ht=!!(Ie&&Ie.createEvent&&M.dispatchEvent),ke=se(M.PromiseRejectionEvent),at="unhandledrejection",le=!1,nt=ve(Ye,function(){var ne=W(de),me=ne!==String(de);if(!me&&tt===66||T&&!De.finally)return!0;if(tt>=51&&/native code/.test(ne))return!1;var We=new de(function(st){st(1)}),Ve=function(st){st(function(){},function(){})};return(We.constructor={})[mt]=Ve,!(le=We.then(function(){})instanceof Ve)||!me&&Ae&&!ke}),Ct=nt||!H(function(ne){de.all(ne).catch(function(){})}),rn=function(ne){var me;return!(!Q(ne)||!se(me=ne.then))&&me},Rt=function(ne,me){if(!ne.notified){ne.notified=!0;var We=ne.reactions;ie(function(){for(var Ve=ne.value,st=ne.state==1,Ft=0;We.length>Ft;){var Hn,er,Nn,zn=We[Ft++],rt=st?zn.ok:zn.fail,gt=zn.resolve,wt=zn.reject,Mt=zn.domain;try{rt?(st||(ne.rejection===2&&Dt(ne),ne.rejection=1),rt===!0?Hn=Ve:(Mt&&Mt.enter(),Hn=rt(Ve),Mt&&(Mt.exit(),Nn=!0)),Hn===zn.promise?wt(Xe("Promise-chain cycle")):(er=rn(Hn))?C(er,Hn,gt,wt):gt(Hn)):wt(Ve)}catch(sn){Mt&&!Nn&&Mt.exit(),wt(sn)}}ne.reactions=[],ne.notified=!1,me&&!ne.rejection&&fn(ne)})}},Kt=function(ne,me,We){var Ve,st;ht?((Ve=Ie.createEvent("Event")).promise=me,Ve.reason=We,Ve.initEvent(ne,!1,!0),M.dispatchEvent(Ve)):Ve={promise:me,reason:We},!ke&&(st=M["on"+ne])?st(Ve):ne===at&&be("Unhandled promise rejection",We)},fn=function(ne){C($,M,function(){var me,We=ne.facade,Ve=ne.value;if(mn(ne)&&(me=ze(function(){Fe?Ot.emit("unhandledRejection",Ve,We):Kt(at,We,Ve)}),ne.rejection=Fe||mn(ne)?2:1,me.error))throw me.value})},mn=function(ne){return ne.rejection!==1&&!ne.parent},Dt=function(ne){C($,M,function(){var me=ne.facade;Fe?Ot.emit("rejectionHandled",me):Kt("rejectionhandled",me,ne.value)})},Mn=function(ne,me,We){return function(Ve){ne(me,Ve,We)}},K=function(ne,me,We){ne.done||(ne.done=!0,We&&(ne=We),ne.value=me,ne.state=2,Rt(ne,!0))},pe=function(ne,me,We){if(!ne.done){ne.done=!0,We&&(ne=We);try{if(ne.facade===me)throw Xe("Promise can't be resolved itself");var Ve=rn(me);Ve?ie(function(){var st={done:!1};try{C(Ve,me,Mn(pe,st,ne),Mn(K,st,ne))}catch(Ft){K(st,Ft,ne)}}):(ne.value=me,ne.state=1,Rt(ne,!1))}catch(st){K({done:!1},st,ne)}}};if(nt&&(De=(de=function(ne){re(this,De),he(ne),C(d,this);var me=Ke(this);try{ne(Mn(pe,me),Mn(K,me))}catch(We){K(me,We)}}).prototype,(d=function(ne){vt(this,{type:Ye,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=G(De,{then:function(ne,me){var We=ue(this),Ve=We.reactions,st=Pt(X(this,de));return st.ok=!se(ne)||ne,st.fail=se(me)&&me,st.domain=Fe?Ot.domain:void 0,We.parent=!0,Ve[Ve.length]=st,We.state!=0&&Rt(We,!1),st.promise},catch:function(ne){return this.then(void 0,ne)}}),f=function(){var ne=new d,me=Ke(ne);this.promise=ne,this.resolve=Mn(pe,me),this.reject=Mn(K,me)},Pe.f=Pt=function(ne){return ne===de||ne===_?new f(ne):xt(ne)},!T&&se(U)&&oe!==Object.prototype)){g=oe.then,le||(z(oe,"then",function(ne,me){var We=this;return new de(function(Ve,st){C(g,We,Ve,st)}).then(ne,me)},{unsafe:!0}),z(oe,"catch",De.catch,{unsafe:!0}));try{delete oe.constructor}catch{}q&&q(oe,De)}S({global:!0,wrap:!0,forced:nt},{Promise:de}),J(de,Ye,!1,!0),ce(Ye),_=I(Ye),S({target:Ye,stat:!0,forced:nt},{reject:function(ne){var me=Pt(this);return C(me.reject,void 0,ne),me.promise}}),S({target:Ye,stat:!0,forced:T||nt},{resolve:function(ne){return Ee(T&&this===_?de:this,ne)}}),S({target:Ye,stat:!0,forced:Ct},{all:function(ne){var me=this,We=Pt(me),Ve=We.resolve,st=We.reject,Ft=ze(function(){var Hn=he(me.resolve),er=[],Nn=0,zn=1;L(ne,function(rt){var gt=Nn++,wt=!1;zn++,C(Hn,me,rt).then(function(Mt){wt||(wt=!0,er[gt]=Mt,--zn||Ve(er))},st)}),--zn||Ve(er)});return Ft.error&&st(Ft.value),We.promise},race:function(ne){var me=this,We=Pt(me),Ve=We.reject,st=ze(function(){var Ft=he(me.resolve);L(ne,function(Hn){C(Ft,me,Hn).then(We.resolve,Ve)})});return st.error&&Ve(st.value),We.promise}})},function(h,b,u){var d=u(7);h.exports=d.Promise},function(h,b,u){var d,f,_,g,S,T,M,I,C=u(7),U=u(63),z=u(50).f,G=u(168).set,q=u(169),J=u(210),ce=u(211),he=u(128),se=C.MutationObserver||C.WebKitMutationObserver,Q=C.document,re=C.process,W=C.Promise,L=z(C,"queueMicrotask"),H=L&&L.value;H||(d=function(){var X,$;for(he&&(X=re.domain)&&X.exit();f;){$=f.fn,f=f.next;try{$()}catch(ie){throw f?g():_=void 0,ie}}_=void 0,X&&X.enter()},q||he||ce||!se||!Q?!J&&W&&W.resolve?((M=W.resolve(void 0)).constructor=W,I=U(M.then,M),g=function(){I(d)}):he?g=function(){re.nextTick(d)}:(G=U(G,C),g=function(){G(d)}):(S=!0,T=Q.createTextNode(""),new se(d).observe(T,{characterData:!0}),g=function(){T.data=S=!S})),h.exports=H||function(X){var $={fn:X,next:void 0};_&&(_.next=$),f||(f=$,g()),_=$}},function(h,b,u){var d=u(55),f=u(7);h.exports=/ipad|iphone|ipod/i.test(d)&&f.Pebble!==void 0},function(h,b,u){var d=u(55);h.exports=/web0s(?!.*chrome)/i.test(d)},function(h,b,u){var d=u(32),f=u(33),_=u(170);h.exports=function(g,S){if(d(g),f(S)&&S.constructor===g)return S;var T=_.f(g);return(0,T.resolve)(S),T.promise}},function(h,b,u){var d=u(7);h.exports=function(f,_){var g=d.console;g&&g.error&&(arguments.length==1?g.error(f):g.error(f,_))}},function(h,b){h.exports=function(u){try{return{error:!1,value:u()}}catch(d){return{error:!0,value:d}}}},function(h,b){h.exports=typeof window=="object"},function(h,b,u){var d=u(40),f=u(75),_=u(45);h.exports=function(g){for(var S=d(this),T=_(S),M=arguments.length,I=f(M>1?arguments[1]:void 0,T),C=M>2?arguments[2]:void 0,U=C===void 0?T:f(C,T);U>I;)S[I++]=g;return S}},function(h,b,u){var d=u(16),f=u(7),_=u(15),g=u(59),S=u(160),T=u(218),M=u(18),I=f.RangeError,C=f.String,U=Math.floor,z=_(T),G=_("".slice),q=_(1 .toFixed),J=function(Q,re,W){return re===0?W:re%2==1?J(Q,re-1,W*Q):J(Q*Q,re/2,W)},ce=function(Q,re,W){for(var L=-1,H=W;++L<6;)H+=re*Q[L],Q[L]=H%1e7,H=U(H/1e7)},he=function(Q,re){for(var W=6,L=0;--W>=0;)L+=Q[W],Q[W]=U(L/re),L=L%re*1e7},se=function(Q){for(var re=6,W="";--re>=0;)if(W!==""||re===0||Q[re]!==0){var L=C(Q[re]);W=W===""?L:W+z("0",7-L.length)+L}return W};d({target:"Number",proto:!0,forced:M(function(){return q(8e-5,3)!=="0.000"||q(.9,0)!=="1"||q(1.255,2)!=="1.25"||q(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!M(function(){q({})})},{toFixed:function(Q){var re,W,L,H,X=S(this),$=g(Q),ie=[0,0,0,0,0,0],Ee="",be="0";if($<0||$>20)throw I("Incorrect fraction digits");if(X!=X)return"NaN";if(X<=-1e21||X>=1e21)return C(X);if(X<0&&(Ee="-",X=-X),X>1e-21)if(W=(re=function(Pe){for(var ze=0,je=Pe;je>=4096;)ze+=12,je/=4096;for(;je>=2;)ze+=1,je/=2;return ze}(X*J(2,69,1))-69)<0?X*J(2,-re,1):X/J(2,re,1),W*=4503599627370496,(re=52-re)>0){for(ce(ie,0,W),L=$;L>=7;)ce(ie,1e7,0),L-=7;for(ce(ie,J(10,L,1),0),L=re-1;L>=23;)he(ie,1<<23),L-=23;he(ie,1<<L),ce(ie,1,1),he(ie,2),be=se(ie)}else ce(ie,0,W),ce(ie,1<<-re,0),be=se(ie)+z("0",$);return be=$>0?Ee+((H=be.length)<=$?"0."+z("0",$-H)+be:G(be,0,H-$)+"."+G(be,H-$)):Ee+be}})},function(h,b,u){var d=u(7),f=u(59),_=u(39),g=u(44),S=d.RangeError;h.exports=function(T){var M=_(g(this)),I="",C=f(T);if(C<0||C==1/0)throw S("Wrong number of repetitions");for(;C>0;(C>>>=1)&&(M+=M))1&C&&(I+=M);return I}},function(h,b,u){var d=u(36),f=u(15),_=u(77),g=u(41),S=f(u(84).f),T=f([].push),M=function(I){return function(C){for(var U,z=g(C),G=_(z),q=G.length,J=0,ce=[];q>J;)U=G[J++],d&&!S(z,U)||T(ce,I?[U,z[U]]:z[U]);return ce}};h.exports={entries:M(!0),values:M(!1)}},function(h,b){h.exports=function(u){return u.webpackPolyfill||(u.deprecate=function(){},u.paths=[],u.children||(u.children=[]),Object.defineProperty(u,"loaded",{enumerable:!0,get:function(){return u.l}}),Object.defineProperty(u,"id",{enumerable:!0,get:function(){return u.i}}),u.webpackPolyfill=1),u}},function(h,b,u){u.r(b),u.d(b,"observer",function(){return Qo}),u.d(b,"LogicFlow",function(){return Vy}),u.d(b,"h",function(){return le.g}),u.d(b,"LogicFlowUtil",function(){return d}),u.d(b,"BaseNode",function(){return Gi}),u.d(b,"RectNode",function(){return zd}),u.d(b,"CircleNode",function(){return Xd}),u.d(b,"PolygonNode",function(){return Vd}),u.d(b,"DiamondNode",function(){return qd}),u.d(b,"EllipseNode",function(){return ny}),u.d(b,"TextNode",function(){return iy}),u.d(b,"HtmlNode",function(){return sy}),u.d(b,"BaseEdge",function(){return Il}),u.d(b,"LineEdge",function(){return xy}),u.d(b,"PolylineEdge",function(){return Ay}),u.d(b,"BezierEdge",function(){return My}),u.d(b,"Arrow",function(){return w_}),u.d(b,"BaseEdgeModel",function(){return Ys}),u.d(b,"BezierEdgeModel",function(){return Gh}),u.d(b,"LineEdgeModel",function(){return Ci}),u.d(b,"PolylineEdgeModel",function(){return Sc}),u.d(b,"BaseNodeModel",function(){return Hi}),u.d(b,"CircleNodeModel",function(){return Zh}),u.d(b,"DiamondNodeModel",function(){return td}),u.d(b,"EllipseNodeModel",function(){return id}),u.d(b,"PolygonNodeModel",function(){return fd}),u.d(b,"RectNodeModel",function(){return yd}),u.d(b,"TextNodeModel",function(){return md}),u.d(b,"HtmlNodeModel",function(){return wd}),u.d(b,"EditConfigModel",function(){return hs}),u.d(b,"GraphModel",function(){return Pu}),u.d(b,"SnaplineModel",function(){return zg}),u.d(b,"Keyboard",function(){return jb}),u.d(b,"get",function(){return Ev}),u.d(b,"defaults",function(){return Sv}),u.d(b,"ElementState",function(){return un}),u.d(b,"ModelType",function(){return Gt}),u.d(b,"ElementType",function(){return Fn}),u.d(b,"EventType",function(){return lt}),u.d(b,"formateAnchorConnectValidateData",function(){return pu});var d={};u.r(d),u.d(d,"createUuid",function(){return io}),u.d(d,"refreshGraphId",function(){return ga}),u.d(d,"StepDrag",function(){return ao}),u.d(d,"setupEdgeModel",function(){return Bf}),u.d(d,"isBboxOverLapping",function(){return nl}),u.d(d,"filterRepeatPoints",function(){return Yo}),u.d(d,"getSimplePolyline",function(){return rl}),u.d(d,"getExpandedBBox",function(){return xa}),u.d(d,"pointDirection",function(){return vu}),u.d(d,"getExpandedBBoxPoint",function(){return ar}),u.d(d,"mergeBBox",function(){return hi}),u.d(d,"getBBoxOfPoints",function(){return Ea}),u.d(d,"getPointsFromBBox",function(){return gu}),u.d(d,"isPointOutsideBBox",function(){return ja}),u.d(d,"getBBoxXCrossPoints",function(){return To}),u.d(d,"getBBoxYCrossPoints",function(){return Ut}),u.d(d,"getBBoxCrossPointsByPoint",function(){return ol}),u.d(d,"estimateDistance",function(){return xr}),u.d(d,"costByPoints",function(){return il}),u.d(d,"heuristicCostEstimate",function(){return cn}),u.d(d,"rebuildPath",function(){return Ff}),u.d(d,"removeClosePointFromOpenList",function(){return al}),u.d(d,"isSegmentsIntersected",function(){return Wo}),u.d(d,"isSegmentCrossingBBox",function(){return ul}),u.d(d,"getNextNeighborPoints",function(){return Uf}),u.d(d,"pathFinder",function(){return Xf}),u.d(d,"getBoxByOriginNode",function(){return cl}),u.d(d,"pointFilter",function(){return bu}),u.d(d,"getPolylinePoints",function(){return mu}),u.d(d,"getLongestEdge",function(){return Hf}),u.d(d,"isSegmentsInNode",function(){return sl}),u.d(d,"isSegmentsCrossNode",function(){return ll}),u.d(d,"getCrossPointInRect",function(){return Vn}),u.d(d,"segmentDirection",function(){return rr}),u.d(d,"points2PointsList",function(){return di}),u.d(d,"getSimplePoints",function(){return fl}),u.d(d,"getBytesLength",function(){return pl}),u.d(d,"getTextWidth",function(){return Yf}),u.d(d,"getAppendAttributes",function(){return hl}),u.d(d,"getBezierControlPoints",function(){return yi}),u.d(d,"getBezierPoints",function(){return Tc}),u.d(d,"getEndTangent",function(){return Dc}),u.d(d,"getClosestPointOfPolyline",function(){return dl}),u.d(d,"pickEdgeConfig",function(){return Wf}),u.d(d,"twoPointDistance",function(){return yl}),u.d(d,"createEdgeGenerator",function(){return Vf}),u.d(d,"snapToGrid",function(){return Po}),u.d(d,"getGridOffset",function(){return va}),u.d(d,"sampleCubic",function(){return Bt}),u.d(d,"getThetaOfVector",function(){return wr}),u.d(d,"degrees",function(){return Rn}),u.d(d,"Vector",function(){return or}),u.d(d,"Point",function(){return Sa}),u.d(d,"Matrix",function(){return dt}),u.d(d,"RotateMatrix",function(){return St}),u.d(d,"ScaleMatrix",function(){return $n}),u.d(d,"TranslateMatrix",function(){return ur});var f=u(1),_=u(10);if(!_.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!f.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var g=u(43),S=Object(g.b)("observerBatching");function T(t){t()}var M=!1;function I(){return M}function C(t){return Object(f.t)(t)}var U,z=1e4,G=new Set;function q(){U===void 0&&(U=setTimeout(J,1e4))}function J(){U=void 0;var t=Date.now();G.forEach(function(e){var n=e.current;n&&t>=n.cleanAt&&(n.reaction.dispose(),e.current=null,G.delete(e))}),G.size>0&&q()}var ce=!1,he=[],se={};function Q(t){return"observer"+t}function re(t,e,n){e===void 0&&(e="observed"),n===void 0&&(n=se),I();var r,i=function(O){return function(){ce?he.push(O):O()}}((n.useForceUpdate||g.d)()),o=_.d.useRef(null);if(!o.current){var c=new f.c(Q(e),function(){l.mounted?i():(c.dispose(),o.current=null)}),l=function(O){return{cleanAt:Date.now()+z,reaction:O}}(c);o.current=l,r=o,G.add(r),q()}var p=o.current.reaction;return _.d.useDebugValue(p,C),_.d.useEffect(function(){var O;return O=o,G.delete(O),o.current?o.current.mounted=!0:(o.current={reaction:new f.c(Q(e),function(){i()}),cleanAt:1/0},i()),function(){o.current.reaction.dispose(),o.current=null}},[]),function(O){ce=!0,he=[];try{var w=O();ce=!1;var A=he.length>0?he:void 0;return _.d.useLayoutEffect(function(){A&&A.forEach(function(D){return D()})},[A]),w}finally{ce=!1}}(function(){var O,w;if(p.track(function(){try{O=t()}catch(A){w=A}}),w)throw w;return O})}var W=function(){return W=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},W.apply(this,arguments)};function L(t,e){var n,r,i,o=W({forwardRef:!1},e),c=t.displayName||t.name,l=function(p,O){return re(function(){return t(p,O)},c)};return l.displayName=c,n=o.forwardRef?Object(_.f)(Object(_.e)(l)):Object(_.f)(l),r=t,i=n,Object.keys(r).forEach(function(p){H[p]||Object.defineProperty(i,p,Object.getOwnPropertyDescriptor(r,p))}),n.displayName=c,n}var H={$$typeof:!0,render:!0,compare:!0,type:!0};function X(t){var e=t.children,n=t.render,r=e||n;return typeof r!="function"?null:re(r)}function $(t,e,n,r,i){var o=e==="children"?"render":"children",c=typeof t[e]=="function",l=typeof t[o]=="function";return c&&l?new Error("MobX Observer: Do not use children and render in the same time in`"+n):c||l?null:new Error("Invalid prop `"+i+"` of type `"+typeof t[e]+"` supplied to `"+n+"`, expected `function`.")}X.propTypes={children:$,render:$},X.displayName="Observer";var ie;(ie=_.g)||(ie=T),Object(f.n)({reactionScheduler:ie}),Object(g.a)()[S]=!0;var Ee=0,be={};function Pe(t){return be[t]||(be[t]=function(e){if(typeof Symbol=="function")return Symbol(e);var n="__$mobx-react "+e+" ("+Ee+")";return Ee++,n}(t)),be[t]}function ze(t,e){if(je(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.hasOwnProperty.call(e,n[i])||!je(t[n[i]],e[n[i]]))return!1;return!0}function je(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function ve(t,e,n){Object.hasOwnProperty.call(t,e)?t[e]=n:Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n})}var Se=Pe("patchMixins"),Ae=Pe("patchedDefinition");function Fe(t,e){for(var n=this,r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];e.locks++;try{var c;return t!=null&&(c=t.apply(this,i)),c}finally{e.locks--,e.locks===0&&e.methods.forEach(function(l){l.apply(n,i)})}}function tt(t,e){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];Fe.call.apply(Fe,[this,t,e].concat(r))}}function mt(t,e,n){var r=function(l,p){var O=l[Se]=l[Se]||{},w=O[p]=O[p]||{};return w.locks=w.locks||0,w.methods=w.methods||[],w}(t,e);r.methods.indexOf(n)<0&&r.methods.push(n);var i=Object.getOwnPropertyDescriptor(t,e);if(!i||!i[Ae]){var o=t[e],c=Ye(t,e,i?i.enumerable:void 0,r,o);Object.defineProperty(t,e,c)}}function Ye(t,e,n,r,i){var o,c=tt(i,r);return(o={})[Ae]=!0,o.get=function(){return c},o.set=function(l){if(this===t)c=tt(l,r);else{var p=Ye(this,e,n,r,l);Object.defineProperty(this,e,p)}},o.configurable=!0,o.enumerable=n,o}var Ke=f.a||"$mobx",vt=Pe("isMobXReactObserver"),ue=Pe("isUnmounted"),oe=Pe("skipRender"),de=Pe("isForcingUpdate");function De(t){var e=t.prototype;if(t[vt]?Xe(e):t[vt]=!0,e.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(t.__proto__!==_.b)if(e.shouldComponentUpdate){if(e.shouldComponentUpdate!==Ot)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else e.shouldComponentUpdate=Ot;Pt(e,"props"),Pt(e,"state");var n=e.render;return e.render=function(){return Ie.call(this,n)},mt(e,"componentWillUnmount",function(){var r;(r=this.render[Ke])===null||r===void 0||r.dispose(),this[ue]=!0,!this.render[Ke]&&Xe(this)}),t}function Xe(t){return t.displayName||t.name||t.constructor&&(t.constructor.displayName||t.constructor.name)||"<component>"}function Ie(t){var e=this;ve(this,oe,!1),ve(this,de,!1);var n=Xe(this),r=t.bind(this),i=!1,o=new f.c(n+".render()",function(){if(!i&&(i=!0,e[ue]!==!0)){var l=!0;try{ve(e,de,!0),e[oe]||_.a.prototype.forceUpdate.call(e),l=!1}finally{ve(e,de,!1),l&&o.dispose()}}});function c(){i=!1;var l=void 0,p=void 0;if(o.track(function(){try{p=Object(f.d)(!1,r)}catch(O){l=O}}),l)throw l;return p}return o.reactComponent=this,c[Ke]=o,this.render=c,c.call(this)}function Ot(t,e){return this.state!==e||!ze(this.props,t)}function Pt(t,e){var n=Pe("reactProp_"+e+"_valueHolder"),r=Pe("reactProp_"+e+"_atomHolder");function i(){return this[r]||ve(this,r,Object(f.o)("reactive "+e)),this[r]}Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var o=!1;return f.f&&f.e&&(o=Object(f.f)(!0)),i.call(this).reportObserved(),f.f&&f.e&&Object(f.e)(o),this[n]},set:function(o){this[de]||ze(this[n],o)?ve(this,n,o):(ve(this,n,o),ve(this,oe,!0),i.call(this).reportChanged(),ve(this,oe,!1))}})}var xt=typeof Symbol=="function"&&Symbol.for,ht=xt?Symbol.for("react.forward_ref"):typeof _.e=="function"&&Object(_.e)(function(t){return null}).$$typeof,ke=xt?Symbol.for("react.memo"):typeof _.f=="function"&&Object(_.f)(function(t){return null}).$$typeof;function at(t){if(t.isMobxInjector,ke&&t.$$typeof===ke)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(ht&&t.$$typeof===ht){var e=t.render;if(typeof e!="function")throw new Error("render property of ForwardRef was not a function");return Object(_.e)(function(){var n=arguments;return Object(_.c)(X,null,function(){return e.apply(void 0,n)})})}return typeof t!="function"||t.prototype&&t.prototype.render||t.isReactClass||Object.prototype.isPrototypeOf.call(_.a,t)?De(t):L(t)}if(!_.a)throw new Error("mobx-react requires React to be available");if(!f.C)throw new Error("mobx-react requires mobx to be available");var le=u(0);u(4),u(8),u(2),u(3),u(52),u(6),u(5),u(11),u(37),u(26),u(21),u(20),u(24),u(22),u(25),u(9),u(17),u(23),u(19),u(192),u(156),u(104),u(157),u(158),u(199),u(64);var nt=function(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i},Ct=function(){this.__data__=[],this.size=0},rn=function(t,e){return t===e||t!=t&&e!=e},Rt=function(t,e){for(var n=t.length;n--;)if(rn(t[n][0],e))return n;return-1},Kt=Array.prototype.splice,fn=function(t){var e=this.__data__,n=Rt(e,t);return!(n<0)&&(n==e.length-1?e.pop():Kt.call(e,n,1),--this.size,!0)},mn=function(t){var e=this.__data__,n=Rt(e,t);return n<0?void 0:e[n][1]},Dt=function(t){return Rt(this.__data__,t)>-1},Mn=function(t,e){var n=this.__data__,r=Rt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function K(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}K.prototype.clear=Ct,K.prototype.delete=fn,K.prototype.get=mn,K.prototype.has=Dt,K.prototype.set=Mn;var pe=K,ne=function(){this.__data__=new pe,this.size=0},me=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},We=function(t){return this.__data__.get(t)},Ve=function(t){return this.__data__.has(t)},st=u(31),Ft=st.a.Symbol,Hn=Object.prototype,er=Hn.hasOwnProperty,Nn=Hn.toString,zn=Ft?Ft.toStringTag:void 0,rt=function(t){var e=er.call(t,zn),n=t[zn];try{t[zn]=void 0;var r=!0}catch{}var i=Nn.call(t);return r&&(e?t[zn]=n:delete t[zn]),i},gt=Object.prototype.toString,wt=function(t){return gt.call(t)},Mt=Ft?Ft.toStringTag:void 0,sn=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Mt&&Mt in Object(t)?rt(t):wt(t)},jn=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")},ho,Jr=function(t){if(!jn(t))return!1;var e=sn(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},yo=st.a["__core-js_shared__"],ei=(ho=/[^.]+$/.exec(yo&&yo.keys&&yo.keys.IE_PROTO||""))?"Symbol(src)_1."+ho:"",ts=function(t){return!!ei&&ei in t},Ra=Function.prototype.toString,Rr=function(t){if(t!=null){try{return Ra.call(t)}catch{}try{return t+""}catch{}}return""},xi=/^\[object .+?Constructor\]$/,ut=Function.prototype,ns=Object.prototype,Ia=ut.toString,La=ns.hasOwnProperty,yr=RegExp("^"+Ia.call(La).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Sr=function(t){return!(!jn(t)||ts(t))&&(Jr(t)?yr:xi).test(Rr(t))},Ki=function(t,e){return t==null?void 0:t[e]},Yr=function(t,e){var n=Ki(t,e);return Sr(n)?n:void 0},Ir=Yr(st.a,"Map"),Wr=Yr(Object,"create"),za=function(){this.__data__=Wr?Wr(null):{},this.size=0},Ba=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},zu=Object.prototype.hasOwnProperty,Ei=function(t){var e=this.__data__;if(Wr){var n=e[t];return n==="__lodash_hash_undefined__"?void 0:n}return zu.call(e,t)?e[t]:void 0},Bu=Object.prototype.hasOwnProperty,Fa=function(t){var e=this.__data__;return Wr?e[t]!==void 0:Bu.call(e,t)},rs=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Wr&&e===void 0?"__lodash_hash_undefined__":e,this};function No(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}No.prototype.clear=za,No.prototype.delete=Ba,No.prototype.get=Ei,No.prototype.has=Fa,No.prototype.set=rs;var Fu=No,vo=function(){this.size=0,this.__data__={hash:new Fu,map:new(Ir||pe),string:new Fu}},Ua=function(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null},Zi=function(t,e){var n=t.__data__;return Ua(e)?n[typeof e=="string"?"string":"hash"]:n.map},Xa=function(t){var e=Zi(this,t).delete(t);return this.size-=e?1:0,e},Ha=function(t){return Zi(this,t).get(t)},os=function(t){return Zi(this,t).has(t)},Uu=function(t,e){var n=Zi(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function an(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}an.prototype.clear=vo,an.prototype.delete=Xa,an.prototype.get=Ha,an.prototype.has=os,an.prototype.set=Uu;var on=an,Xu=function(t,e){var n=this.__data__;if(n instanceof pe){var r=n.__data__;if(!Ir||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new on(r)}return n.set(t,e),this.size=n.size,this};function ti(t){var e=this.__data__=new pe(t);this.size=e.size}ti.prototype.clear=ne,ti.prototype.delete=me,ti.prototype.get=We,ti.prototype.has=Ve,ti.prototype.set=Xu;var go=ti,Ga=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Hu=function(t){return this.__data__.has(t)};function Tn(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new on;++e<n;)this.add(t[e])}Tn.prototype.add=Tn.prototype.push=Ga,Tn.prototype.has=Hu;var Ya=Tn,ji=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},Wa=function(t,e){return t.has(e)},qi=function(t,e,n,r,i,o){var c=1&n,l=t.length,p=e.length;if(l!=p&&!(c&&p>l))return!1;var O=o.get(t),w=o.get(e);if(O&&w)return O==e&&w==t;var A=-1,D=!0,F=2&n?new Ya:void 0;for(o.set(t,e),o.set(e,t);++A<l;){var Z=t[A],te=e[A];if(r)var ye=c?r(te,Z,A,e,t,o):r(Z,te,A,t,e,o);if(ye!==void 0){if(ye)continue;D=!1;break}if(F){if(!ji(e,function(ge,we){if(!Wa(F,we)&&(Z===ge||i(Z,ge,n,r,o)))return F.push(we)})){D=!1;break}}else if(Z!==te&&!i(Z,te,n,r,o)){D=!1;break}}return o.delete(t),o.delete(e),D},tr=st.a.Uint8Array,Va=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n},Gu=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n},$a=Ft?Ft.prototype:void 0,Ji=$a?$a.valueOf:void 0,ni=function(t,e,n,r,i,o,c){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new tr(t),new tr(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return rn(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var l=Va;case"[object Set]":var p=1&r;if(l||(l=Gu),t.size!=e.size&&!p)return!1;var O=c.get(t);if(O)return O==e;r|=2,c.set(t,e);var w=qi(l(t),l(e),r,i,o,c);return c.delete(t),w;case"[object Symbol]":if(Ji)return Ji.call(t)==Ji.call(e)}return!1},Qr=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t},dn=Array.isArray,Yu=function(t,e,n){var r=e(t);return dn(t)?r:Qr(r,n(t))},vr=function(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var c=t[n];e(c,n,t)&&(o[i++]=c)}return o},Wu=function(){return[]},Vu=Object.prototype.propertyIsEnumerable,cr=Object.getOwnPropertySymbols,gr=cr?function(t){return t==null?[]:(t=Object(t),vr(cr(t),function(e){return Vu.call(t,e)}))}:Wu,Ka=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},Qt=function(t){return t!=null&&typeof t=="object"},Gn=function(t){return Qt(t)&&sn(t)=="[object Arguments]"},Qi=Object.prototype,$u=Qi.hasOwnProperty,Za=Qi.propertyIsEnumerable,ea=Gn(function(){return arguments}())?Gn:function(t){return Qt(t)&&$u.call(t,"callee")&&!Za.call(t,"callee")},eo=ea,bo=u(48),ri=/^(?:0|[1-9]\d*)$/,br=function(t,e){var n=typeof t;return!!(e=e??9007199254740991)&&(n=="number"||n!="symbol"&&ri.test(t))&&t>-1&&t%1==0&&t<e},mo=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991},Zt={};Zt["[object Float32Array]"]=Zt["[object Float64Array]"]=Zt["[object Int8Array]"]=Zt["[object Int16Array]"]=Zt["[object Int32Array]"]=Zt["[object Uint8Array]"]=Zt["[object Uint8ClampedArray]"]=Zt["[object Uint16Array]"]=Zt["[object Uint32Array]"]=!0,Zt["[object Arguments]"]=Zt["[object Array]"]=Zt["[object ArrayBuffer]"]=Zt["[object Boolean]"]=Zt["[object DataView]"]=Zt["[object Date]"]=Zt["[object Error]"]=Zt["[object Function]"]=Zt["[object Map]"]=Zt["[object Number]"]=Zt["[object Object]"]=Zt["[object RegExp]"]=Zt["[object Set]"]=Zt["[object String]"]=Zt["[object WeakMap]"]=!1;var mr=function(t){return Qt(t)&&mo(t.length)&&!!Zt[sn(t)]},to=function(t){return function(e){return t(e)}},Zn=u(49),ta=Zn.a&&Zn.a.isTypedArray,Si=ta?to(ta):mr,qa=Object.prototype.hasOwnProperty,Sn=function(t,e){var n=dn(t),r=!n&&eo(t),i=!n&&!r&&Object(bo.a)(t),o=!n&&!r&&!i&&Si(t),c=n||r||i||o,l=c?Ka(t.length,String):[],p=l.length;for(var O in t)!e&&!qa.call(t,O)||c&&(O=="length"||i&&(O=="offset"||O=="parent")||o&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||br(O,p))||l.push(O);return l},na=Object.prototype,Oo=function(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||na)},Lr=function(t,e){return function(n){return t(e(n))}},Ja=Lr(Object.keys,Object),is=Object.prototype.hasOwnProperty,Qa=function(t){if(!Oo(t))return Ja(t);var e=[];for(var n in Object(t))is.call(t,n)&&n!="constructor"&&e.push(n);return e},Bn=function(t){return t!=null&&mo(t.length)&&!Jr(t)},oi=function(t){return Bn(t)?Sn(t):Qa(t)},no=function(t){return Yu(t,oi,gr)},sr=Object.prototype.hasOwnProperty,eu=function(t,e,n,r,i,o){var c=1&n,l=no(t),p=l.length;if(p!=no(e).length&&!c)return!1;for(var O=p;O--;){var w=l[O];if(!(c?w in e:sr.call(e,w)))return!1}var A=o.get(t),D=o.get(e);if(A&&D)return A==e&&D==t;var F=!0;o.set(t,e),o.set(e,t);for(var Z=c;++O<p;){var te=t[w=l[O]],ye=e[w];if(r)var ge=c?r(ye,te,w,e,t,o):r(te,ye,w,t,e,o);if(!(ge===void 0?te===ye||i(te,ye,n,r,o):ge)){F=!1;break}Z||(Z=w=="constructor")}if(F&&!Z){var we=t.constructor,Ce=e.constructor;we==Ce||!("constructor"in t)||!("constructor"in e)||typeof we=="function"&&we instanceof we&&typeof Ce=="function"&&Ce instanceof Ce||(F=!1)}return o.delete(t),o.delete(e),F},Pr=Yr(st.a,"DataView"),Co=Yr(st.a,"Promise"),ra=Yr(st.a,"Set"),ro=Yr(st.a,"WeakMap"),Ar="[object Map]",Or="[object Promise]",zr="[object Set]",oo="[object WeakMap]",_e="[object DataView]",Me=Rr(Pr),Re=Rr(Ir),qe=Rr(Co),It=Rr(ra),Wt=Rr(ro),yn=sn;(Pr&&yn(new Pr(new ArrayBuffer(1)))!=_e||Ir&&yn(new Ir)!=Ar||Co&&yn(Co.resolve())!=Or||ra&&yn(new ra)!=zr||ro&&yn(new ro)!=oo)&&(yn=function(t){var e=sn(t),n=e=="[object Object]"?t.constructor:void 0,r=n?Rr(n):"";if(r)switch(r){case Me:return _e;case Re:return Ar;case qe:return Or;case It:return zr;case Wt:return oo}return e});var v=yn,m="[object Arguments]",E="[object Array]",N="[object Object]",Y=Object.prototype.hasOwnProperty,fe=function(t,e,n,r,i,o){var c=dn(t),l=dn(e),p=c?E:v(t),O=l?E:v(e),w=(p=p==m?N:p)==N,A=(O=O==m?N:O)==N,D=p==O;if(D&&Object(bo.a)(t)){if(!Object(bo.a)(e))return!1;c=!0,w=!1}if(D&&!w)return o||(o=new go),c||Si(t)?qi(t,e,n,r,i,o):ni(t,e,p,n,r,i,o);if(!(1&n)){var F=w&&Y.call(t,"__wrapped__"),Z=A&&Y.call(e,"__wrapped__");if(F||Z){var te=F?t.value():t,ye=Z?e.value():e;return o||(o=new go),i(te,ye,n,r,o)}}return!!D&&(o||(o=new go),eu(t,e,n,r,i,o))},xe=function t(e,n,r,i,o){return e===n||(e==null||n==null||!Qt(e)&&!Qt(n)?e!=e&&n!=n:fe(e,n,r,i,t,o))},Be=function(t,e,n,r){var i=n.length,o=i,c=!r;if(t==null)return!o;for(t=Object(t);i--;){var l=n[i];if(c&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++i<o;){var p=(l=n[i])[0],O=t[p],w=l[1];if(c&&l[2]){if(O===void 0&&!(p in t))return!1}else{var A=new go;if(r)var D=r(O,w,p,t,e,A);if(!(D===void 0?xe(w,O,3,r,A):D))return!1}}return!0},ot=function(t){return t==t&&!jn(t)},Ht=function(t){for(var e=oi(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,ot(i)]}return e},Qe=function(t,e){return function(n){return n!=null&&n[t]===e&&(e!==void 0||t in Object(n))}},pn=function(t){var e=Ht(t);return e.length==1&&e[0][2]?Qe(e[0][0],e[0][1]):function(n){return n===t||Be(n,t,e)}},Lt=function(t){return typeof t=="symbol"||Qt(t)&&sn(t)=="[object Symbol]"},tn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Br=/^\w*$/,On=function(t,e){if(dn(t))return!1;var n=typeof t;return!(n!="number"&&n!="symbol"&&n!="boolean"&&t!=null&&!Lt(t))||Br.test(t)||!tn.test(t)||e!=null&&t in Object(e)};function _r(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var c=t.apply(this,r);return n.cache=o.set(i,c)||o,c};return n.cache=new(_r.Cache||on),n}_r.Cache=on;var _o=_r,wo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pi=/\\(\\)?/g,tu=function(t){var e=_o(t,function(r){return n.size===500&&n.clear(),r}),n=e.cache;return e}(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(wo,function(n,r,i,o){e.push(i?o.replace(Pi,"$1"):r||n)}),e}),Ro=Ft?Ft.prototype:void 0,oa=Ro?Ro.toString:void 0,lr=function t(e){if(typeof e=="string")return e;if(dn(e))return nt(e,t)+"";if(Lt(e))return oa?oa.call(e):"";var n=e+"";return n=="0"&&1/e==-1/0?"-0":n},Ai=function(t){return t==null?"":lr(t)},ii=function(t,e){return dn(t)?t:On(t,e)?[t]:tu(Ai(t))},Io=function(t){if(typeof t=="string"||Lt(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e},Lo=function(t,e){for(var n=0,r=(e=ii(e,t)).length;t!=null&&n<r;)t=t[Io(e[n++])];return n&&n==r?t:void 0},nu=function(t,e,n){var r=t==null?void 0:Lo(t,e);return r===void 0?n:r},$p=function(t,e){return t!=null&&e in Object(t)},Kp=function(t,e,n){for(var r=-1,i=(e=ii(e,t)).length,o=!1;++r<i;){var c=Io(e[r]);if(!(o=t!=null&&n(t,c)))break;t=t[c]}return o||++r!=i?o:!!(i=t==null?0:t.length)&&mo(i)&&br(c,i)&&(dn(t)||eo(t))},Xl=function(t,e){return t!=null&&Kp(t,e,$p)},Ku=function(t,e){return On(t)&&ot(e)?Qe(Io(t),e):function(n){var r=nu(n,t);return r===void 0&&r===e?Xl(n,t):xe(e,r,3)}},ia=function(t){return t},as=function(t){return function(e){return e==null?void 0:e[t]}},Zp=function(t){return function(e){return Lo(e,t)}},Hl=function(t){return On(t)?as(Io(t)):Zp(t)},qp=function(t){return typeof t=="function"?t:t==null?ia:typeof t=="object"?dn(t)?Ku(t[0],t[1]):pn(t):Hl(t)},Gl=function(t){return function(e,n,r){for(var i=-1,o=Object(e),c=r(e),l=c.length;l--;){var p=c[t?l:++i];if(n(o[p],p,o)===!1)break}return e}}(),qn=function(t,e){return function(n,r){if(n==null)return n;if(!Bn(n))return t(n,r);for(var i=n.length,o=e?i:-1,c=Object(n);(e?o--:++o<i)&&r(c[o],o,c)!==!1;);return n}}(function(t,e){return t&&Gl(t,e,oi)}),fr=function(t,e){var n=-1,r=Bn(t)?Array(t.length):[];return qn(t,function(i,o,c){r[++n]=e(i,o,c)}),r},Zu=function(t,e){return(dn(t)?nt:fr)(t,qp(e))};Object(f.n)({isolateGlobalState:!0});var qu=function(){try{var t=Yr(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Ju=function(t,e,n){e=="__proto__"&&qu?qu(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},Jp=Object.prototype.hasOwnProperty,aa=function(t,e,n){var r=t[e];Jp.call(t,e)&&rn(r,n)&&(n!==void 0||e in t)||Ju(t,e,n)},xo=function(t,e,n,r){var i=!n;n||(n={});for(var o=-1,c=e.length;++o<c;){var l=e[o],p=r?r(n[l],t[l],l,n,t):void 0;p===void 0&&(p=t[l]),i?Ju(n,l,p):aa(n,l,p)}return n},us=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},ki=Math.max,ua=function(t,e,n){return e=ki(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=ki(r.length-e,0),c=Array(o);++i<o;)c[i]=r[e+i];i=-1;for(var l=Array(e+1);++i<e;)l[i]=r[i];return l[e]=n(c),us(t,this,l)}},ru=function(t){return function(){return t}},Qu=qu?function(t,e){return qu(t,"toString",{configurable:!0,enumerable:!1,value:ru(e),writable:!0})}:ia,ca=Date.now,Qp=function(t){var e=0,n=0;return function(){var r=ca(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}},Yl=Qp(Qu),eh=function(t,e){return Yl(ua(t,e,ia),t+"")},th=function(t,e,n){if(!jn(n))return!1;var r=typeof e;return!!(r=="number"?Bn(n)&&br(e,n.length):r=="string"&&e in n)&&rn(n[e],t)},Wl=function(t){return eh(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,c=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,c&&th(n[0],n[1],c)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var l=n[r];l&&t(e,l,r,o)}return e})},ec=Object.prototype.hasOwnProperty,Jn=Wl(function(t,e){if(Oo(e)||Bn(e))xo(e,oi(e),t);else for(var n in e)ec.call(e,n)&&aa(t,n,e[n])}),Vl=function(t,e,n,r){if(!jn(t))return t;for(var i=-1,o=(e=ii(e,t)).length,c=o-1,l=t;l!=null&&++i<o;){var p=Io(e[i]),O=n;if(p==="__proto__"||p==="constructor"||p==="prototype")return t;if(i!=c){var w=l[p];(O=r?r(w,p,l):void 0)===void 0&&(O=jn(w)?w:br(e[i+1])?[]:{})}aa(l,p,O),l=l[p]}return t},R=function(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var c=e[r],l=Lo(t,c);n(l,c)&&Vl(o,ii(c,t),l)}return o},sa=function(t,e){return R(t,e,function(n,r){return Xl(t,r)})},ou=Ft?Ft.isConcatSpreadable:void 0,Vr=function(t){return dn(t)||eo(t)||!!(ou&&t&&t[ou])},Jt=function t(e,n,r,i,o){var c=-1,l=e.length;for(r||(r=Vr),o||(o=[]);++c<l;){var p=e[c];n>0&&r(p)?n>1?t(p,n-1,r,i,o):Qr(o,p):i||(o[o.length]=p)}return o},Ti=function(t){return t!=null&&t.length?Jt(t,1):[]},hn,Eo,ai,$r,cs,ss,$l,Kl,tc,la,iu,Zl,ls,jo,nc,ui,Fr,fs,ps,zo=function(t){return Yl(ua(t,void 0,Ti),t+"")}(function(t,e){return t==null?{}:sa(t,e)});function _n(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ql(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cn(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(c){o[c]=r[c]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(c,l){return l(t,e,c)||c},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var un,nr,Gt,Fn,lt,vn,rc={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,allowRotation:!1,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},Bo=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","allowRotation","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],hs=(Eo=Cn((hn=function(){function t(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,t),_n(this,"isSilentMode",Eo,this),_n(this,"stopZoomGraph",ai,this),_n(this,"stopScrollGraph",$r,this),_n(this,"stopMoveGraph",cs,this),_n(this,"adjustEdge",ss,this),_n(this,"adjustEdgeMiddle",$l,this),_n(this,"adjustEdgeStartAndEnd",Kl,this),_n(this,"adjustNodePosition",tc,this),_n(this,"hideAnchors",la,this),_n(this,"allowRotation",iu,this),_n(this,"hoverOutline",Zl,this),_n(this,"nodeSelectedOutline",ls,this),_n(this,"edgeSelectedOutline",jo,this),_n(this,"nodeTextEdit",nc,this),_n(this,"edgeTextEdit",ui,this),_n(this,"nodeTextDraggable",Fr,this),_n(this,"edgeTextDraggable",fs,this),_n(this,"autoExpand",ps,this),Jl(this,"multipleSelectKey",""),Jl(this,"defaultConfig",{}),Jn(this,this.getConfigDetail(r))}var e,n;return e=t,(n=[{key:"updateEditConfig",value:function(r){var i=this.getConfigDetail(r);Jn(this,i)}},{key:"getConfigDetail",value:function(r){var i=r.isSilentMode,o=r.textEdit,c={};if(i===!1&&Jn(c,this.defaultConfig),i===!0&&i!==this.isSilentMode){var l=zo(rc,Bo);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,allowRotation:this.allowRotation,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},Jn(c,l)}o===!1&&Jn(c,{nodeTextEdit:!1,edgeTextEdit:!1});var p=zo(r,Bo);return Jn(c,p)}},{key:"getConfig",value:function(){return zo(this,Bo)}}])&&ql(e.prototype,n),t}()).prototype,"isSilentMode",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ai=Cn(hn.prototype,"stopZoomGraph",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$r=Cn(hn.prototype,"stopScrollGraph",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),cs=Cn(hn.prototype,"stopMoveGraph",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ss=Cn(hn.prototype,"adjustEdge",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),$l=Cn(hn.prototype,"adjustEdgeMiddle",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Kl=Cn(hn.prototype,"adjustEdgeStartAndEnd",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),tc=Cn(hn.prototype,"adjustNodePosition",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),la=Cn(hn.prototype,"hideAnchors",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),iu=Cn(hn.prototype,"allowRotation",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Zl=Cn(hn.prototype,"hoverOutline",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ls=Cn(hn.prototype,"nodeSelectedOutline",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),jo=Cn(hn.prototype,"edgeSelectedOutline",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),nc=Cn(hn.prototype,"nodeTextEdit",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ui=Cn(hn.prototype,"edgeTextEdit",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Fr=Cn(hn.prototype,"nodeTextDraggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),fs=Cn(hn.prototype,"edgeTextDraggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ps=Cn(hn.prototype,"autoExpand",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Cn(hn.prototype,"updateEditConfig",[f.k],Object.getOwnPropertyDescriptor(hn.prototype,"updateEditConfig"),hn.prototype),hn);u(65),u(66),function(t){t[t.DEFAULT=1]="DEFAULT",t[t.TEXT_EDIT=2]="TEXT_EDIT",t[t.SHOW_MENU=3]="SHOW_MENU",t[t.ALLOW_CONNECT=4]="ALLOW_CONNECT",t[t.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(un||(un={})),function(t){t.KEY="logic-flow",t.NODE_NAME="lf-node",t.EDGE_NAME="lf-edge"}(nr||(nr={})),function(t){t.NODE="node",t.CIRCLE_NODE="circle-node",t.POLYGON_NODE="polygon-node",t.RECT_NODE="rect-node",t.TEXT_NODE="text-node",t.ELLIPSE_NODE="ellipse-node",t.DIAMOND_NODE="diamond-node",t.HTML_NODE="html-node",t.EDGE="edge",t.LINE_EDGE="line-edge",t.POLYLINE_EDGE="polyline-edge",t.BEZIER_EDGE="bezier-edge",t.GRAPH="graph"}(Gt||(Gt={})),function(t){t.NODE="node",t.EDGE="edge",t.GRAPH="graph"}(Fn||(Fn={})),function(t){t.ELEMENT_CLICK="element:click",t.NODE_CLICK="node:click",t.NODE_DBCLICK="node:dbclick",t.NODE_DELETE="node:delete",t.NODE_ADD="node:add",t.NODE_GROUP_COPY="node:group-copy-add",t.NODE_DND_ADD="node:dnd-add",t.NODE_DND_DRAG="node:dnd-drag",t.NODE_MOUSEDOWN="node:mousedown",t.NODE_DRAGSTART="node:dragstart",t.NODE_DRAG="node:drag",t.NODE_DROP="node:drop",t.NODE_MOUSEUP="node:mouseup",t.NODE_MOUSEMOVE="node:mousemove",t.NODE_MOUSEENTER="node:mouseenter",t.NODE_MOUSELEAVE="node:mouseleave",t.NODE_CONTEXTMENU="node:contextmenu",t.NODE_ROTATE="node:rotate",t.EDGE_DELETE="edge:delete",t.EDGE_ADD="edge:add",t.EDGE_CLICK="edge:click",t.EDGE_DBCLICK="edge:dbclick",t.EDGE_MOUSEENTER="edge:mouseenter",t.EDGE_MOUSELEAVE="edge:mouseleave",t.EDGE_CONTEXTMENU="edge:contextmenu",t.EDGE_ADJUST="edge:adjust",t.EDGE_EXCHANGE_NODE="edge:exchange-node",t.ANCHOR_DRAGSTART="anchor:dragstart",t.ANCHOR_DRAG="anchor:drag",t.ANCHOR_DROP="anchor:drop",t.ANCHOR_DRAGEND="anchor:dragend",t.ADJUST_POINT_MOUSEDOWN="adjustPoint:mousedown",t.ADJUST_POINT_MOUSEUP="adjustPoint:mouseup",t.ADJUST_POINT_MOUSEMOVE="adjustPoint:mousemove",t.ADJUST_POINT_DRAGSTART="adjustPoint:dragstart",t.ADJUST_POINT_DRAG="adjustPoint:drag",t.ADJUST_POINT_DROP="adjustPoint:drop",t.ADJUST_POINT_DRAGEND="adjustPoint:dragend",t.BLANK_MOUSEDOWN="blank:mousedown",t.BLANK_DRAGSTART="blank:dragstart",t.BLANK_DRAG="blank:drag",t.BLANK_DROP="blank:drop",t.BLANK_MOUSEMOVE="blank:mousemove",t.BLANK_MOUSEUP="blank:mouseup",t.BLANK_CLICK="blank:click",t.BLANK_CONTEXTMENU="blank:contextmenu",t.SELECTION_MOUSEDOWN="selection:mousedown",t.SELECTION_DRAGSTART="selection:dragstart",t.SELECTION_DRAG="selection:drag",t.SELECTION_DROP="selection:drop",t.SELECTION_MOUSEMOVE="selection:mousemove",t.SELECTION_MOUSEUP="selection:mouseup",t.SELECTION_CONTEXTMENU="selection:contextmenu",t.CONNECTION_NOT_ALLOWED="connection:not-allowed",t.HISTORY_CHANGE="history:change",t.TEXT_UPDATE="text:update",t.GRAPH_TRANSFORM="graph:transform",t.GRAPH_RENDERED="graph:rendered"}(lt||(lt={})),function(t){t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(vn||(vn={}));var Pn,Dn,Ql,ef,oc,fa,ds,pa,ic;function ha(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||function(n,r){if(n){if(typeof n=="string")return ys(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ys(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ys(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fo(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function nh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Uo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kr(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(c){o[c]=r[c]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(c,l){return l(t,e,c)||c},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.INCREASE=1]="INCREASE"})(Pn||(Pn={}));var tf={false:[-1/0,-1/0,1/0,1/0],true:[0,0,0,0],vertical:[-1/0,0,1/0,0],horizontal:[0,-1/0,0,1/0]},nf=(Dn=function(){function t(r,i){(function(l,p){if(!(l instanceof p))throw new TypeError("Cannot call a class as a function")})(this,t),Uo(this,"MINI_SCALE_SIZE",.2),Uo(this,"MAX_SCALE_SIZE",16),Fo(this,"SCALE_X",Ql,this),Fo(this,"SKEW_Y",ef,this),Fo(this,"SKEW_X",oc,this),Fo(this,"SCALE_Y",fa,this),Fo(this,"TRANSLATE_X",ds,this),Fo(this,"TRANSLATE_Y",pa,this),Fo(this,"ZOOM_SIZE",ic,this),Uo(this,"eventCenter",void 0),Uo(this,"translateLimitMinX",void 0),Uo(this,"translateLimitMinY",void 0),Uo(this,"translateLimitMaxX",void 0),Uo(this,"translateLimitMaxY",void 0),this.eventCenter=r;var o=i.stopMoveGraph,c=o!==void 0&&o;this.updateTranslateLimits(c)}var e,n;return e=t,n=[{key:"setZoomMiniSize",value:function(r){this.MINI_SCALE_SIZE=r}},{key:"setZoomMaxSize",value:function(r){this.MAX_SCALE_SIZE=r}},{key:"HtmlPointToCanvasPoint",value:function(r){var i=ha(r,2),o=i[0],c=i[1];return[(o-this.TRANSLATE_X)/this.SCALE_X,(c-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(r){var i=ha(r,2),o=i[0],c=i[1];return[o*this.SCALE_X+this.TRANSLATE_X,c*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(r,i,o){var c=ha(r,2),l=c[0],p=c[1];return[l+i/this.SCALE_X,p+o/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(r,i){return[r/this.SCALE_X,i/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var r=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(r,")")}}},{key:"zoom",value:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],i=arguments.length>1?arguments[1]:void 0,o=this.SCALE_X,c=this.SCALE_Y;return r===!0?(o+=this.ZOOM_SIZE,c+=this.ZOOM_SIZE):r===!1?(o-=this.ZOOM_SIZE,c-=this.ZOOM_SIZE):typeof r=="number"&&(o=r,c=r),o<this.MINI_SCALE_SIZE||o>this.MAX_SCALE_SIZE||(i&&(this.TRANSLATE_X-=(o-this.SCALE_X)*i[0],this.TRANSLATE_Y-=(c-this.SCALE_Y)*i[1]),this.SCALE_X=o,this.SCALE_Y=c,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(r){this.eventCenter.emit(lt.GRAPH_TRANSFORM,{type:r,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(r,i){this.TRANSLATE_X+r<=this.translateLimitMaxX&&this.TRANSLATE_X+r>=this.translateLimitMinX&&(this.TRANSLATE_X+=r),this.TRANSLATE_Y+i<=this.translateLimitMaxY&&this.TRANSLATE_Y+i>=this.translateLimitMinY&&(this.TRANSLATE_Y+=i),this.emitGraphTransform("translate")}},{key:"focusOn",value:function(r,i,o,c){var l=ha(this.CanvasPointToHtmlPoint([r,i]),2),p=o/2-l[0],O=c/2-l[1];this.TRANSLATE_X+=p,this.TRANSLATE_Y+=O,this.emitGraphTransform("focusOn")}},{key:"updateTranslateLimits",value:function(r){var i=ha(Array.isArray(r)&&r.length===4?r:tf[r.toString()],4);this.translateLimitMinX=i[0],this.translateLimitMinY=i[1],this.translateLimitMaxX=i[2],this.translateLimitMaxY=i[3]}}],n&&nh(e.prototype,n),t}(),Ql=Kr(Dn.prototype,"SCALE_X",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ef=Kr(Dn.prototype,"SKEW_Y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),oc=Kr(Dn.prototype,"SKEW_X",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),fa=Kr(Dn.prototype,"SCALE_Y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ds=Kr(Dn.prototype,"TRANSLATE_X",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),pa=Kr(Dn.prototype,"TRANSLATE_Y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ic=Kr(Dn.prototype,"ZOOM_SIZE",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),Kr(Dn.prototype,"zoom",[f.k],Object.getOwnPropertyDescriptor(Dn.prototype,"zoom"),Dn.prototype),Kr(Dn.prototype,"resetZoom",[f.k],Object.getOwnPropertyDescriptor(Dn.prototype,"resetZoom"),Dn.prototype),Kr(Dn.prototype,"translate",[f.k],Object.getOwnPropertyDescriptor(Dn.prototype,"translate"),Dn.prototype),Kr(Dn.prototype,"focusOn",[f.k],Object.getOwnPropertyDescriptor(Dn.prototype,"focusOn"),Dn.prototype),Dn),ac=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t},rf=function(t,e){return t&&xo(e,oi(e),t)},of=function(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e},af=Object.prototype.hasOwnProperty,vs=function(t){if(!jn(t))return of(t);var e=Oo(t),n=[];for(var r in t)(r!="constructor"||!e&&af.call(t,r))&&n.push(r);return n},da=function(t){return Bn(t)?Sn(t,!0):vs(t)},gs=function(t,e){return t&&xo(e,da(e),t)},uc=u(107),Yt=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},rh=function(t,e){return xo(t,gr(t),e)},bs=Lr(Object.getPrototypeOf,Object),ya=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Qr(e,gr(t)),t=bs(t);return e}:Wu,uf=function(t,e){return xo(t,ya(t),e)},oh=function(t){return Yu(t,da,ya)},ih=Object.prototype.hasOwnProperty,Zr=function(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&ih.call(t,"index")&&(n.index=t.index,n.input=t.input),n},ms=function(t){var e=new t.constructor(t.byteLength);return new tr(e).set(new tr(t)),e},cc=function(t,e){var n=e?ms(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},Os=/\w*$/,cf=function(t){var e=new t.constructor(t.source,Os.exec(t));return e.lastIndex=t.lastIndex,e},_s=Ft?Ft.prototype:void 0,kr=_s?_s.valueOf:void 0,ci=function(t){return kr?Object(kr.call(t)):{}},sc=function(t,e){var n=e?ms(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},sf=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return ms(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return cc(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return sc(t,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return cf(t);case"[object Symbol]":return ci(t)}},au=Object.create,lf=function(){function t(){}return function(e){if(!jn(e))return{};if(au)return au(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),lc=function(t){return typeof t.constructor!="function"||Oo(t)?{}:lf(bs(t))},ff=function(t){return Qt(t)&&v(t)=="[object Map]"},fc=Zn.a&&Zn.a.isMap,ws=fc?to(fc):ff,si=function(t){return Qt(t)&&v(t)=="[object Set]"},pf=Zn.a&&Zn.a.isSet,li=pf?to(pf):si,xs="[object Arguments]",Es="[object Function]",js="[object Object]",gn={};gn[xs]=gn["[object Array]"]=gn["[object ArrayBuffer]"]=gn["[object DataView]"]=gn["[object Boolean]"]=gn["[object Date]"]=gn["[object Float32Array]"]=gn["[object Float64Array]"]=gn["[object Int8Array]"]=gn["[object Int16Array]"]=gn["[object Int32Array]"]=gn["[object Map]"]=gn["[object Number]"]=gn["[object Object]"]=gn["[object RegExp]"]=gn["[object Set]"]=gn["[object String]"]=gn["[object Symbol]"]=gn["[object Uint8Array]"]=gn["[object Uint8ClampedArray]"]=gn["[object Uint16Array]"]=gn["[object Uint32Array]"]=!0,gn["[object Error]"]=gn[Es]=gn["[object WeakMap]"]=!1;var hf=function t(e,n,r,i,o,c){var l,p=1&n,O=2&n,w=4&n;if(r&&(l=o?r(e,i,o,c):r(e)),l!==void 0)return l;if(!jn(e))return e;var A=dn(e);if(A){if(l=Zr(e),!p)return Yt(e,l)}else{var D=v(e),F=D==Es||D=="[object GeneratorFunction]";if(Object(bo.a)(e))return Object(uc.a)(e,p);if(D==js||D==xs||F&&!o){if(l=O||F?{}:lc(e),!p)return O?uf(e,gs(l,e)):rh(e,rf(l,e))}else{if(!gn[D])return o?e:{};l=sf(e,D,p)}}c||(c=new go);var Z=c.get(e);if(Z)return Z;c.set(e,l),li(e)?e.forEach(function(ye){l.add(t(ye,n,r,ye,e,c))}):ws(e)&&e.forEach(function(ye,ge){l.set(ge,t(ye,n,r,ge,e,c))});var te=A?void 0:(w?O?oh:no:O?da:oi)(e);return ac(te||e,function(ye,ge){te&&(ye=e[ge=ye]),aa(l,ge,t(ye,n,r,ge,e,c))}),l},wn=function(t){return hf(t,5)},pc=function(t,e,n){(n!==void 0&&!rn(t[e],n)||n===void 0&&!(e in t))&&Ju(t,e,n)},Tr=function(t){return Qt(t)&&Bn(t)},So=Function.prototype,hc=Object.prototype,Di=So.toString,df=hc.hasOwnProperty,yf=Di.call(Object),vf=function(t){if(!Qt(t)||sn(t)!="[object Object]")return!1;var e=bs(t);if(e===null)return!0;var n=df.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Di.call(n)==yf},fi=function(t,e){if((e!=="constructor"||typeof t[e]!="function")&&e!="__proto__")return t[e]},uu=function(t){return xo(t,da(t))},gf=function(t,e,n,r,i,o,c){var l=fi(t,n),p=fi(e,n),O=c.get(p);if(O)pc(t,n,O);else{var w=o?o(l,p,n+"",t,e,c):void 0,A=w===void 0;if(A){var D=dn(p),F=!D&&Object(bo.a)(p),Z=!D&&!F&&Si(p);w=p,D||F||Z?dn(l)?w=l:Tr(l)?w=Yt(l):F?(A=!1,w=Object(uc.a)(p,!0)):Z?(A=!1,w=sc(p,!0)):w=[]:vf(p)||eo(p)?(w=l,eo(l)?w=uu(l):jn(l)&&!Jr(l)||(w=lc(p))):A=!1}A&&(c.set(p,w),i(w,p,r,o,c),c.delete(p)),pc(t,n,w)}},bf=function t(e,n,r,i,o){e!==n&&Gl(n,function(c,l){if(o||(o=new go),jn(c))gf(e,n,l,r,t,i,o);else{var p=i?i(fi(e,l),c,l+"",e,n,o):void 0;p===void 0&&(p=c),pc(e,l,p)}},da)},cu=Wl(function(t,e,n){bf(t,e,n)}),mf={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"lf_animate_dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"},rotateControl:{stroke:"#000",fill:"#fff",strokeWidth:1.5}},su=function(t){var e=wn(mf);return t&&(e=cu(e,t)),e};u(82),u(166);function Ss(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var dc=function(){function t(){var r,i,o;(function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,t),o={},(i="_events")in(r=this)?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o}var e,n;return e=t,(n=[{key:"on",value:function(r,i,o){var c=this;return r==null||r.split(",").forEach(function(l){l=l.trim(),c._events[l]||(c._events[l]=[]),c._events[l].push({callback:i,once:!!o})}),this}},{key:"once",value:function(r,i){var o=this;r==null||r.split(",").forEach(function(c){return c=c.trim(),o.on(c,i,!0)})}},{key:"emit",value:function(r,i){var o=this;r==null||r.split(",").forEach(function(c){var l=o._events[c]||[],p=o._events["*"]||[],O=function(w){for(var A=w.length,D=0;D<A;D++)if(w[D]){var F=w[D],Z=F.callback;F.once&&(w.splice(D,1),w.length===0&&delete o._events[c],A--,D--),Z.apply(o,[i])}};O(l),O(p)})}},{key:"off",value:function(r,i){var o=this;return r||(this._events={}),r.split(",").forEach(function(c){if(i){for(var l=o._events[c]||[],p=l.length,O=0;O<p;O++)l[O].callback===i&&(l.splice(O,1),p--,O--);l.length===0&&delete o._events[c]}else delete o._events[c]}),this}},{key:"getEvents",value:function(){return this._events}}])&&Ss(e.prototype,n),t}();function Po(t,e){return e*Math.round(t/e)||t}function va(t,e){return t%e}function yc(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||function(n,r){if(n){if(typeof n=="string")return vc(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return vc(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function vc(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ps,gc=function(t,e,n){var r=yc(t,2),i=r[0],o=r[1],c=yc(e,2),l=c[0],p=c[1],O=yc(n,2),w=O[0],A=O[1];return i>l&&i<w&&o>p&&o<A},Ao=function(t,e){var n=!1;switch(e.multipleSelectKey){case"meta":n=t.metaKey;break;case"alt":n=t.altKey;break;case"shift":n=t.shiftKey;break;case"ctrl":n=t.ctrlKey;break;default:n=!1}return n},Of=(u(167),u(126),u(83),u(29),u(12),u(13),u(14),u(47),new Uint8Array(16));function _f(){if(!Ps&&!(Ps=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ps(Of)}for(var ah=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,wf=function(t){return typeof t=="string"&&ah.test(t)},xn=[],lu=0;lu<256;++lu)xn.push((lu+256).toString(16).substr(1));var As=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(xn[t[e+0]]+xn[t[e+1]]+xn[t[e+2]]+xn[t[e+3]]+"-"+xn[t[e+4]]+xn[t[e+5]]+"-"+xn[t[e+6]]+xn[t[e+7]]+"-"+xn[t[e+8]]+xn[t[e+9]]+"-"+xn[t[e+10]]+xn[t[e+11]]+xn[t[e+12]]+xn[t[e+13]]+xn[t[e+14]]+xn[t[e+15]]).toLowerCase();if(!wf(n))throw TypeError("Stringified UUID is invalid");return n},fu=function(t,e,n){var r=(t=t||{}).random||(t.rng||_f)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return As(r)},io=function(){return fu()},ga=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=t.nodes.reduce(function(r,i){return r[i.id]=e+fu(),i.id=r[i.id],r},{});return t.edges.forEach(function(r){r.id=e+fu(),r.sourceNodeId=n[r.sourceNodeId],r.targetNodeId=n[r.targetNodeId]}),t},_t=(u(105),u(127),function(t,e,n){var r=t.x,i=t.y;return(r-e.x)*(r-n.x)<=0&&(i-e.y)*(i-n.y)<=0});function ba(t){return ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ba(t)}function bc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bc(Object(n),!0).forEach(function(r){ks(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bc(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ks(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Te,ir,Ts,Ds,xf,ko,pr,mc,Oc,Ef,ma,Ms,Ns,Cs,Rs,jf,_c,Is,Oa,wc,Ls,xc=function(t){return t.anchors},Mi=function(t,e){for(var n,r=e.nodes,i=r.length-1;i>=0;i--){var o=r[i];if(Pf(t,o)){var c=o.getTargetAnchor(t);if(c){var l={node:o,anchorIndex:c.index,anchor:c.anchor};n&&!Sf(o,n.node,e)||(n=l)}}}return n},Sf=function(t,e,n){return t.zIndex>e.zIndex||n.nodesMap[t.id].index>n.nodesMap[e.id].index},Yn=function(t,e,n,r){return Math.hypot(t-n,e-r)},Dr=function(t,e){var n=!1,r=Ur(e);return t.x>=r.minX-0&&t.x<=r.maxX+0&&t.y>=r.minY-0&&t.y<=r.maxY+0&&(n=!0),n},Pf=function(t,e){var n=!1,r=Ur(e);return t.x>=r.minX-5&&t.x<=r.maxX+5&&t.y>=r.minY-5&&t.y<=r.maxY+5&&(n=!0),n},Ur=function(t){var e=t.x,n=t.y,r=t.width,i=t.height;return{minX:e-r/2,minY:n-i/2,maxX:e+r/2,maxY:n+i/2,x:e,y:n,width:r,height:i,centerX:e,centerY:n}},Af=function(t,e,n){var r,i=function(c){var l=c,p=l.x,O=l.y,w=l.width,A=l.height,D=l.radius;return[{x:p-w/2+D,y:O-A/2+D,r:D},{x:p+w/2-D,y:O-A/2+D,r:D},{x:p-w/2+D,y:O+A/2-D,r:D},{x:p+w/2-D,y:O+A/2-D,r:D}]}(n),o=Number.MAX_SAFE_INTEGER;return i.forEach(function(c){var l=Yn(t.x,t.y,c.x,c.y);l<o&&(o=l,r=c)}),zs(t,e,r)},zs=function(t,e,n){var r,i=n,o=i.x,c=i.y,l=i.r;if(e===vn.HORIZONTAL){var p=o-Math.sqrt(l*l-(t.y-c)*(t.y-c)),O=o+Math.sqrt(l*l-(t.y-c)*(t.y-c));r={x:Math.abs(p-t.x)<Math.abs(O-t.x)?p:O,y:t.y}}else if(e===vn.VERTICAL){var w=c-Math.sqrt(l*l-(t.x-o)*(t.x-o)),A=c+Math.sqrt(l*l-(t.x-o)*(t.x-o)),D=Math.abs(w-t.y)<Math.abs(A-t.y)?w:A;r={x:t.x,y:D}}return r},Bs=function(t,e){var n=e,r=!1,i=n.x-n.width/2+n.radius,o=n.x+n.width/2-n.radius,c=n.y-n.height/2+n.radius,l=n.y+n.height/2-n.radius,p=n.x,O=n.y,w=n.width,A=n.height;return t.y===O+A/2||t.y===O-A/2?r=t.x>i&&t.x<o:t.x!==p+w/2&&t.x!==p-w/2||(r=t.y>c&&t.y<l),r},Fs=function(t,e,n){var r,i=n,o=i.x,c=i.y,l=i.rx,p=i.ry;if(e===vn.HORIZONTAL){var O=o-Math.sqrt(l*l-(t.y-c)*(t.y-c)*l*l/(p*p)),w=o+Math.sqrt(l*l-(t.y-c)*(t.y-c)*l*l/(p*p));r={x:Math.abs(O-t.x)<Math.abs(w-t.x)?O:w,y:t.y}}else if(e===vn.VERTICAL){var A=c-Math.sqrt(p*p-(t.x-o)*(t.x-o)*p*p/(l*l)),D=c+Math.sqrt(p*p-(t.x-o)*(t.x-o)*p*p/(l*l)),F=Math.abs(A-t.y)<Math.abs(D-t.y)?A:D;r={x:t.x,y:F}}return r},Us=function(t,e,n){for(var r,i=n.pointsPosition,o=Number.MAX_SAFE_INTEGER,c=[],l=0;l<i.length;l++)c.push({start:i[l],end:i[(l+1)%i.length]});return c.forEach(function(p){var O=p.start,w=p.end,A=O,D=w;O.x>w.x&&(A=w,D=O);var F={x:t.x,y:t.y};if(A.x===D.x&&e===vn.HORIZONTAL&&(F={x:A.x,y:t.y}),A.y===D.y&&e===vn.VERTICAL&&(F={x:t.x,y:A.y}),A.x!==D.x&&A.y!==D.y){var Z=(D.y-A.y)/(D.x-A.x),te=(A.x*D.y-D.x*A.y)/(A.x-D.x);e===vn.HORIZONTAL?F={x:(t.y-te)/Z,y:t.y}:e===vn.VERTICAL&&(F={x:t.x,y:Z*t.x+te})}if(_t(F,O,w)){var ye=Yn(F.x,F.y,t.x,t.y);ye<o&&(o=ye,r=F)}}),r},Xs=function(t,e,n,r){var i=t.x,o=t.y;return e.x>t.x?i=t.x+n/2:e.x<t.x&&(i=t.x-n/2),e.y>t.y?o=t.y+r/2:e.y<t.y&&(o=t.y-r/2),{x:i,y:o}},kf=function(t){var e=t.rows,n=t.style,r=t.rowsLength,i=t.className,o=document.createElement("div");o.style.fontSize=n.fontSize,o.style.width=n.width,o.className=i,o.style.lineHeight=n.lineHeight,o.style.padding=n.padding,n.fontFamily&&(o.style.fontFamily=n.fontFamily),r>1?e.forEach(function(l){var p=document.createElement("div");p.textContent=l,o.appendChild(p)}):o.textContent=e,document.body.appendChild(o);var c=o.clientHeight;return document.body.removeChild(o),c},Hs=function(t){var e=t.rows,n=t.rowsLength,r=t.fontSize,i=0;return e&&e.forEach(function(o){var c=pl(o);i=c>i?c:i}),{width:Math.ceil(i/2)*r+r/4,height:n*(r+2)+r/4}},pu=function(t){return ba(t)!=="object"?{isAllPass:!!t,msg:t?"":"不允许连接"}:t},bn=function(t){try{return JSON.parse(JSON.stringify(t))}catch{return t}},uh=1e3,Tf=999,Gs=function(){return++uh};function Ec(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ec(Object(n),!0).forEach(function(r){Nr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ec(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wn(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ch(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Nr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Et(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(c){o[c]=r[c]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(c,l){return l(t,e,c)||c},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Ys=(Te=function(){function t(r,i){(function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),Nr(this,"id",""),Wn(this,"type",ir,this),Wn(this,"sourceNodeId",Ts,this),Wn(this,"targetNodeId",Ds,this),Wn(this,"startPoint",xf,this),Wn(this,"endPoint",ko,this),Wn(this,"text",pr,this),Wn(this,"properties",mc,this),Wn(this,"points",Oc,this),Wn(this,"pointsList",Ef,this),Wn(this,"isSelected",ma,this),Wn(this,"isHovered",Ms,this),Wn(this,"isHitable",Ns,this),Wn(this,"draggable",Cs,this),Wn(this,"visible",Rs,this),Nr(this,"virtual",!1),Wn(this,"isAnimation",jf,this),Wn(this,"isShowAdjustPoint",_c,this),Nr(this,"graphModel",void 0),Wn(this,"zIndex",Is,this),Nr(this,"BaseType",Fn.EDGE),Nr(this,"modelType",Gt.EDGE),Wn(this,"state",Oa,this),Nr(this,"additionStateData",void 0),Nr(this,"sourceAnchorId",""),Nr(this,"targetAnchorId",""),Nr(this,"menu",void 0),Nr(this,"customTextPosition",!1),Wn(this,"style",wc,this),Wn(this,"arrowConfig",Ls,this),this.graphModel=i,this.initEdgeData(r),this.setAttributes()}var e,n;return e=t,n=[{key:"initEdgeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var i=this.graphModel.idGenerator,o=i&&i(r.type),c=this.createId();r.id=c||o||io()}this.arrowConfig.markerEnd="url(#marker-end-".concat(r.id,")"),this.arrowConfig.markerStart="url(#marker-start-".concat(r.id,")");var l=this.graphModel.editConfigModel.adjustEdgeStartAndEnd;this.isShowAdjustPoint=l,Jn(this,Wf(r)),this.graphModel.overlapMode===Pn.INCREASE&&(this.zIndex=r.zIndex||Gs()),this.setAnchors(),this.initPoints(),this.formatText(r)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return Mr(Mr({},this.graphModel.theme.baseEdge),this.style)}},{key:"getAdjustPointStyle",value:function(){return Mr({},this.graphModel.theme.edgeAdjust)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.edgeText;return wn(r)}},{key:"getEdgeAnimationStyle",value:function(){var r=this.graphModel.theme.edgeAnimation;return wn(r)}},{key:"getArrowStyle",value:function(){var r=this.getEdgeStyle(),i=this.getEdgeAnimationStyle(),o=this.graphModel.theme.arrow,c=this.isAnimation?i.stroke:r.stroke;return Mr(Mr({},r),{},{fill:c,stroke:c},o)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return wn(r)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var r,i;return(r=this.graphModel)===null||r===void 0||(i=r.nodesMap[this.sourceNodeId])===null||i===void 0?void 0:i.model}},{key:"targetNode",get:function(){var r,i;return(r=this.graphModel)===null||r===void 0||(i=r.nodesMap[this.targetNodeId])===null||i===void 0?void 0:i.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(r,i){var o,c;return xc(r).forEach(function(l){var p=yl(l,i);(c===void 0||p<c)&&(c=p,o=l)}),o}},{key:"getEndAnchor",value:function(r){var i,o,c=this;return xc(r).forEach(function(l){var p=yl(l,c.startPoint);(o===void 0||p<o)&&(o=p,i=l)}),i}},{key:"getProperties",value:function(){return Object(f.I)(this.properties)}},{key:"getData",value:function(){var r=this.text,i=r.x,o=r.y,c=r.value,l={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(f.I)(this.properties)};return c&&(l.text={x:i,y:o,value:c}),this.graphModel.overlapMode===Pn.INCREASE&&(l.zIndex=this.zIndex),l}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(r,i){this.properties[r]=bn(i),this.setAttributes()}},{key:"deleteProperty",value:function(r){delete this.properties[r],this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=Mr(Mr({},Object(f.I)(this.properties)),bn(r)),this.setAttributes()}},{key:"changeEdgeId",value:function(r){var i=this.arrowConfig,o=i.markerEnd,c=i.markerStart;c&&c==="url(#marker-start-".concat(this.id,")")&&(this.arrowConfig.markerStart="url(#marker-start-".concat(r,")")),o&&o==="url(#marker-end-".concat(this.id,")")&&(this.arrowConfig.markerEnd="url(#marker-end-".concat(r,")")),this.id=r}},{key:"setStyle",value:function(r,i){this.style=Mr(Mr({},this.style),{},Nr({},r,bn(i)))}},{key:"setStyles",value:function(r){this.style=Mr(Mr({},this.style),bn(r))}},{key:"updateStyles",value:function(r){this.style=Mr({},bn(r))}},{key:"formatText",value:function(r){var i=this.textPosition,o=i.x,c=i.y;r.text&&typeof r.text!="string"?Object.prototype.toString.call(r.text)==="[object Object]"&&(this.text={x:r.text.x||o,y:r.text.y||c,value:r.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:r.text||"",x:o,y:c,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var r=this.textPosition,i=r.x,o=r.y;this.text.x=i,this.text.y=o}},{key:"moveText",value:function(r,i){if(this.text){var o=this.text,c=o.x,l=o.y,p=o.value,O=o.draggable,w=o.editable;this.text={value:p,draggable:O,x:c+r,y:l+i,editable:w}}}},{key:"setText",value:function(r){r&&Jn(this.text,r)}},{key:"updateText",value:function(r){this.text=Mr(Mr({},Object(f.I)(this.text)),{},{value:r})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var r=this.getBeginAnchor(this.sourceNode,this.targetNode);if(!(r||this.startPoint&&this.sourceAnchorId))throw new Error("无法获取beginAnchor，请检查anchors相关逻辑，anchors不能为空");this.startPoint||(this.startPoint={x:r.x,y:r.y}),this.sourceAnchorId||(this.sourceAnchorId=r.id)}if(!this.targetAnchorId||!this.endPoint){var i=this.getEndAnchor(this.targetNode);if(!(i||this.endPoint&&this.targetAnchorId))throw new Error("无法获取endAnchor，请检查anchors相关逻辑，anchors不能为空");this.endPoint||(this.endPoint={x:i.x,y:i.y}),this.targetAnchorId||(this.targetAnchorId=i.id)}}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(r,i){this.state=r,this.additionStateData=i}},{key:"updateStartPoint",value:function(r){this.startPoint=r}},{key:"moveStartPoint",value:function(r,i){this.startPoint.x+=r,this.startPoint.y+=i}},{key:"updateEndPoint",value:function(r){this.endPoint=r}},{key:"moveEndPoint",value:function(r,i){this.endPoint.x+=r,this.endPoint.y+=i}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=r}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(r){Jn(this,r)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(r){var i=r.startPoint,o=r.endPoint;this.updateStartPoint({x:i.x,y:i.y}),this.updateEndPoint({x:o.x,y:o.y})}}],n&&ch(e.prototype,n),t}(),ir=Et(Te.prototype,"type",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ts=Et(Te.prototype,"sourceNodeId",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ds=Et(Te.prototype,"targetNodeId",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),xf=Et(Te.prototype,"startPoint",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ko=Et(Te.prototype,"endPoint",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pr=Et(Te.prototype,"text",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),mc=Et(Te.prototype,"properties",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Oc=Et(Te.prototype,"points",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ef=Et(Te.prototype,"pointsList",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ma=Et(Te.prototype,"isSelected",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ms=Et(Te.prototype,"isHovered",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ns=Et(Te.prototype,"isHitable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Cs=Et(Te.prototype,"draggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Rs=Et(Te.prototype,"visible",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),jf=Et(Te.prototype,"isAnimation",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_c=Et(Te.prototype,"isShowAdjustPoint",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Is=Et(Te.prototype,"zIndex",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Oa=Et(Te.prototype,"state",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),wc=Et(Te.prototype,"style",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Ls=Et(Te.prototype,"arrowConfig",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:"url(#marker-start-".concat(this.id,")")}}}),Et(Te.prototype,"sourceNode",[f.m],Object.getOwnPropertyDescriptor(Te.prototype,"sourceNode"),Te.prototype),Et(Te.prototype,"targetNode",[f.m],Object.getOwnPropertyDescriptor(Te.prototype,"targetNode"),Te.prototype),Et(Te.prototype,"textPosition",[f.m],Object.getOwnPropertyDescriptor(Te.prototype,"textPosition"),Te.prototype),Et(Te.prototype,"setProperty",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"setProperty"),Te.prototype),Et(Te.prototype,"deleteProperty",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"deleteProperty"),Te.prototype),Et(Te.prototype,"setProperties",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"setProperties"),Te.prototype),Et(Te.prototype,"changeEdgeId",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"changeEdgeId"),Te.prototype),Et(Te.prototype,"setStyle",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"setStyle"),Te.prototype),Et(Te.prototype,"setStyles",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"setStyles"),Te.prototype),Et(Te.prototype,"updateStyles",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"updateStyles"),Te.prototype),Et(Te.prototype,"formatText",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"formatText"),Te.prototype),Et(Te.prototype,"resetTextPosition",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"resetTextPosition"),Te.prototype),Et(Te.prototype,"moveText",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"moveText"),Te.prototype),Et(Te.prototype,"setText",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"setText"),Te.prototype),Et(Te.prototype,"updateText",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"updateText"),Te.prototype),Et(Te.prototype,"setAnchors",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"setAnchors"),Te.prototype),Et(Te.prototype,"setSelected",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"setSelected"),Te.prototype),Et(Te.prototype,"setHovered",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"setHovered"),Te.prototype),Et(Te.prototype,"setHitable",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"setHitable"),Te.prototype),Et(Te.prototype,"openEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"openEdgeAnimation"),Te.prototype),Et(Te.prototype,"closeEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"closeEdgeAnimation"),Te.prototype),Et(Te.prototype,"setElementState",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"setElementState"),Te.prototype),Et(Te.prototype,"updateStartPoint",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"updateStartPoint"),Te.prototype),Et(Te.prototype,"moveStartPoint",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"moveStartPoint"),Te.prototype),Et(Te.prototype,"updateEndPoint",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"updateEndPoint"),Te.prototype),Et(Te.prototype,"moveEndPoint",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"moveEndPoint"),Te.prototype),Et(Te.prototype,"setZIndex",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"setZIndex"),Te.prototype),Et(Te.prototype,"initPoints",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"initPoints"),Te.prototype),Et(Te.prototype,"updateAttributes",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"updateAttributes"),Te.prototype),Et(Te.prototype,"getAdjustStart",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"getAdjustStart"),Te.prototype),Et(Te.prototype,"getAdjustEnd",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"getAdjustEnd"),Te.prototype),Et(Te.prototype,"updateAfterAdjustStartAndEnd",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"updateAfterAdjustStartAndEnd"),Te.prototype),Te),Ws=Ys;function Vs(t){return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vs(t)}function Df(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Df(Object(n),!0).forEach(function(r){Cf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Df(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _a(){return _a=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=lh(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},_a.apply(this,arguments)}function lh(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Ni(t))!==null;);return t}function $s(t,e){return $s=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},$s(t,e)}function fh(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ni(t);if(e){var i=Ni(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ph(this,n)}}function ph(t,e){if(e&&(Vs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ks(t)}function Ks(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ni(t){return Ni=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ni(t)}function Cf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var zt,Rf,Ci=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&$s(o,c)})(i,t);var e,n,r=fh(i);function i(){var o;sh(this,i);for(var c=arguments.length,l=new Array(c),p=0;p<c;p++)l[p]=arguments[p];return Cf(Ks(o=r.call.apply(r,[this].concat(l))),"modelType",Gt.LINE_EDGE),o}return e=i,(n=[{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.line;return Mf(Mf({},_a(Ni(i.prototype),"getEdgeStyle",this).call(this)),wn(o))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&Nf(e.prototype,n),i}(Ws);function Zs(t){return Zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zs(t)}function hh(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||function(n,r){if(n){if(typeof n=="string")return hu(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return hu(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function hu(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qs(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Js(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qs(Object(n),!0).forEach(function(r){el(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qs(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qs(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function If(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function du(){return du=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=dh(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},du.apply(this,arguments)}function dh(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Xo(t))!==null;);return t}function wa(t,e){return wa=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},wa(t,e)}function jc(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Xo(t);if(e){var i=Xo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yh(this,n)}}function yh(t,e){if(e&&(Zs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ri(t)}function Ri(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xo(t){return Xo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Xo(t)}function el(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function En(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(c){o[c]=r[c]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(c,l){return l(t,e,c)||c},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Sc=(zt=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&wa(o,c)})(i,t);var e,n,r=jc(i);function i(){var o;If(this,i);for(var c=arguments.length,l=new Array(c),p=0;p<c;p++)l[p]=arguments[p];return el(Ri(o=r.call.apply(r,[this].concat(l))),"modelType",Gt.POLYLINE_EDGE),el(Ri(o),"draggingPointList",void 0),Qs(Ri(o),"dbClickPosition",Rf,Ri(o)),o}return e=i,(n=[{key:"initEdgeData",value:function(o){this.offset=30,du(Xo(i.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.polyline;return Js(Js({},du(Xo(i.prototype),"getEdgeStyle",this).call(this)),wn(o))}},{key:"getTextPosition",value:function(){var o,c=(o=this.text)===null||o===void 0?void 0:o.value;if(this.dbClickPosition&&!c){var l=this.dbClickPosition;return{x:l.x,y:l.y}}var p=di(this.points),O=hh(Hf(p),2),w=O[0],A=O[1];return{x:(w.x+A.x)/2,y:(w.y+A.y)/2}}},{key:"getAfterAnchor",value:function(o,c,l){var p,O;return l.forEach(function(w){var A;o===vn.HORIZONTAL?A=Math.abs(c.y-w.y):o===vn.VERTICAL&&(A=Math.abs(c.x-w.x)),(!O||O>A)&&(O=A,p=w)}),p}},{key:"getCrossPoint",value:function(o,c,l){var p;return o===vn.HORIZONTAL?p={x:l.x,y:c.y}:o===vn.VERTICAL&&(p={x:c.x,y:l.y}),p}},{key:"removeCrossPoints",value:function(o,c,l){var p=l.map(function(ge){return ge});if(o===1){var O=p[o],w=p[c],A=p[o-1];if(sl(A,O,this.sourceNode)){if(ll(O,w,this.sourceNode)){var D=Vn(O,w,this.sourceNode);D&&(p[o]=D,p.splice(o-1,1),o--,c--)}}else this.sourceNode.anchors.forEach(function(ge){(ge.x===A.x&&ge.x===O.x||ge.y===A.y&&ge.y===O.y)&&Yn(ge.x,ge.y,O.x,O.y)<Yn(A.x,A.y,O.x,O.y)&&(p[o-1]=ge)})}if(c===l.length-2){var F=p[o],Z=p[c],te=p[c+1];if(sl(Z,te,this.targetNode)){if(ll(F,Z,this.targetNode)){var ye=Vn(F,Z,this.targetNode);ye&&(p[c]=ye,p.splice(c+1,1))}}else this.targetNode.anchors.forEach(function(ge){(ge.x===te.x&&ge.x===Z.x||ge.y===te.y&&ge.y===Z.y)&&Yn(ge.x,ge.y,Z.x,Z.y)<Yn(te.x,te.y,Z.x,Z.y)&&(p[c+1]=ge)})}return p}},{key:"getDraggingPoints",value:function(o,c,l,p,O){var w=O.map(function(F){return F}),A=this.getAfterAnchor(o,l,p),D=this.getCrossPoint(o,l,A);return c==="start"?(w.unshift(D),w.unshift(A)):(w.push(D),w.push(A)),w}},{key:"updateCrossPoints",value:function(o){var c=o.map(function(Ce){return Ce}),l=o[0],p=o[1],O=o[c.length-2],w=o[c.length-1],A=this.sourceNode,D=this.targetNode,F=A.modelType,Z=D.modelType,te=rr(l,p),ye=c[0];switch(F){case Gt.RECT_NODE:A.radius!==0&&(Bs(l,A)||(ye=Af(l,te,A)));break;case Gt.CIRCLE_NODE:ye=zs(l,te,A);break;case Gt.ELLIPSE_NODE:ye=Fs(l,te,A);break;case Gt.DIAMOND_NODE:case Gt.POLYGON_NODE:ye=Us(l,te,A)}c[0]=ye;var ge=rr(O,w),we=c[c.length-1];switch(Z){case Gt.RECT_NODE:D.radius!==0&&(Bs(w,D)||(we=Af(w,ge,D)));break;case Gt.CIRCLE_NODE:we=zs(w,ge,D);break;case Gt.ELLIPSE_NODE:we=Fs(w,ge,D);break;case Gt.DIAMOND_NODE:case Gt.POLYGON_NODE:we=Us(w,ge,D)}return c[c.length-1]=we,c}},{key:"getData",value:function(){var o=du(Xo(i.prototype),"getData",this).call(this),c=this.pointsList.map(function(l){return{x:l.x,y:l.y}});return Object.assign({},o,{pointsList:c})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(o){return"".concat(o.x,",").concat(o.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var o=mu({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=o,this.points=o.map(function(c){return"".concat(c.x,",").concat(c.y)}).join(" ")}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,c){this.startPoint.x+=o,this.startPoint.y+=c,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveEndPoint",value:function(o,c){this.endPoint.x+=o,this.endPoint.y+=c,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draggingPointList=this.pointsList.map(function(o){return o})}},{key:"dragAppendSimple",value:function(o,c){this.isDragging=!0;var l=o.start,p=o.end,O=o.startIndex,w=o.endIndex,A=o.direction,D=this.pointsList,F=D;return A===vn.HORIZONTAL?(D[O]={x:l.x,y:l.y+c.y},D[w]={x:p.x,y:p.y+c.y},F=this.pointsList.map(function(Z){return Z})):A===vn.VERTICAL&&(D[O]={x:l.x+c.x,y:l.y},D[w]={x:p.x+c.x,y:p.y},F=this.pointsList.map(function(Z){return Z})),this.updatePointsAfterDrag(F),this.draggingPointList=F,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},D[O]),end:Object.assign({},D[w]),startIndex:O,endIndex:w,direction:A}}},{key:"dragAppend",value:function(o,c){this.isDragging=!0;var l=o.start,p=o.end,O=o.startIndex,w=o.endIndex,A=o.direction,D=this.pointsList;if(A===vn.HORIZONTAL){D[O]={x:l.x,y:l.y+c.y},D[w]={x:p.x,y:p.y+c.y};var F=this.pointsList.map(function(Ze){return Ze});if(O!==0&&w!==this.pointsList.length-1&&(F=this.removeCrossPoints(O,w,F)),O===0){var Z={x:l.x,y:l.y+c.y};if(!Dr(Z,this.sourceNode)){var te=this.sourceNode.anchors;F=this.getDraggingPoints(A,"start",Z,te,F)}}if(w===this.pointsList.length-1){var ye={x:p.x,y:p.y+c.y};if(!Dr(ye,this.targetNode)){var ge=this.targetNode.anchors;F=this.getDraggingPoints(A,"end",ye,ge,F)}}this.updatePointsAfterDrag(F),this.draggingPointList=F}else if(A===vn.VERTICAL){D[O]={x:l.x+c.x,y:l.y},D[w]={x:p.x+c.x,y:p.y};var we=this.pointsList.map(function(Ze){return Ze});if(O!==0&&w!==this.pointsList.length-1&&(we=this.removeCrossPoints(O,w,we)),O===0){var Ce={x:l.x+c.x,y:l.y};if(!Dr(Ce,this.sourceNode)){var $e=this.sourceNode.anchors;we=this.getDraggingPoints(A,"start",Ce,$e,we)}}if(w===this.pointsList.length-1){var Je={x:p.x+c.x,y:p.y};if(!Dr(Je,this.targetNode)){var bt=this.targetNode.anchors;we=this.getDraggingPoints(A,"end",Je,bt,we)}}this.updatePointsAfterDrag(we),this.draggingPointList=we}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},D[O]),end:Object.assign({},D[w]),startIndex:O,endIndex:w,direction:A}}},{key:"dragAppendEnd",value:function(){if(this.draggingPointList){var o=bu(di(this.points));this.pointsList=o.map(function(p){return p}),this.draggingPointList=[];var c=o[0];this.startPoint=Object.assign({},c);var l=o[o.length-1];this.endPoint=Object.assign({},l)}this.isDragging=!1}},{key:"updatePointsAfterDrag",value:function(o){var c=this.updateCrossPoints(o);this.points=c.map(function(l){return"".concat(l.x,",").concat(l.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var c=o.startPoint,l=o.endPoint,p=o.sourceNode,O=o.targetNode,w=mu({x:c.x,y:c.y},{x:l.x,y:l.y},p,O,this.offset||0);this.pointsList=w,this.initPoints()}}])&&Lf(e.prototype,n),i}(Ws),Rf=En(zt.prototype,"dbClickPosition",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),En(zt.prototype,"initPoints",[f.k],Object.getOwnPropertyDescriptor(zt.prototype,"initPoints"),zt.prototype),En(zt.prototype,"updatePoints",[f.k],Object.getOwnPropertyDescriptor(zt.prototype,"updatePoints"),zt.prototype),En(zt.prototype,"updateStartPoint",[f.k],Object.getOwnPropertyDescriptor(zt.prototype,"updateStartPoint"),zt.prototype),En(zt.prototype,"moveStartPoint",[f.k],Object.getOwnPropertyDescriptor(zt.prototype,"moveStartPoint"),zt.prototype),En(zt.prototype,"updateEndPoint",[f.k],Object.getOwnPropertyDescriptor(zt.prototype,"updateEndPoint"),zt.prototype),En(zt.prototype,"moveEndPoint",[f.k],Object.getOwnPropertyDescriptor(zt.prototype,"moveEndPoint"),zt.prototype),En(zt.prototype,"dragAppendStart",[f.k],Object.getOwnPropertyDescriptor(zt.prototype,"dragAppendStart"),zt.prototype),En(zt.prototype,"dragAppendSimple",[f.k],Object.getOwnPropertyDescriptor(zt.prototype,"dragAppendSimple"),zt.prototype),En(zt.prototype,"dragAppend",[f.k],Object.getOwnPropertyDescriptor(zt.prototype,"dragAppend"),zt.prototype),En(zt.prototype,"dragAppendEnd",[f.k],Object.getOwnPropertyDescriptor(zt.prototype,"dragAppendEnd"),zt.prototype),En(zt.prototype,"updatePointsAfterDrag",[f.k],Object.getOwnPropertyDescriptor(zt.prototype,"updatePointsAfterDrag"),zt.prototype),En(zt.prototype,"getAdjustStart",[f.k],Object.getOwnPropertyDescriptor(zt.prototype,"getAdjustStart"),zt.prototype),En(zt.prototype,"getAdjustEnd",[f.k],Object.getOwnPropertyDescriptor(zt.prototype,"getAdjustEnd"),zt.prototype),En(zt.prototype,"updateAfterAdjustStartAndEnd",[f.k],Object.getOwnPropertyDescriptor(zt.prototype,"updateAfterAdjustStartAndEnd"),zt.prototype),zt),yu=function(t){var e=t.start,n=t.end,r=t.offset,i=t.verticalLength,o=t.type,c={leftX:0,leftY:0,rightX:0,rightY:0},l=Math.atan((n.y-e.y)/(n.x-e.x)),p=Math.atan(r/i),O=Math.sqrt(i*i+r*r);return o==="start"?n.x>=e.x?(c.leftX=e.x+O*Math.sin(l+p),c.leftY=e.y-O*Math.cos(l+p),c.rightX=e.x-O*Math.sin(l-p),c.rightY=e.y+O*Math.cos(l-p)):(c.leftX=e.x-O*Math.sin(l+p),c.leftY=e.y+O*Math.cos(l+p),c.rightX=e.x+O*Math.sin(l-p),c.rightY=e.y-O*Math.cos(l-p)):o==="end"&&(n.x>=e.x?(c.leftX=n.x+O*Math.sin(l-p),c.leftY=n.y-O*Math.cos(l-p),c.rightX=n.x-O*Math.sin(l+p),c.rightY=n.y+O*Math.cos(l+p)):(c.leftX=n.x-O*Math.sin(l-p),c.leftY=n.y+O*Math.cos(l-p),c.rightX=n.x+O*Math.sin(l+p),c.rightY=n.y-O*Math.cos(l+p))),c},Ii={x:1,y:0,z:0};function Bt(t,e,n,r,i){for(var o=function(Z){if(Z<0||Z>1)throw new RangeError('The value range of parameter "t" is [0,1]');return{x:t.x*Math.pow(1-Z,3)+3*e.x*Z*Math.pow(1-Z,2)+3*n.x*Math.pow(Z,2)*(1-Z)+r.x*Math.pow(Z,3),y:t.y*Math.pow(1-Z,3)+3*e.y*Z*Math.pow(1-Z,2)+3*n.y*Math.pow(Z,2)*(1-Z)+r.y*Math.pow(Z,3)}},c=0,l=2,p=r.x,O=r.y,w=r;c<i&&l<50;){var A=w=o(1-l/100),D=A.x,F=A.y;c=Yn(p,O,D,F),l++}return w}function zf(t){var e=Math.hypot(t.x,t.y);return{x:t.x/e,y:t.y/e,z:0}}function wr(t){return r=function(o,c){return o.x*c.y-o.y*c.x}(e=Ii,n=t),i=Math.acos(function(o,c){var l=[o.x,o.y,o.z];return[c.x,c.y,c.z].reduce(function(p,O,w){return p+O*l[w]})}(zf(e),zf(n))),r>=0?i:-i;var e,n,r,i}function Rn(t){return t*(180/Math.PI)}function Ho(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ho(Object(n),!0).forEach(function(r){tl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ho(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Go(t){return function(e){if(Array.isArray(e))return kn(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||An(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ac(t){return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ac(t)}function Li(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||An(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function An(t,e){if(t){if(typeof t=="string")return kn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kn(t,e):void 0}}function kn(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Bf=function(t,e){var n;switch(t.type){case"line":default:n=new Ci(t,e);break;case"polyline":n=new Sc(t,e)}return n},nl=function(t,e){return 2*Math.abs(t.centerX-e.centerX)<t.width+e.width&&2*Math.abs(t.centerY-e.centerY)<t.height+e.height},Yo=function(t){var e=[],n={};return t.forEach(function(r){var i="".concat(r.x,"-").concat(r.y);r.id=i,n[i]=r}),Object.keys(n).forEach(function(r){e.push(n[r])}),e},rl=function(t,e){var n=[t,{x:t.x,y:e.y},e];return Yo(n)},xa=function(t,e){return t.width===0&&t.height===0?t:{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}},vu=function(t,e){var n=Math.abs(t.x-e.centerX),r=Math.abs(t.y-e.centerY);return n/e.width>r/e.height?vn.HORIZONTAL:vn.VERTICAL},ar=function(t,e,n){return vu(n,e)===vn.HORIZONTAL?{x:n.x>t.centerX?t.maxX:t.minX,y:n.y}:{x:n.x,y:n.y>t.centerY?t.maxY:t.minY}},hi=function(t,e){var n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY),i=Math.max(t.maxX,e.maxX),o=Math.max(t.maxY,e.maxY);return{centerX:(n+i)/2,centerY:(r+o)/2,minX:n,minY:r,maxX:i,maxY:o,height:o-r,width:i-n}},Ea=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=[],r=[];t.forEach(function(w){n.push(w.x),r.push(w.y)});var i=Math.min.apply(Math,n),o=Math.max.apply(Math,n),c=Math.min.apply(Math,r),l=Math.max.apply(Math,r),p=o-i,O=l-c;return e&&(p+=e,O+=e),{centerX:(i+o)/2,centerY:(c+l)/2,maxX:o,maxY:l,minX:i,minY:c,x:(i+o)/2,y:(c+l)/2,height:O,width:p}},gu=function(t){var e=t.minX,n=t.minY,r=t.maxX,i=t.maxY;return[{x:e,y:n},{x:r,y:n},{x:r,y:i},{x:e,y:i}]},ja=function(t,e){var n=t.x,r=t.y;return n<e.minX||n>e.maxX||r<e.minY||r>e.maxY},To=function(t,e){return e<t.minX||e>t.maxX?[]:[{x:e,y:t.minY},{x:e,y:t.maxY}]},Ut=function(t,e){return e<t.minY||e>t.maxY?[]:[{x:t.minX,y:e},{x:t.maxX,y:e}]},ol=function(t,e){return To(t,e.x).concat(Ut(t,e.y))},xr=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},il=function(t,e){var n=0;return e.forEach(function(r){r&&(t.x===r.x&&(n+=-2),t.y===r.y&&(n+=-2))}),n},cn=function(t,e,n,r,i){return xr(t,e)+xr(t,n)+il(t,[e,n,r,i])},Ff=function t(e,n,r,i,o){o||(o=0),e.unshift(n[i]),r[i]&&r[i]!==i&&o<=100&&t(e,n,r,r[i],o+1)},al=function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)},Wo=function(t,e,n,r){var i=e.x-t.x,o=e.y-t.y,c=r.x-n.x,l=r.y-n.y,p=(-o*(t.x-n.x)+i*(t.y-n.y))/(-c*o+i*l),O=(c*(t.y-n.y)-l*(t.x-n.x))/(-c*o+i*l);return p>=0&&p<=1&&O>=0&&O<=1},ul=function(t,e,n){if(n.width===0&&n.height===0)return!1;var r=Li(gu(n),4),i=r[0],o=r[1],c=r[2],l=r[3];return Wo(t,e,i,o)||Wo(t,e,i,l)||Wo(t,e,o,c)||Wo(t,e,c,l)},Uf=function(t,e,n,r){var i=[];return t.forEach(function(o){o!==e&&(o.x!==e.x&&o.y!==e.y||ul(o,e,n)||ul(o,e,r)||i.push(o))}),Yo(i)},Xf=function(t,e,n,r,i,o,c){var l=[],p=[e],O={},w={},A={};w[e.id]=0,A[e.id]=cn(e,n,e);var D={};t.forEach(function(te){D[te.id]=te});for(var F=function(){var te=void 0,ye=1/0;if(p.forEach(function(we){A[we.id]<ye&&(ye=A[we.id],te=we)}),te===n){var ge=[];return Ff(ge,D,O,n.id),{v:ge}}al(p,te),l.push(te),Uf(t,te,r,i).forEach(function(we){if(l.indexOf(we)===-1){p.indexOf(we)===-1&&p.push(we);var Ce=A[te.id]+xr(te,we);w[we.id]&&Ce>=w[we.id]||(O[we.id]=te.id,w[we.id]=Ce,A[we.id]=w[we.id]+cn(we,n,e,o,c))}})};p.length;){var Z=F();if(Ac(Z)==="object")return Z.v}return[e,n]},cl=function(t){return Ur(t)},bu=function(t){for(var e=1;e<t.length-1;){var n=t[e-1],r=t[e],i=t[e+1];n.x===r.x&&r.x===i.x||n.y===r.y&&r.y===i.y?t.splice(e,1):e++}return t},mu=function(t,e,n,r,i){var o=cl(n),c=cl(r),l=xa(o,i),p=xa(c,i),O=ar(l,o,t),w=ar(p,c,e);if(nl(l,p)){var A=fl(t,e,O,w);return[t,O].concat(Go(A),[w,e])}var D=Ea([O,w]),F=hi(l,D),Z=hi(p,D),te=[];te=(te=te.concat(gu(F))).concat(gu(Z));var ye={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[D,F,Z].forEach(function(we){te=te.concat(ol(we,ye).filter(function(Ce){return ja(Ce,l)&&ja(Ce,p)}))}),[{x:O.x,y:w.y},{x:w.x,y:O.y}].forEach(function(we){ja(we,l)&&ja(we,p)&&te.push(we)}),te.unshift(O),te.push(w),te=Yo(te);var ge=Xf(te,O,w,o,c,t,e);return ge.unshift(t),ge.push(e),ge.length>2&&(ge=bu(ge)),Yo(ge)},Hf=function(t){var e;if(t.length===1)e=[t[0],t[0]];else if(t.length>=2){for(var n=t[0],r=t[1],i=Yn(n.x,n.y,r.x,r.y),o=1;o<t.length-1;o++){var c=t[o],l=t[o+1],p=Yn(c.x,c.y,l.x,l.y);p>i&&(i=p,n=c,r=l)}e=[n,r]}return e},sl=function(t,e,n){var r=Dr(t,n),i=Dr(e,n);return r&&i},ll=function(t,e,n){var r=Dr(t,n),i=Dr(e,n);return!(r&&i)&&(r||i)},Vn=function(t,e,n){for(var r,i,o=Ur(n),c=gu(o),l=0;l<c.length;l++)Wo(t,e,c[l],c[(l+1)%c.length])&&(i=[c[l],c[(l+1)%c.length]]);return i&&(r=function(p,O,w,A){var D=(O.y-p.y)*(A.x-w.x)-(p.x-O.x)*(w.y-A.y);if(D===0)return!1;var F=((O.x-p.x)*(A.x-w.x)*(w.y-p.y)+(O.y-p.y)*(A.x-w.x)*p.x-(A.y-w.y)*(O.x-p.x)*w.x)/D,Z=-((O.y-p.y)*(A.y-w.y)*(w.x-p.x)+(O.x-p.x)*(A.y-w.y)*p.y-(A.x-w.x)*(O.y-p.y)*w.y)/D;return(F-p.x)*(F-O.x)<=0&&(Z-p.y)*(Z-O.y)<=0&&(F-w.x)*(F-A.x)<=0&&(Z-w.y)*(Z-A.y)<=0&&{x:F,y:Z}}(t,e,i[0],i[1])),r},rr=function(t,e){var n;return t.x===e.x?n=vn.VERTICAL:t.y===e.y&&(n=vn.HORIZONTAL),n},di=function(t){var e=t.split(" "),n=[];return e&&e.forEach(function(r){var i=Li(r.split(","),2),o=i[0],c=i[1];n.push({x:Number(o),y:Number(c)})}),n},fl=function(t,e,n,r){var i=[];if(rr(t,n)===rr(e,r))t.y===n.y?(i.push({x:n.x,y:(n.y+r.y)/2}),i.push({x:r.x,y:(n.y+r.y)/2})):(i.push({x:(n.x+r.x)/2,y:n.y}),i.push({x:(n.x+r.x)/2,y:r.y}));else{var o={x:n.x,y:r.y},c=_t(o,t,n),l=_t(o,e,r);if(c||l)o={x:r.x,y:n.y};else{var p=Gf(o,t,n),O=Gf(o,e,r);p&&O&&(o={x:r.x,y:n.y})}i.push(o)}return i},Gf=function(t,e,n){return t.x===e.x&&t.x===n.x||t.y===e.y&&t.y===n.y},pl=function(t){if(!t)return 0;for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);t.match(/[A-Z]/)?e+=1.5:e+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return e},kc=null,Yf=function(t,e){kc||(kc=document.createElement("canvas"));var n=kc.getContext("2d");return n.font=e,n.measureText(t).width},hl=function(t){var e,n=t.start,r=t.end;if(n.x===r.x&&n.y===r.y)e="";else{var i={start:n,end:r,offset:10,verticalLength:5},o=yu(Pc(Pc({},i),{},{type:"start"})),c=yu(Pc(Pc({},i),{},{type:"end"}));e="M".concat(o.leftX," ").concat(o.leftY,` 
    L`).concat(o.rightX," ").concat(o.rightY,` 
    L`).concat(c.rightX," ").concat(c.rightY,`
    L`).concat(c.leftX," ").concat(c.leftY," z")}return{d:e,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},yi=function(t){var e=t.start,n=t.end,r=t.sourceNode,i=t.targetNode,o=t.offset,c=Ur(r),l=Ur(i),p=xa(c,o),O=xa(l,o);return{sNext:ar(p,c,e),ePre:ar(O,l,n)}},Tc=function(t){var e=t.replace(/M/g,"").replace(/C/g,",").split(",");return[Ou(e[0]),Ou(e[1]),Ou(e[2]),Ou(e[3])]},Ou=function(t){var e=Li(t.replace(/(^\s*)/g,"").split(" "),2);return{x:+e[0],y:+e[1]}},Dc=function(t,e){var n=Li(t,4);return[Bt(n[0],n[1],n[2],n[3],e),t[3]]},dl=function(t,e){for(var n,r=t.x,i=t.y,o=di(e),c=Number.MAX_SAFE_INTEGER,l=[],p=0;p<o.length;p++)l.push({start:o[p],end:o[(p+1)%o.length]});if(l.forEach(function(D){var F=D.start,Z=D.end;if(F.x===Z.x){var te={x:F.x,y:i};if(_t(te,F,Z)){var ye=Math.abs(F.x-r);ye<c&&(c=ye,n=te)}}else if(F.y===Z.y){var ge={x:r,y:F.y};if(_t(ge,F,Z)){var we=Math.abs(F.y-i);we<c&&(c=we,n=ge)}}}),!n){var O=l[0],w=O.start,A=O.end;n={x:w.x+(A.x-w.x)/2,y:w.y+(A.y-w.y)/2}}return n},Wf=function(t){return zo(t,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},yl=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))};function Vf(t,e){return typeof e!="function"?function(n,r,i){return Object.assign({type:t.edgeType},i)}:function(n,r,i){var o=e(n,r,i);return o?typeof o=="string"?Object.assign({},i,{type:o}):Object.assign({type:o},i):{type:t.edgeType}}}u(207);var vl=function(){};function vh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function In(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ao=function(){function t(r){var i=this,o=r.onDragStart,c=o===void 0?vl:o,l=r.onDragging,p=l===void 0?vl:l,O=r.onDragEnd,w=O===void 0?vl:O,A=r.eventType,D=A===void 0?"":A,F=r.eventCenter,Z=F===void 0?null:F,te=r.step,ye=te===void 0?1:te,ge=r.isStopPropagation,we=ge===void 0||ge,Ce=r.model,$e=Ce===void 0?null:Ce,Je=r.data,bt=Je===void 0?null:Je;(function(Ze,ft){if(!(Ze instanceof ft))throw new TypeError("Cannot call a class as a function")})(this,t),In(this,"onDragStart",void 0),In(this,"onDragging",void 0),In(this,"onDragEnd",void 0),In(this,"step",void 0),In(this,"isStopPropagation",void 0),In(this,"isDragging",!1),In(this,"isStartDragging",!1),In(this,"startX",0),In(this,"startY",0),In(this,"sumDeltaX",0),In(this,"sumDeltaY",0),In(this,"eventType",void 0),In(this,"eventCenter",void 0),In(this,"model",void 0),In(this,"data",void 0),In(this,"startTime",void 0),In(this,"handleMouseDown",function(Ze){var ft,et,Vt,qt=(ft=window)===null||ft===void 0?void 0:ft.document;if(Ze.button===0){i.isStopPropagation&&Ze.stopPropagation(),i.isStartDragging=!0,i.startX=Ze.clientX,i.startY=Ze.clientY,qt.addEventListener("mousemove",i.handleMouseMove,!1),qt.addEventListener("mouseup",i.handleMouseUp,!1);var Tt=(et=i.model)===null||et===void 0?void 0:et.getData();(Vt=i.eventCenter)===null||Vt===void 0||Vt.emit(lt["".concat(i.eventType,"_MOUSEDOWN")],{e:Ze,data:i.data||Tt}),i.startTime=new Date().getTime()}}),In(this,"handleMouseMove",function(Ze){if(i.isStopPropagation&&Ze.stopPropagation(),i.isStartDragging&&(i.sumDeltaX+=Ze.clientX-i.startX,i.sumDeltaY+=Ze.clientY-i.startY,i.startX=Ze.clientX,i.startY=Ze.clientY,i.step<=1||Math.abs(i.sumDeltaX)>i.step||Math.abs(i.sumDeltaY)>i.step)){var ft,et=i.sumDeltaX%i.step,Vt=i.sumDeltaY%i.step,qt=i.sumDeltaX-et,Tt=i.sumDeltaY-Vt;i.sumDeltaX=et,i.sumDeltaY=Vt;var nn,Un=(ft=i.model)===null||ft===void 0?void 0:ft.getData();i.isDragging||((nn=i.eventCenter)===null||nn===void 0||nn.emit(lt["".concat(i.eventType,"_DRAGSTART")],{e:Ze,data:i.data||Un}),i.onDragStart({event:Ze})),i.isDragging=!0,Promise.resolve().then(function(){var Xn,jr;i.onDragging({deltaX:qt,deltaY:Tt,event:Ze}),(Xn=i.eventCenter)===null||Xn===void 0||Xn.emit(lt["".concat(i.eventType,"_MOUSEMOVE")],{e:Ze,data:i.data||Un}),(jr=i.eventCenter)===null||jr===void 0||jr.emit(lt["".concat(i.eventType,"_DRAG")],{e:Ze,data:i.data||Un})})}}),In(this,"handleMouseUp",function(Ze){var ft=window.document;i.isStartDragging=!1,i.isStopPropagation&&Ze.stopPropagation(),Promise.resolve().then(function(){var et,Vt,qt;ft.removeEventListener("mousemove",i.handleMouseMove,!1),ft.removeEventListener("mouseup",i.handleMouseUp,!1);var Tt=(et=i.model)===null||et===void 0?void 0:et.getData();(Vt=i.eventCenter)===null||Vt===void 0||Vt.emit(lt["".concat(i.eventType,"_MOUSEUP")],{e:Ze,data:i.data||Tt}),i.isDragging&&(i.isDragging=!1,i.onDragEnd({event:Ze}),(qt=i.eventCenter)===null||qt===void 0||qt.emit(lt["".concat(i.eventType,"_DROP")],{e:Ze,data:i.data||Tt}))})}),In(this,"cancelDrag",function(){var Ze,ft=(Ze=window)===null||Ze===void 0?void 0:Ze.document;ft.removeEventListener("mousemove",i.handleMouseMove,!1),ft.removeEventListener("mouseup",i.handleMouseUp,!1),i.onDragEnd({event:null}),i.isDragging=!1}),this.onDragStart=c,this.onDragging=p,this.onDragEnd=w,this.step=ye,this.isStopPropagation=we,this.eventType=D,this.eventCenter=Z,this.model=$e,this.data=bt}var e,n;return e=t,(n=[{key:"setStep",value:function(r){this.step=r}},{key:"setModel",value:function(r){this.model=r}}])&&vh(e.prototype,n),t}();function Mc(t){return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(t)}function gl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bl(t,e,n){return e&&Nc(t.prototype,e),n&&Nc(t,n),t}function ml(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wu(t,e)}function hr(t){var e=Cc();return function(){var n,r=xu(t);if(e){var i=xu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ol(this,n)}}function Ol(t,e){if(e&&(Mc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zi(t)}function zi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _l(t){var e=typeof Map=="function"?new Map:void 0;return _l=function(n){if(n===null||(r=n,Function.toString.call(r).indexOf("[native code]")===-1))return n;var r;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return _u(n,arguments,xu(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),wu(i,n)},_l(t)}function _u(t,e,n){return _u=Cc()?Reflect.construct:function(r,i,o){var c=[null];c.push.apply(c,i);var l=new(Function.bind.apply(r,c));return o&&wu(l,o.prototype),l},_u.apply(null,arguments)}function Cc(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wu(t,e){return wu=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},wu(t,e)}function xu(t){return xu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},xu(t)}function wl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xl(t,e){return t instanceof or&&e instanceof or}var $f=function(t){ml(n,t);var e=hr(n);function n(r,i,o){var c;return gl(this,n),wl(zi(c=e.call(this,3)),"x",void 0),wl(zi(c),"y",void 0),wl(zi(c),"z",void 0),c[0]=r,c[1]=i,c[2]=o,c.x=r,c.y=i,c.z=o,Object.setPrototypeOf(zi(c),n.prototype),c}return bl(n,[{key:"add",value:function(r){if(xl(this,r))return new or(this.x+r.x,this.y+r.y);var i=this.z+r.z;return new Sa((this.x+r.x)/i,(this.y+r.y)/i)}},{key:"subtract",value:function(r){if(xl(this,r))return new or(this.x-r.x,this.y-r.y);var i=this.z-r.z;return i===0?new or(this.x-r.x,this.y-r.y):new Sa((this.x-r.x)/i,(this.y-r.y)/i)}}]),n}(_l(Array)),or=function(t){ml(n,t);var e=hr(n);function n(r,i,o){var c;return gl(this,n),c=e.call(this,r,i,o??0),Object.setPrototypeOf(zi(c),n.prototype),c}return bl(n,[{key:"toString",value:function(){return"Vector"}},{key:"dot",value:function(r){var i=this;return r.reduce(function(o,c,l){return o+c*i[l]})}},{key:"cross",value:function(r){return new n(this.y*r.z-this.z*r.y,this.z*r.x-this.x*r.z,this.x*r.y-this.y*r.x)}},{key:"getLength",value:function(){return Math.hypot(this.x,this.y)}},{key:"normalize",value:function(){var r=this.getLength();return new n(this.x/r,this.y/r)}},{key:"crossZ",value:function(r){return this.x*r.y-this.y*r.x}},{key:"angle",value:function(r){var i=this.crossZ(r),o=Math.acos(this.normalize().dot(r.normalize()));return i>=0?o:-o}}]),n}($f),Sa=function(t){ml(n,t);var e=hr(n);function n(r,i){var o;return gl(this,n),o=e.call(this,r,i,1),Object.setPrototypeOf(zi(o),n.prototype),o}return bl(n,[{key:"toString",value:function(){return"Point"}}]),n}($f);u(67),u(217);function Eu(t){return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eu(t)}function El(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||Zf(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Kf(t){return function(e){if(Array.isArray(e))return jl(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Zf(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Zf(t,e){if(t){if(typeof t=="string")return jl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jl(t,e):void 0}}function jl(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rc(t,e,n){return e&&qf(t.prototype,e),n&&qf(t,n),t}function Ic(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ee(t,e)}function a(t){var e=B();return function(){var n,r=ae(t);if(e){var i=ae(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){if(e&&(Eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y(t)}function y(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x(t){var e=typeof Map=="function"?new Map:void 0;return x=function(n){if(n===null||(r=n,Function.toString.call(r).indexOf("[native code]")===-1))return n;var r;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return k(n,arguments,ae(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),ee(i,n)},x(t)}function k(t,e,n){return k=B()?Reflect.construct:function(r,i,o){var c=[null];c.push.apply(c,i);var l=new(Function.bind.apply(r,c));return o&&ee(l,o.prototype),l},k.apply(null,arguments)}function B(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ee(t,e){return ee=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ee(t,e)}function ae(t){return ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ae(t)}function Oe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var V,Ne,Ue,ct,pt,jt,Le,He,At,it,kt,Nt,$t,dt=function(t){Ic(n,t);var e=a(n);function n(){var r;Pa(this,n);for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return Oe(y(r=e.call(this,o.length)),"rows",void 0),Oe(y(r),"columns",void 0),r.fill(new Array(3)),o.forEach(function(l,p){r[p]=l}),r.columns=o[0].length,r.rows=o.length,Object.setPrototypeOf(y(r),n.prototype),r}return Rc(n,[{key:"getRow",value:function(r){return this[r]}},{key:"getColumn",value:function(r){return Kf(this.map(function(i){return i[r]}))}},{key:"transpose",value:function(){for(var r=[],i=0;i<this.columns;i++)r.push(this.getColumn(i));return k(n,r)}},{key:"cross",value:function(r){var i=new Array(this.rows).fill("").map(function(){return[]});if(this.columns===r.rows)for(var o=0;o<this.rows;o++)for(var c=this.getRow(o),l=function(O){var w=r.getColumn(O);i[o][O]=c.reduce(function(A,D,F){return A+D*w[F]},0)},p=0;p<r.columns;p++)l(p);return k(n,Kf(i))}},{key:"to2D",value:function(){return this.map(function(r){return[r[0],r[1]]})}},{key:"toPoints",value:function(){return this.map(function(r){return new Sa(r[0],r[1])})}},{key:"toString",value:function(){var r=El(this[0],2),i=r[0],o=r[1],c=El(this[1],2),l=c[0],p=c[1],O=El(this[2],2),w=O[0],A=O[1];return"matrix(".concat(i," ").concat(o," ").concat(l," ").concat(p," ").concat(w," ").concat(A,")")}},{key:"translate",value:function(r,i){return this.cross(new ur(r,i))}},{key:"rotate",value:function(r){return this.cross(new St(r))}},{key:"scale",value:function(r,i){return this.cross(new $n(r,i))}}]),n}(x(Array)),St=function(t){Ic(n,t);var e=a(n);function n(r){var i;return Pa(this,n),i=e.call(this,new or(+Math.cos(r).toFixed(2),+Math.sin(r).toFixed(2),0),new or(-Math.sin(r).toFixed(2),+Math.cos(r).toFixed(2),0),new or(0,0,1)),Object.setPrototypeOf(y(i),n.prototype),i}return Rc(n,[{key:"inverse",value:function(){return this.transpose()}}]),n}(dt),$n=function(t){Ic(n,t);var e=a(n);function n(r,i){var o;return Pa(this,n),Oe(y(o=e.call(this,new or(r,0,0),new or(0,i,0),new or(0,0,1))),"sx",void 0),Oe(y(o),"sy",void 0),o.sx=r,o.sy=i,Object.setPrototypeOf(y(o),n.prototype),o}return Rc(n,[{key:"inverse",value:function(){return new n(1/this.sx,1/this.sy)}}]),n}(dt),ur=function(t){Ic(n,t);var e=a(n);function n(r,i){var o;return Pa(this,n),Oe(y(o=e.call(this,new or(1,0,0),new or(0,1,0),new or(r,i,1))),"tx",void 0),Oe(y(o),"ty",void 0),o.tx=r,o.ty=i,Object.setPrototypeOf(y(o),n.prototype),o}return Rc(n,[{key:"inverse",value:function(){return new n(-this.tx,-this.ty)}}]),n}(dt),uo={node:!1,edge:!1},Qn={node:!0,edge:!0};function Do(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function co(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Do(Object(n),!0).forEach(function(r){Hr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Do(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vo(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||Bi(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $o(t){return function(e){if(Array.isArray(e))return Ko(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Bi(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Bi(t,e){if(t){if(typeof t=="string")return Ko(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ko(t,e):void 0}}function Ko(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ju(t){return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ju(t)}function Xr(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Lc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yt(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(c){o[c]=r[c]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(c,l){return l(t,e,c)||c},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Su,Sl=200,Pu=(V=function(){function t(r){(function(F,Z){if(!(F instanceof Z))throw new TypeError("Cannot call a class as a function")})(this,t),Hr(this,"rootEl",void 0),Xr(this,"width",Ne,this),Xr(this,"height",Ue,this),Hr(this,"theme",void 0),Hr(this,"eventCenter",void 0),Hr(this,"modelMap",new Map),Hr(this,"topElement",void 0),Hr(this,"animation",void 0),Hr(this,"idGenerator",void 0),Hr(this,"edgeGenerator",void 0),Hr(this,"nodeMoveRules",[]),Hr(this,"customTrajectory",void 0),Xr(this,"edgeType",ct,this),Xr(this,"nodes",pt,this),Xr(this,"edges",jt,this),Xr(this,"overlapMode",Le,this),Xr(this,"background",He,this),Xr(this,"transformModel",At,this),Xr(this,"editConfigModel",it,this),Xr(this,"gridSize",kt,this),Xr(this,"partial",Nt,this),Xr(this,"fakerNode",$t,this);var i,o=r.container,c=r.background,l=c===void 0?{}:c,p=r.grid,O=r.idGenerator,w=r.edgeGenerator,A=r.animation,D=r.customTrajectory;this.background=l,ju(p)==="object"&&(this.gridSize=p.size),this.rootEl=o,this.editConfigModel=new hs(r),this.eventCenter=new dc,this.transformModel=new nf(this.eventCenter,r),this.theme=su(r.style),this.edgeType=r.edgeType||"polyline",this.width=r.width,this.height=r.height,this.animation=(i=A)&&typeof i!="boolean"?cu(wn(uo),i):wn(i===!0?Qn:uo),this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=O,this.customTrajectory=D,this.edgeGenerator=Vf(this,w),this.width=r.width||this.rootEl.getBoundingClientRect().width,this.height=r.height||this.rootEl.getBoundingClientRect().height,this.flowId=io()}var e,n;return e=t,n=[{key:"nodesMap",get:function(){return this.nodes.reduce(function(r,i,o){return r[i.id]={index:o,model:i},r},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(r,i,o){return r[i.id]={index:o,model:i},r},{})}},{key:"modelsMap",get:function(){return[].concat($o(this.nodes),$o(this.edges)).reduce(function(r,i){return r[i.id]=i,r},{})}},{key:"sortElements",get:function(){var r=[];this.nodes.forEach(function(O){return r.push(O)}),this.edges.forEach(function(O){return r.push(O)}),r=r.sort(function(O,w){return O.zIndex-w.zIndex});for(var i=[],o=[-200,-200],c=[this.width+Sl,this.height+Sl],l=0;l<r.length;l++){var p=r[l];p.visible&&(!this.partial||p.isSelected||this.isElementInArea(p,o,c,!1,!1))&&i.push(p)}return i}},{key:"textEditElement",get:function(){var r=this.nodes.find(function(o){return o.state===un.TEXT_EDIT}),i=this.edges.find(function(o){return o.state===un.TEXT_EDIT});return r||i}},{key:"selectElements",get:function(){var r=new Map;return this.nodes.forEach(function(i){i.isSelected&&r.set(i.id,i)}),this.edges.forEach(function(i){i.isSelected&&r.set(i.id,i)}),r}},{key:"selectNodes",get:function(){var r=[];return this.nodes.forEach(function(i){i.isSelected&&r.push(i)}),r}},{key:"getAreaElement",value:function(r,i){var o=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],c=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],l=arguments.length>4&&arguments[4]!==void 0&&arguments[4],p=[],O=[];this.nodes.forEach(function(D){return O.push(D)}),this.edges.forEach(function(D){return O.push(D)});for(var w=0;w<O.length;w++){var A=O[w];l&&!A.visible||!this.isElementInArea(A,r,i,o,c)||p.push(A)}return p}},{key:"getModel",value:function(r){return this.modelMap.get(r)}},{key:"getNodeModelById",value:function(r){var i;return this.fakerNode&&r===this.fakerNode.id?this.fakerNode:(i=this.nodesMap[r])===null||i===void 0?void 0:i.model}},{key:"getPointByClient",value:function(r){var i=r.x,o=r.y,c=this.rootEl.getBoundingClientRect(),l={x:i-c.left,y:o-c.top},p=Vo(this.transformModel.HtmlPointToCanvasPoint([l.x,l.y]),2);return{domOverlayPosition:l,canvasOverlayPosition:{x:p[0],y:p[1]}}}},{key:"isElementInArea",value:function(r,i,o){var c=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],l=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(r.BaseType===Fn.NODE){for(var p=Ur(r=r),O=p.minX,w=p.minY,A=p.maxX,D=p.maxY,F=[{x:O,y:w},{x:A,y:w},{x:A,y:D},{x:O,y:D}],Z=l,te=0;te<F.length;te++){var ye=F[te],ge=ye.x,we=ye.y,Ce=this.transformModel.CanvasPointToHtmlPoint([ge,we]),$e=Vo(Ce,2);if(ge=$e[0],we=$e[1],gc([ge,we],i,o)!==l){Z=!l;break}}return Z}if(r.BaseType===Fn.EDGE){var Je=r=r,bt=Je.startPoint,Ze=Je.endPoint,ft=this.transformModel.CanvasPointToHtmlPoint([bt.x,bt.y]),et=this.transformModel.CanvasPointToHtmlPoint([Ze.x,Ze.y]),Vt=gc(ft,i,o),qt=gc(et,i,o);return c?Vt&&qt:Vt||qt}return!1}},{key:"graphDataToModel",value:function(r){var i=this;if(this.width&&this.height||this.resize(),!r)return this.nodes=[],void(this.edges=[]);r.nodes?this.nodes=Zu(r.nodes,function(o){var c=i.getModel(o.type);if(!c)throw new Error("找不到".concat(o.type,"对应的节点。"));var l=o.x,p=o.y;return l&&p&&(o.x=Po(l,i.gridSize),o.y=Po(p,i.gridSize),ju(o.text)==="object"&&(o.text.x-=va(l,i.gridSize),o.text.y-=va(p,i.gridSize))),new c(o,i)}):this.nodes=[],r.edges?this.edges=Zu(r.edges,function(o){var c=i.getModel(o.type);if(!c)throw new Error("找不到".concat(o.type,"对应的边。"));return new c(o,i)}):this.edges=[]}},{key:"modelToGraphData",value:function(){var r=[];this.edges.forEach(function(o){var c=o.getData();c&&!o.virtual&&r.push(c)});var i=[];return this.nodes.forEach(function(o){var c=o.getData();c&&!o.virtual&&i.push(c)}),{nodes:i,edges:r}}},{key:"modelToHistoryData",value:function(){for(var r=!1,i=[],o=0;o<this.nodes.length;o++){var c=this.nodes[o];if(c.isDragging){r=!0;break}i.push(c.getHistoryData())}if(r)return!1;for(var l=!1,p=[],O=0;O<this.edges.length;O++){var w=this.edges[O];if(w.isDragging){l=!0;break}p.push(w.getHistoryData())}return!l&&{nodes:i,edges:p}}},{key:"getEdgeModelById",value:function(r){var i;return(i=this.edgesMap[r])===null||i===void 0?void 0:i.model}},{key:"getElement",value:function(r){return this.modelsMap[r]}},{key:"getNodeEdges",value:function(r){for(var i=[],o=0;o<this.edges.length;o++){var c=this.edges[o],l=this.edges[o].sourceNodeId===r,p=this.edges[o].targetNodeId===r;(l||p)&&i.push(c)}return i}},{key:"getSelectElements",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],i=this.selectElements,o={nodes:[],edges:[]};return i.forEach(function(c){if(c.BaseType===Fn.NODE&&o.nodes.push(c.getData()),c.BaseType===Fn.EDGE){var l=c.getData(),p=i.get(l.sourceNodeId)&&i.get(l.targetNodeId);(r||p)&&o.edges.push(l)}}),o}},{key:"updateAttributes",value:function(r,i){this.getElement(r).updateAttributes(i)}},{key:"changeNodeId",value:function(r,i){return i||(i=io()),this.nodesMap[i]?"":this.nodesMap[r]?(this.edges.forEach(function(o){o.sourceNodeId===r&&(o.sourceNodeId=i),o.targetNodeId===r&&(o.targetNodeId=i)}),this.nodesMap[r].model.id=i,this.nodesMap[i]=this.nodesMap[r],i):""}},{key:"changeEdgeId",value:function(r,i){return i||(i=io()),this.edgesMap[i]?"":this.edgesMap[r]?(this.edges.forEach(function(o){o.id===r&&o.changeEdgeId(i)}),i):""}},{key:"setFakerNode",value:function(r){this.fakerNode=r}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(r,i){return this.modelMap.set(r,i)}},{key:"toFront",value:function(r){var i,o,c,l=((i=this.nodesMap[r])===null||i===void 0?void 0:i.model)||((o=this.edgesMap[r])===null||o===void 0?void 0:o.model);l&&(this.overlapMode===Pn.DEFAULT&&((c=this.topElement)===null||c===void 0||c.setZIndex(),l.setZIndex(9999),this.topElement=l),this.overlapMode===Pn.INCREASE&&this.setElementZIndex(r,"top"))}},{key:"setElementZIndex",value:function(r,i){var o,c,l,p=((o=this.nodesMap[r])===null||o===void 0?void 0:o.model)||((c=this.edgesMap[r])===null||c===void 0?void 0:c.model);p&&(typeof i=="number"&&(l=i),i==="top"&&(l=Gs()),i==="bottom"&&(l=--Tf),p.setZIndex(l))}},{key:"deleteNode",value:function(r){var i=this.nodesMap[r].model.getData();this.deleteEdgeBySource(r),this.deleteEdgeByTarget(r),this.nodes.splice(this.nodesMap[r].index,1),this.eventCenter.emit(lt.NODE_DELETE,{data:i})}},{key:"addNode",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:lt.NODE_ADD,o=arguments.length>2?arguments[2]:void 0,c=bn(r);c.id&&this.nodesMap[r.id]&&delete c.id;var l=this.getModel(c.type);if(!l)throw new Error("找不到".concat(c.type,"对应的节点，请确认是否已注册此类型节点。"));c.x=Po(c.x,this.gridSize),c.y=Po(c.y,this.gridSize);var p=new l(c,this);this.nodes.push(p);var O=p.getData(),w={data:O};return o&&(w.e=o),this.eventCenter.emit(i,w),p}},{key:"cloneNode",value:function(r){var i=this.getNodeModelById(r),o=i.getData();o.x+=30,o.y+=30,delete o.id,o.text&&(o.text.x+=30,o.text.y+=30);var c=this.addNode(o);return c.setSelected(!0),i.setSelected(!1),c.getData()}},{key:"moveNode",value:function(r,i,o){var c=arguments.length>3&&arguments[3]!==void 0&&arguments[3],l=this.nodesMap[r];if(l){var p=l.model,O=p.getMoveDistance(i,o,c),w=Vo(O,2);i=w[0],o=w[1],this.moveEdge(r,i,o)}}},{key:"moveNode2Coordinate",value:function(r,i,o){var c=arguments.length>3&&arguments[3]!==void 0&&arguments[3],l=this.nodesMap[r];if(l){var p=l.model,O=p.x,w=p.y,A=i-O,D=o-w;this.moveNode(r,A,D,c)}}},{key:"editText",value:function(r){this.setElementStateById(r,un.TEXT_EDIT)}},{key:"addEdge",value:function(r){var i=bn(r),o=i.type;o||(o=this.edgeType),i.id&&this.edgesMap[i.id]&&delete i.id;var c=this.getModel(o);if(!c)throw new Error("找不到".concat(o,"对应的边，请确认是否已注册此类型边。"));var l=new c(co(co({},i),{},{type:o}),this),p=l.getData();return this.edges.push(l),this.eventCenter.emit(lt.EDGE_ADD,{data:p}),l}},{key:"moveEdge",value:function(r,i,o){for(var c=0;c<this.edges.length;c++){var l=this.edges[c],p=l.textPosition,O=p.x,w=p.y,A=this.edges[c].sourceNodeId===r,D=this.edges[c].targetNodeId===r;A&&l.moveStartPoint(i,o),D&&l.moveEndPoint(i,o),(A||D)&&this.handleEdgeTextMove(l,O,w)}}},{key:"handleEdgeTextMove",value:function(r,i,o){var c;if(r.customTextPosition===!0)r.resetTextPosition();else if(r.modelType===Gt.POLYLINE_EDGE&&(c=r.text)!==null&&c!==void 0&&c.value){var l=r.text,p=dl(l,r.points);r.moveText(p.x-l.x,p.y-l.y)}else{var O=r.textPosition,w=O.x,A=O.y;r.moveText(w-i,A-o)}}},{key:"deleteEdgeBySourceAndTarget",value:function(r,i){for(var o=0;o<this.edges.length;o++)if(this.edges[o].sourceNodeId===r&&this.edges[o].targetNodeId===i){var c=this.edges[o].getData();this.edges.splice(o,1),o--,this.eventCenter.emit(lt.EDGE_DELETE,{data:c})}}},{key:"deleteEdgeById",value:function(r){if(this.edgesMap[r]){var i=this.edgesMap[r].index,o=this.edgesMap[r].model.getData();this.edges.splice(i,1),this.eventCenter.emit(lt.EDGE_DELETE,{data:o})}}},{key:"deleteEdgeBySource",value:function(r){for(var i=0;i<this.edges.length;i++)if(this.edges[i].sourceNodeId===r){var o=this.edges[i].getData();this.edges.splice(i,1),i--,this.eventCenter.emit(lt.EDGE_DELETE,{data:o})}}},{key:"deleteEdgeByTarget",value:function(r){for(var i=0;i<this.edges.length;i++)if(this.edges[i].targetNodeId===r){var o=this.edges[i].getData();this.edges.splice(i,1),i--,this.eventCenter.emit(lt.EDGE_DELETE,{data:o})}}},{key:"setElementStateById",value:function(r,i,o){this.nodes.forEach(function(c){c.id===r?c.setElementState(i,o):c.setElementState(un.DEFAULT)}),this.edges.forEach(function(c){c.id===r?c.setElementState(i,o):c.setElementState(un.DEFAULT)})}},{key:"updateText",value:function(r,i){this.nodes.forEach(function(o){o.id===r&&o.updateText(i)}),this.edges.forEach(function(o){o.id===r&&o.updateText(i)})}},{key:"selectNodeById",value:function(r){var i,o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];o||this.clearSelectElements();var c=(i=this.nodesMap[r])===null||i===void 0?void 0:i.model;c==null||c.setSelected(!0)}},{key:"selectEdgeById",value:function(r){var i,o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];o||this.clearSelectElements();var c=(i=this.edgesMap[r])===null||i===void 0?void 0:i.model;c==null||c.setSelected(!0)}},{key:"selectElementById",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];i||this.clearSelectElements();var o=this.getElement(r);o==null||o.setSelected(!0)}},{key:"clearSelectElements",value:function(){var r;this.selectElements.forEach(function(i){i==null||i.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===Pn.DEFAULT&&((r=this.topElement)===null||r===void 0||r.setZIndex())}},{key:"moveNodes",value:function(r,i,o){for(var c=this,l=arguments.length>3&&arguments[3]!==void 0&&arguments[3],p=r.reduce(function($e,Je){var bt=c.nodesMap[Je].model.getMoveDistance(i,o,l);return $e[Je]=bt,$e},{}),O=0;O<this.edges.length;O++){var w=this.edges[O],A=w.textPosition,D=A.x,F=A.y,Z=p[w.sourceNodeId],te=void 0,ye=void 0;if(Z){var ge=Vo(Z,2);te=ge[0],ye=ge[1],w.moveStartPoint(te,ye)}var we=p[w.targetNodeId];if(we){var Ce=Vo(we,2);te=Ce[0],ye=Ce[1],w.moveEndPoint(te,ye)}(Z||we)&&this.handleEdgeTextMove(w,D,F)}}},{key:"addNodeMoveRules",value:function(r){this.nodeMoveRules.includes(r)||this.nodeMoveRules.push(r)}},{key:"setDefaultEdgeType",value:function(r){this.edgeType=r}},{key:"changeNodeType",value:function(r,i){var o=this.getNodeModelById(r);if(o){var c=o.getData();c.type=i;var l=this.getModel(i);if(!l)throw new Error("找不到".concat(i,"对应的节点，请确认是否已注册此类型节点。"));var p=new l(c,this);this.nodes.splice(this.nodesMap[r].index,1,p),this.getNodeEdges(r).forEach(function(O){if(O.sourceNodeId===r){var w=Xs(p,O.startPoint,p.width,p.height);O.updateStartPoint(w)}if(O.targetNodeId===r){var A=Xs(p,O.endPoint,p.width,p.height);O.updateEndPoint(A)}})}}},{key:"changeEdgeType",value:function(r,i){var o=this.getEdgeModelById(r);if(o&&o.type!==i){var c=o.getData();c.type=i;var l=this.getModel(i);if(!l)throw new Error("找不到".concat(i,"对应的节点，请确认是否已注册此类型节点。"));delete c.pointsList;var p=new l(c,this);this.edges.splice(this.edgesMap[r].index,1,p)}}},{key:"getNodeIncomingEdge",value:function(r){var i=[];return this.edges.forEach(function(o){o.targetNodeId===r&&i.push(o)}),i}},{key:"getNodeOutgoingEdge",value:function(r){var i=[];return this.edges.forEach(function(o){o.sourceNodeId===r&&i.push(o)}),i}},{key:"getNodeIncomingNode",value:function(r){var i=this,o=[];return this.edges.forEach(function(c){c.targetNodeId===r&&o.push(i.nodesMap[c.sourceNodeId].model)}),o}},{key:"getNodeOutgoingNode",value:function(r){var i=this,o=[];return this.edges.forEach(function(c){c.sourceNodeId===r&&o.push(i.nodesMap[c.targetNodeId].model)}),o}},{key:"setTheme",value:function(r){this.theme=su(co(co({},this.theme),r))}},{key:"resize",value:function(r,i){this.width=r||this.rootEl.getBoundingClientRect().width,this.height=i||this.rootEl.getBoundingClientRect().height,!this.width||this.height}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var r=this.nodes,i=[],o=[];r.forEach(function(A){var D=A.x,F=A.y,Z=A.width,te=A.height,ye=A.getNodeStyle().strokeWidth,ge=ye===void 0?0:ye,we=D+Z/2+ge,Ce=D-Z/2-ge,$e=F+te/2+ge,Je=F-te/2-ge;i=i.concat([we,Ce].filter(function(bt){return!Number.isNaN(bt)})),o=o.concat([$e,Je].filter(function(bt){return!Number.isNaN(bt)}))});var c=Math.min.apply(Math,$o(i)),l=Math.max.apply(Math,$o(i)),p=Math.min.apply(Math,$o(o)),O=l-c||0,w=Math.max.apply(Math,$o(o))-p||0;return{virtualRectWidth:O,virtualRectHeight:w,virtualRectCenterPositionX:c+O/2,virtualRectCenterPositionY:p+w/2}}},{key:"translateCenter",value:function(){var r=this.nodes,i=this.width,o=this.height,c=this.rootEl,l=this.transformModel;if(r.length){var p=i||c.clientWidth,O=o||c.clientHeight,w=this.getVirtualRectSize(),A=w.virtualRectCenterPositionX,D=w.virtualRectCenterPositionY;l.focusOn(A,D,p,O)}}},{key:"fitView",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,o=this.nodes,c=this.width,l=this.height,p=this.rootEl,O=this.transformModel;if(o.length){var w=c||p.clientWidth,A=l||p.clientHeight,D=this.getVirtualRectSize(),F=D.virtualRectWidth,Z=D.virtualRectHeight,te=D.virtualRectCenterPositionX,ye=D.virtualRectCenterPositionY,ge=(F+i)/w,we=(Z+r)/A,Ce=0;Ce=1/Math.max(ge,we);var $e=[w/2,A/2];O.zoom(Ce,$e),O.focusOn(te,ye,w,A)}}},{key:"openEdgeAnimation",value:function(r){this.getEdgeModelById(r).openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(r){this.getEdgeModelById(r).closeEdgeAnimation()}}],n&&Lc(e.prototype,n),t}(),Ne=yt(V.prototype,"width",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ue=yt(V.prototype,"height",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ct=yt(V.prototype,"edgeType",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pt=yt(V.prototype,"nodes",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),jt=yt(V.prototype,"edges",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Le=yt(V.prototype,"overlapMode",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Pn.DEFAULT}}),He=yt(V.prototype,"background",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),At=yt(V.prototype,"transformModel",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=yt(V.prototype,"editConfigModel",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kt=yt(V.prototype,"gridSize",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Nt=yt(V.prototype,"partial",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$t=yt(V.prototype,"fakerNode",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yt(V.prototype,"nodesMap",[f.m],Object.getOwnPropertyDescriptor(V.prototype,"nodesMap"),V.prototype),yt(V.prototype,"edgesMap",[f.m],Object.getOwnPropertyDescriptor(V.prototype,"edgesMap"),V.prototype),yt(V.prototype,"modelsMap",[f.m],Object.getOwnPropertyDescriptor(V.prototype,"modelsMap"),V.prototype),yt(V.prototype,"sortElements",[f.m],Object.getOwnPropertyDescriptor(V.prototype,"sortElements"),V.prototype),yt(V.prototype,"textEditElement",[f.m],Object.getOwnPropertyDescriptor(V.prototype,"textEditElement"),V.prototype),yt(V.prototype,"selectElements",[f.m],Object.getOwnPropertyDescriptor(V.prototype,"selectElements"),V.prototype),yt(V.prototype,"selectNodes",[f.m],Object.getOwnPropertyDescriptor(V.prototype,"selectNodes"),V.prototype),yt(V.prototype,"setFakerNode",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"setFakerNode"),V.prototype),yt(V.prototype,"removeFakerNode",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"removeFakerNode"),V.prototype),yt(V.prototype,"setModel",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"setModel"),V.prototype),yt(V.prototype,"toFront",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"toFront"),V.prototype),yt(V.prototype,"setElementZIndex",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"setElementZIndex"),V.prototype),yt(V.prototype,"deleteNode",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"deleteNode"),V.prototype),yt(V.prototype,"addNode",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"addNode"),V.prototype),yt(V.prototype,"cloneNode",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"cloneNode"),V.prototype),yt(V.prototype,"moveNode",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"moveNode"),V.prototype),yt(V.prototype,"moveNode2Coordinate",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"moveNode2Coordinate"),V.prototype),yt(V.prototype,"editText",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"editText"),V.prototype),yt(V.prototype,"addEdge",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"addEdge"),V.prototype),yt(V.prototype,"moveEdge",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"moveEdge"),V.prototype),yt(V.prototype,"deleteEdgeBySourceAndTarget",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"deleteEdgeBySourceAndTarget"),V.prototype),yt(V.prototype,"deleteEdgeById",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"deleteEdgeById"),V.prototype),yt(V.prototype,"deleteEdgeBySource",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"deleteEdgeBySource"),V.prototype),yt(V.prototype,"deleteEdgeByTarget",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"deleteEdgeByTarget"),V.prototype),yt(V.prototype,"setElementStateById",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"setElementStateById"),V.prototype),yt(V.prototype,"updateText",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"updateText"),V.prototype),yt(V.prototype,"selectNodeById",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"selectNodeById"),V.prototype),yt(V.prototype,"selectEdgeById",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"selectEdgeById"),V.prototype),yt(V.prototype,"selectElementById",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"selectElementById"),V.prototype),yt(V.prototype,"clearSelectElements",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"clearSelectElements"),V.prototype),yt(V.prototype,"moveNodes",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"moveNodes"),V.prototype),yt(V.prototype,"setDefaultEdgeType",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"setDefaultEdgeType"),V.prototype),yt(V.prototype,"changeNodeType",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"changeNodeType"),V.prototype),yt(V.prototype,"changeEdgeType",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"changeEdgeType"),V.prototype),yt(V.prototype,"getNodeIncomingEdge",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"getNodeIncomingEdge"),V.prototype),yt(V.prototype,"getNodeOutgoingEdge",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"getNodeOutgoingEdge"),V.prototype),yt(V.prototype,"getNodeIncomingNode",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"getNodeIncomingNode"),V.prototype),yt(V.prototype,"getNodeOutgoingNode",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"getNodeOutgoingNode"),V.prototype),yt(V.prototype,"setTheme",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"setTheme"),V.prototype),yt(V.prototype,"resize",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"resize"),V.prototype),yt(V.prototype,"clearData",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"clearData"),V.prototype),yt(V.prototype,"translateCenter",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"translateCenter"),V.prototype),yt(V.prototype,"fitView",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"fitView"),V.prototype),yt(V.prototype,"openEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"openEdgeAnimation"),V.prototype),yt(V.prototype,"closeEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"closeEdgeAnimation"),V.prototype),V),zc=Pu;function gh(t){return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gh(t)}function bh(){return bh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bh.apply(this,arguments)}function qb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mh(t,e){return mh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},mh(t,e)}function Jb(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Jf(t);if(e){var i=Jf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Qb(this,n)}}function Qb(t,e){if(e&&(gh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vi(t)}function vi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jf(t){return Jf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Jf(t)}function Fi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var tv,em=Qo(Su=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&mh(o,c)})(i,t);var e,n,r=Jb(i);function i(o){var c;(function(w,A){if(!(w instanceof A))throw new TypeError("Cannot call a class as a function")})(this,i),Fi(vi(c=r.call(this)),"stepDrag",void 0),Fi(vi(c),"stepScrollX",0),Fi(vi(c),"stepScrollY",0),Fi(vi(c),"onDragging",function(w){var A=w.deltaX,D=w.deltaY;c.setState({isDragging:!0});var F=c.props.graphModel,Z=F.transformModel;F.editConfigModel.stopMoveGraph!==!0&&Z.translate(A,D)}),Fi(vi(c),"onDragEnd",function(){c.setState({isDragging:!1})}),Fi(vi(c),"zoomHandler",function(w){var A=c.props,D=A.graphModel,F=D.editConfigModel,Z=D.transformModel,te=D.gridSize,ye=A.graphModel,ge=w.deltaX,we=w.deltaY;if(F.stopScrollGraph||w.ctrlKey===!0){if(!F.stopZoomGraph){w.preventDefault();var Ce=ye.getPointByClient({x:w.clientX,y:w.clientY}).canvasOverlayPosition,$e=Ce.x,Je=Ce.y;Z.zoom(w.deltaY<0,[$e,Je])}}else{if(w.preventDefault(),c.stepScrollX+=ge,c.stepScrollY+=we,Math.abs(c.stepScrollX)>=te){var bt=c.stepScrollX%te,Ze=c.stepScrollX-bt;Z.translate(-Ze*Z.SCALE_X,0),c.stepScrollX=bt}if(Math.abs(c.stepScrollY)>=te){var ft=c.stepScrollY%te,et=c.stepScrollY-ft;Z.translate(0,-et*Z.SCALE_Y),c.stepScrollY=ft}}}),Fi(vi(c),"clickHandler",function(w){if(w.target.getAttribute("name")==="canvas-overlay"){var A=c.props.graphModel;A.selectElements.size>0&&A.clearSelectElements(),A.eventCenter.emit(lt.BLANK_CLICK,{e:w})}}),Fi(vi(c),"handleContextMenu",function(w){if(w.target.getAttribute("name")==="canvas-overlay"){w.preventDefault();var A=c.props.graphModel,D=A.getPointByClient({x:w.clientX,y:w.clientY});A.eventCenter.emit(lt.BLANK_CONTEXTMENU,{e:w,position:D})}}),Fi(vi(c),"mouseDownHandler",function(w){var A=c.props.graphModel,D=A.eventCenter,F=A.editConfigModel,Z=A.transformModel.SCALE_X,te=A.gridSize,ye=w.target,ge=!F.adjustEdge&&!F.adjustNodePosition;(ye.getAttribute("name")==="canvas-overlay"||ge)&&(F.stopMoveGraph!==!0?(c.stepDrag.setStep(te*Z),c.stepDrag.handleMouseDown(w)):D.emit(lt.BLANK_MOUSEDOWN,{e:w}),c.clickHandler(w))});var l=o.graphModel,p=l.gridSize,O=l.eventCenter;return c.stepDrag=new ao({onDragging:c.onDragging,onDragEnd:c.onDragEnd,step:p,eventType:"BLANK",isStopPropagation:!1,eventCenter:O,model:null}),c.state={isDragging:!1},c}return e=i,(n=[{key:"render",value:function(){var o=this.props.graphModel.transformModel.getTransformStyle().transform,c=this.props,l=c.children,p=c.dnd,O=this.state.isDragging;return Object(le.g)("svg",bh({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:O?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},p.eventMap()),Object(le.g)("g",{transform:o},l))}}])&&qb(e.prototype,n),i}(le.a))||Su;function Oh(t){return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oh(t)}function tm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _h(t,e){return _h=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},_h(t,e)}function rm(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Qf(t);if(e){var i=Qf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return om(this,n)}}function om(t,e){if(e&&(Oh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Qf(t){return Qf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Qf(t)}var im=Qo(tv=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&_h(o,c)})(i,t);var e,n,r=rm(i);function i(){return tm(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"componentDidMount",value:function(){this.triggerToolRender()}},{key:"componentDidUpdate",value:function(){this.triggerToolRender()}},{key:"getTools",value:function(){var o=this.props,c=o.tool,l=o.graphModel,p=c.getTools().map(function(O){return Object(le.g)(O,{graphModel:l,logicFlow:c.instance})});return c.components=p,p}},{key:"triggerToolRender",value:function(){var o=this.props,c=o.tool,l=o.graphModel,p=document.querySelector("#ToolOverlay_".concat(l.flowId)),O=c.getInstance();O.components.forEach(function(w){return w(O,p)}),O.components=[]}},{key:"render",value:function(){var o=this.props.graphModel;return Object(le.g)("div",{className:"lf-tool-overlay",id:"ToolOverlay_".concat(o.flowId)},this.getTools())}}])&&nm(e.prototype,n),i}(le.a))||tv;function wh(t){return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wh(t)}function am(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function um(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xh(t,e){return xh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},xh(t,e)}function cm(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ep(t);if(e){var i=ep(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return sm(this,n)}}function sm(t,e){if(e&&(wh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function ep(t){return ep=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ep(t)}var nv,lm=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&xh(o,c)})(i,t);var e,n,r=cm(i);function i(){return am(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){var o=this.props.background;return Object(le.g)("div",{className:"lf-background"},Object(le.g)("div",{style:o,className:"lf-background-area"}))}}])&&um(e.prototype,n),i}(le.a);function Eh(t){return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eh(t)}function fm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jh(t,e){return jh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},jh(t,e)}function hm(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=tp(t);if(e){var i=tp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dm(this,n)}}function dm(t,e){if(e&&(Eh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rv(t)}function rv(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tp(t){return tp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},tp(t)}function ym(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ov=Qo(nv=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&jh(o,c)})(i,t);var e,n,r=hm(i);function i(){var o;fm(this,i);for(var c=arguments.length,l=new Array(c),p=0;p<c;p++)l[p]=arguments[p];return ym(rv(o=r.call.apply(r,[this].concat(l))),"id",io()),o}return e=i,(n=[{key:"renderDot",value:function(){var o=this.props,c=o.config,l=c.color,p=c.thickness,O=p===void 0?2:p,w=o.size,A=o.visible,D=Math.min(Math.max(2,O),w/2),F=1;return A||(F=0),Object(le.g)("rect",{width:D,height:D,rx:D/2,ry:D/2,fill:l,opacity:F})}},{key:"renderMesh",value:function(){var o=this.props,c=o.config,l=c.color,p=c.thickness,O=p===void 0?1:p,w=o.size,A=o.visible,D=Math.min(Math.max(1,O),w/2),F="M ".concat(w," 0 H0 M0 0 V0 ").concat(w),Z=1;return A||(Z=0),Object(le.g)("path",{d:F,stroke:l,strokeWidth:D,opacity:Z})}},{key:"render",value:function(){var o=this.props,c=o.type,l=o.size,p=o.graphModel.transformModel,O=[p.SCALE_X,p.SKEW_Y,p.SKEW_X,p.SCALE_Y,p.TRANSLATE_X,p.TRANSLATE_Y].join(","),w="matrix(".concat(O,")");return Object(le.g)("div",{className:"lf-grid"},Object(le.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(le.g)("defs",null,Object(le.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:w,x:"0",y:"0",width:l,height:l},c==="dot"&&this.renderDot(),c==="mesh"&&this.renderMesh())),Object(le.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&pm(e.prototype,n),i}(le.a))||nv;ov.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},u(53);function Sh(t){return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sh(t)}function vm(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||function(n,r){if(n){if(typeof n=="string")return iv(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return iv(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function iv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var av,Bc=function(t){var e={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(t).forEach(function(n){var r=vm(n,2),i=r[0],o=r[1];(i==="style"||Sh(o)!=="object")&&(e[i]=o)}),Object(le.g)("line",e)};function Ph(t){return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(t)}function uv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function np(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uv(Object(n),!0).forEach(function(r){gm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ah(t,e){return Ah=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ah(t,e)}function Om(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=rp(t);if(e){var i=rp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _m(this,n)}}function _m(t,e){if(e&&(Ph(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function rp(t){return rp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},rp(t)}var cv,wm=Qo(av=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&Ah(o,c)})(i,t);var e,n,r=Om(i);function i(){return bm(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){var o=this.props.snaplineModel,c=o.position,l=o.isShowHorizontal,p=o.isShowVertical,O=o.getStyle(),w=c.x,A=w===void 0?0:w,D=c.y,F=D===void 0?0:D,Z=np(np({x1:-1e5,y1:F,x2:1e5,y2:F},O),{},{stroke:l?O.stroke:"none"}),te=np(np({x1:A,y1:-1e5,x2:A,y2:1e5},O),{},{stroke:p?O.stroke:"none"});return Object(le.g)("g",{className:"lf-snapline"},Object(le.g)(Bc,Z),Object(le.g)(Bc,te))}}])&&mm(e.prototype,n),i}(le.a))||av;function kh(t){return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(t)}function xm(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||function(n,r){if(n){if(typeof n=="string")return sv(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return sv(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function sv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Aa(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=t.className,c=t.radius,l=e-r/2,p=n-i/2,O={};return Object.entries(t).forEach(function(w){var A=xm(w,2),D=A[0],F=A[1];kh(F)!=="object"&&(O[D]=F)}),O.className=o?"lf-basic-shape ".concat(o):"lf-basic-shape",c&&(O.rx=c,O.ry=c),O.x=l,O.y=p,Object(le.g)("rect",O)}function Th(t){return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(t)}function Fc(){return Fc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fc.apply(this,arguments)}function lv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lv(Object(n),!0).forEach(function(r){Em(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Em(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dh(t,e){return Dh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Dh(t,e)}function Pm(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=op(t);if(e){var i=op(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Am(this,n)}}function Am(t,e){if(e&&(Th(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function op(t){return op=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},op(t)}Aa.defaultProps={className:"",radius:""};var pv,km=Qo(cv=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&Dh(o,c)})(i,t);var e,n,r=Pm(i);function i(){return jm(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getNodesOutline",value:function(){var o=this.props.graphModel,c=o.nodes,l=o.editConfigModel,p=l.hoverOutline,O=l.nodeSelectedOutline,w=[];return c.forEach(function(A){if(A.isHovered||A.isSelected){var D=A.isHovered,F=A.isSelected,Z=A.x,te=A.y,ye=A.width,ge=A.height;if(O&&F||p&&D){var we=A.getOutlineStyle(),Ce={};if(Object.keys(we).forEach(function(Je){Je!=="hover"&&(Ce[Je]=we[Je])}),D){var $e=we.hover;Ce=fv(fv({},Ce),$e)}w.push(Object(le.g)(Aa,Fc({transform:A.transform,className:"lf-outline-node",x:Z,y:te,width:ye+10,height:ge+10},Ce)))}}}),w}},{key:"getEdgeOutline",value:function(){for(var o=this.props.graphModel,c=o.edges,l=o.editConfigModel,p=l.edgeSelectedOutline,O=l.hoverOutline,w=[],A=0;A<c.length;A++){var D=c[A];(p&&D.isSelected||O&&D.isHovered)&&(D.modelType===Gt.LINE_EDGE?w.push(this.getLineOutline(D)):D.modelType===Gt.POLYLINE_EDGE?w.push(this.getPolylineOutline(D)):D.modelType===Gt.BEZIER_EDGE&&w.push(this.getBezierOutline(D)))}return w}},{key:"getLineOutline",value:function(o){var c=o.startPoint,l=o.endPoint,p=(c.x+l.x)/2,O=(c.y+l.y)/2,w=Math.abs(c.x-l.x)+10,A=Math.abs(c.y-l.y)+10,D=o.getOutlineStyle();return Object(le.g)(Aa,Fc({className:"lf-outline-edge",x:p,y:O,width:w,height:A},D))}},{key:"getPolylineOutline",value:function(o){var c=o.points,l=di(c),p=Ea(l,8),O=p.x,w=p.y,A=p.width,D=p.height,F=o.getOutlineStyle();return Object(le.g)(Aa,Fc({className:"lf-outline",x:O,y:w,width:A,height:D},F))}},{key:"getBezierOutline",value:function(o){var c=o.path,l=Tc(c),p=Ea(l,8),O=p.x,w=p.y,A=p.width,D=p.height,F=o.getOutlineStyle();return Object(le.g)(Aa,Fc({className:"lf-outline",x:O,y:w,width:A,height:D},F))}},{key:"render",value:function(){return Object(le.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}])&&Sm(e.prototype,n),i}(le.a))||cv;function Mh(t){return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mh(t)}function Tm(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||function(n,r){if(n){if(typeof n=="string")return hv(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return hv(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function hv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Uc(t){var e=t.x,n=e===void 0?0:e,r=t.y,i=r===void 0?0:r,o=t.r,c=o===void 0?4:o,l=t.className,p={cx:n,cy:i,r:c,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(O){var w=Tm(O,2),A=w[0],D=w[1];Mh(D)!=="object"&&(p[A]=D)}),p.className=l?"lf-basic-shape ".concat(l):"lf-basic-shape",Object(le.g)("circle",p)}function Nh(t){return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nh(t)}function Dm(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||function(n,r){if(n){if(typeof n=="string")return dv(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return dv(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function dv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pl(){return Pl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pl.apply(this,arguments)}function yv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gv(t,e,n){return e&&vv(t.prototype,e),n&&vv(t,n),t}function bv(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ch(t,e)}function Ch(t,e){return Ch=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ch(t,e)}function mv(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ap(t);if(e){var i=ap(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Mm(this,n)}}function Mm(t,e){if(e&&(Nh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ip(t)}function ip(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ap(t){return ap=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ap(t)}function Rh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ov,_v=function(t){bv(n,t);var e=mv(n);function n(){var r;return yv(this,n),Rh(ip(r=e.call(this)),"dragHandler",void 0),Rh(ip(r),"onDragging",function(i){var o=i.event,c=r.props,l=c.graphModel,p=c.bezierModel,O=c.type,w=l.getPointByClient({x:o.clientX,y:o.clientY}).canvasOverlayPosition,A=w.x,D=w.y;p.updateAdjustAnchor({x:A,y:D},O),l.eventCenter.emit(lt.EDGE_ADJUST,{data:p.getData()})}),Rh(ip(r),"onDragEnd",function(){r.props.bezierModel.isDragging=!1}),r.dragHandler=new ao({onDragging:r.onDragging,onDragEnd:r.onDragEnd}),r}return gv(n,[{key:"render",value:function(){var r=this,i=this.props.position,o=i.x,c=i.y,l=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object(le.g)(Uc,Pl({className:"lf-bezier-adjust-anchor",x:o,y:c},l,{onMouseDown:function(p){r.dragHandler.handleMouseDown(p)}}))}}]),n}(le.a),Nm=Qo(pv=function(t){bv(n,t);var e=mv(n);function n(){return yv(this,n),e.apply(this,arguments)}return gv(n,[{key:"getBezierAdjust",value:function(r,i){var o=r.path,c=r.id,l=Dm(Tc(o),4),p=l[0],O=l[1],w=l[2],A=l[3],D=r.getEdgeStyle().adjustLine,F=[];return F.push(Object(le.g)(Bc,Pl({x1:p.x,y1:p.y,x2:O.x,y2:O.y},D))),F.push(Object(le.g)(_v,{position:O,bezierModel:r,graphModel:i,key:"".concat(c,"_ePre"),type:"sNext"})),F.push(Object(le.g)(Bc,Pl({x1:A.x,y1:A.y,x2:w.x,y2:w.y},D))),F.push(Object(le.g)(_v,{position:w,bezierModel:r,graphModel:i,key:"".concat(c,"_sNext"),type:"ePre"})),F}},{key:"selectedBezierEdge",value:function(){for(var r=this.props.graphModel,i=r.edges,o=[],c=0;c<i.length;c++){var l=i[c];l.isSelected&&l.modelType===Gt.BEZIER_EDGE&&l.draggable&&o.push(this.getBezierAdjust(l,r))}return o}},{key:"render",value:function(){return Object(le.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(le.a))||pv;function Ih(t){return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ih(t)}function Cm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lh(t,e){return Lh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Lh(t,e)}function Im(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=up(t);if(e){var i=up(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Lm(this,n)}}function Lm(t,e){if(e&&(Ih(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function up(t){return up=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},up(t)}var wv,zm=Qo(Ov=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&Lh(o,c)})(i,t);var e,n,r=Im(i);function i(){return Cm(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){var o=this.props.graphModel.transformModel.getTransformStyle().transform,c=this.props.children;return Object(le.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(le.g)("g",{transform:o},c))}}])&&Rm(e.prototype,n),i}(le.a))||Ov;function zh(t){return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zh(t)}function Bh(){return Bh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bh.apply(this,arguments)}function Bm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fh(t,e){return Fh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Fh(t,e)}function Um(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=cp(t);if(e){var i=cp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Xm(this,n)}}function Xm(t,e){if(e&&(zh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function cp(t){return cp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},cp(t)}var Hm=Qo(wv=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&Fh(o,c)})(i,t);var e,n,r=Um(i);function i(){return Bm(this,i),r.apply(this,arguments)}return e=i,n=[{key:"getComponent",value:function(o,c){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",p=this.props.getView,O=p(o.type);return Object(le.g)(O,{key:o.id,model:o,graphModel:c,overlay:l})}},{key:"render",value:function(){var o=this,c=this.props,l=c.graphModel,p=c.tool,O=c.options,w=c.dnd,A=c.snaplineModel,D={};O.width&&(D.width="".concat(l.width,"px")),O.height&&(D.height="".concat(l.height,"px"));var F=O.grid,Z=l.fakerNode,te=l.editConfigModel.adjustEdge;return Object(le.g)("div",{className:"lf-graph","flow-id":l.flowId,style:D},Object(le.g)(em,{graphModel:l,dnd:w},Object(le.g)("g",{className:"lf-base"},Zu(l.sortElements,function(ye){return o.getComponent(ye,l)})),Z?this.getComponent(Z,l):""),Object(le.g)(zm,{graphModel:l},Object(le.g)(km,{graphModel:l}),te?Object(le.g)(Nm,{graphModel:l}):"",O.snapline!==!1?Object(le.g)(wm,{snaplineModel:A}):""),Object(le.g)(im,{graphModel:l,tool:p}),O.background&&Object(le.g)(lm,{background:O.background}),O.grid&&Object(le.g)(ov,Bh({},F,{graphModel:l})))}}],n&&Fm(e.prototype,n),i}(le.a))||wv,Gm=Hm;function xv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xv(Object(n),!0).forEach(function(r){Ui(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ym(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ui(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Wm=function(){function t(r){var i=this;(function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,t),Ui(this,"nodeConfig",void 0),Ui(this,"lf",void 0),Ui(this,"fakerNode",void 0),Ui(this,"stopDrag",function(){i.nodeConfig=null,window.document.removeEventListener("mouseup",i.stopDrag)}),Ui(this,"dragEnter",function(c){i.nodeConfig&&!i.fakerNode&&(i.fakerNode=i.lf.createFakerNode(sp(sp({},i.nodeConfig),i.clientToLocalPoint({x:c.clientX,y:c.clientY}))))}),Ui(this,"onDragOver",function(c){if(c.preventDefault(),i.fakerNode){var l=i.clientToLocalPoint({x:c.clientX,y:c.clientY}),p=l.x,O=l.y;i.fakerNode.moveTo(p,O);var w=i.fakerNode.getData();i.lf.setNodeSnapLine(w),i.lf.graphModel.eventCenter.emit(lt.NODE_DND_DRAG,{data:w})}return!1}),Ui(this,"onDragLeave",function(){i.fakerNode&&(i.lf.removeNodeSnapLine(),i.lf.graphModel.removeFakerNode(),i.fakerNode=null)}),Ui(this,"onDrop",function(c){i.lf.graphModel&&c&&i.nodeConfig&&(i.lf.addNode(sp(sp({},i.nodeConfig),i.clientToLocalPoint({x:c.clientX,y:c.clientY})),lt.NODE_DND_ADD,c),c.preventDefault(),c.stopPropagation(),i.nodeConfig=null,i.lf.removeNodeSnapLine(),i.lf.graphModel.removeFakerNode(),i.fakerNode=null)});var o=r.lf;this.lf=o}var e,n;return e=t,(n=[{key:"clientToLocalPoint",value:function(r){var i=r.x,o=r.y,c=nu(this.lf.options,["grid","size"]),l=this.lf.graphModel.getPointByClient({x:i,y:o}).canvasOverlayPosition,p=l.x,O=l.y;return{x:Po(p,c),y:Po(O,c)}}},{key:"startDrag",value:function(r){this.lf.options.isSilentMode||(this.nodeConfig=r,window.document.addEventListener("mouseup",this.stopDrag))}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&Ym(e.prototype,n),t}();function Ev(t){var e=t.container,n=t.grid,r=t.width,i=t.height;if(!e)throw new Error("请检查 container 参数是否有效");if(typeof r=="string"||typeof i=="string")throw new Error("width或height不支持传入字符串，请传数字");return n&&(t.grid=Jn({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),Jn({},Sv,t)}var ln,jv,Sv={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function Uh(t){return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uh(t)}function Xh(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Pv(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Pv(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Pv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Av(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Av(Object(n),!0).forEach(function(r){kv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Av(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vm(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function $m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Km(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Al(){return Al=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=Zm(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Al.apply(this,arguments)}function Zm(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=ka(t))!==null;);return t}function Hh(t,e){return Hh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Hh(t,e)}function qm(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ka(t);if(e){var i=ka(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Jm(this,n)}}function Jm(t,e){if(e&&(Uh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fp(t)}function fp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ka(t){return ka=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ka(t)}function kv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zo(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(c){o[c]=r[c]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(c,l){return l(t,e,c)||c},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Gh=(ln=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&Hh(o,c)})(i,t);var e,n,r=qm(i);function i(){var o;$m(this,i);for(var c=arguments.length,l=new Array(c),p=0;p<c;p++)l[p]=arguments[p];return kv(fp(o=r.call.apply(r,[this].concat(l))),"modelType",Gt.BEZIER_EDGE),Vm(fp(o),"path",jv,fp(o)),o}return e=i,(n=[{key:"initEdgeData",value:function(o){this.offset=100,Al(ka(i.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.bezier;return lp(lp({},Al(ka(i.prototype),"getEdgeStyle",this).call(this)),wn(o))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var o=0,c=0;return this.pointsList.forEach(function(l){var p=l.x,O=l.y;o+=p,c+=O}),{x:o/this.pointsList.length,y:c/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var o=Al(ka(i.prototype),"getData",this).call(this),c=this.pointsList.map(function(l){return{x:l.x,y:l.y}});return lp(lp({},o),{},{pointsList:c})}},{key:"getControls",value:function(){var o=this.startPoint,c=this.endPoint;return yi({start:o,end:c,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(o){var c=Xh(o,4),l=c[0],p=c[1],O=c[2],w=c[3];return"M ".concat(l.x," ").concat(l.y,`
    C `).concat(p.x," ").concat(p.y,`,
    `).concat(O.x," ").concat(O.y,`,
    `).concat(w.x," ").concat(w.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var o=this.getControls(),c=o.sNext,l=o.ePre;this.updatePath(c,l)}},{key:"updatePath",value:function(o,c){o=wn(o),c=wn(c);var l={x:this.startPoint.x,y:this.startPoint.y},p={x:this.endPoint.x,y:this.endPoint.y};if(!o||!c){var O=this.getControls();o=O.sNext,c=O.ePre}this.pointsList=[l,o,c,p],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,c){this.startPoint.x+=o,this.startPoint.y+=c;var l=Xh(this.pointsList,3),p=l[1],O=l[2];p.x+=o,p.y+=c,this.updatePath(p,O)}},{key:"moveEndPoint",value:function(o,c){this.endPoint.x+=o,this.endPoint.y+=c;var l=Xh(this.pointsList,3),p=l[1],O=l[2];O.x+=o,O.y+=c,this.updatePath(p,O)}},{key:"updateAdjustAnchor",value:function(o,c){c==="sNext"?this.pointsList[1]=o:c==="ePre"&&(this.pointsList[2]=o),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var c=o.startPoint,l=o.endPoint,p=o.sourceNode,O=o.targetNode,w=yi({start:c,end:l,sourceNode:p,targetNode:O,offset:this.offset}),A=w.sNext,D=w.ePre;this.pointsList=[c,A,D,l],this.initPoints()}}])&&Km(e.prototype,n),i}(Ws),jv=Zo(ln.prototype,"path",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Zo(ln.prototype,"initPoints",[f.k],Object.getOwnPropertyDescriptor(ln.prototype,"initPoints"),ln.prototype),Zo(ln.prototype,"updatePoints",[f.k],Object.getOwnPropertyDescriptor(ln.prototype,"updatePoints"),ln.prototype),Zo(ln.prototype,"updateStartPoint",[f.k],Object.getOwnPropertyDescriptor(ln.prototype,"updateStartPoint"),ln.prototype),Zo(ln.prototype,"updateEndPoint",[f.k],Object.getOwnPropertyDescriptor(ln.prototype,"updateEndPoint"),ln.prototype),Zo(ln.prototype,"moveStartPoint",[f.k],Object.getOwnPropertyDescriptor(ln.prototype,"moveStartPoint"),ln.prototype),Zo(ln.prototype,"moveEndPoint",[f.k],Object.getOwnPropertyDescriptor(ln.prototype,"moveEndPoint"),ln.prototype),Zo(ln.prototype,"updateAdjustAnchor",[f.k],Object.getOwnPropertyDescriptor(ln.prototype,"updateAdjustAnchor"),ln.prototype),Zo(ln.prototype,"getAdjustStart",[f.k],Object.getOwnPropertyDescriptor(ln.prototype,"getAdjustStart"),ln.prototype),Zo(ln.prototype,"getAdjustEnd",[f.k],Object.getOwnPropertyDescriptor(ln.prototype,"getAdjustEnd"),ln.prototype),Zo(ln.prototype,"updateAfterAdjustStartAndEnd",[f.k],Object.getOwnPropertyDescriptor(ln.prototype,"updateAfterAdjustStartAndEnd"),ln.prototype),ln),Ge,Tv,Dv,Mv,Nv,Cv,Rv,Iv,Lv,zv,Bv,Fv,Uv,Xv,Hv,Gv,Yv,Wv,Vv,$v,Kv,Zv,qv,Qm=function(t){return t==null};function e0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||Jv(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Yh(t){return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yh(t)}function Jv(t,e){if(t){if(typeof t=="string")return Qv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qv(t,e):void 0}}function Qv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eg(Object(n),!0).forEach(function(r){qr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kn(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function t0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xt(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(c){o[c]=r[c]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(c,l){return l(t,e,c)||c},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Xi,tg,Hi=(Ge=function(){function t(r,i){(function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),qr(this,"id",""),Kn(this,"type",Tv,this),Kn(this,"x",Dv,this),Kn(this,"y",Mv,this),Kn(this,"text",Nv,this),Kn(this,"properties",Cv,this),Kn(this,"_width",Rv,this),Kn(this,"_height",Iv,this),Kn(this,"anchorsOffset",Lv,this),Kn(this,"isSelected",zv,this),Kn(this,"isHovered",Bv,this),Kn(this,"isShowAnchor",Fv,this),Kn(this,"isDragging",Uv,this),Kn(this,"isHitable",Xv,this),Kn(this,"draggable",Hv,this),Kn(this,"visible",Gv,this),Kn(this,"enableRotate",Yv,this),qr(this,"virtual",!1),qr(this,"graphModel",void 0),Kn(this,"zIndex",Wv,this),Kn(this,"state",Vv,this),Kn(this,"autoToFront",$v,this),Kn(this,"style",Kv,this),Kn(this,"transform",Zv,this),Kn(this,"_rotate",qv,this),qr(this,"BaseType",Fn.NODE),qr(this,"modelType",Gt.NODE),qr(this,"additionStateData",void 0),qr(this,"targetRules",[]),qr(this,"sourceRules",[]),qr(this,"moveRules",[]),qr(this,"hasSetTargetRules",!1),qr(this,"hasSetSourceRules",!1),this.graphModel=i,this.initNodeData(r),this.setAttributes()}var e,n;return e=t,n=[{key:"width",get:function(){return this._width},set:function(r){this._width=r}},{key:"height",get:function(){return this._height},set:function(r){this._height=r}},{key:"rotate",get:function(){return this._rotate},set:function(r){this._rotate=r;var i=this.x,o=i===void 0?0:i,c=this.y,l=c===void 0?0:c;this.transform=new ur(-o,-l).rotate(r).translate(o,l).toString()}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var i=this.graphModel.idGenerator,o=i&&i(r.type),c=this.createId();r.id=c||o||io()}this.formatText(r),Jn(this,function(l){return zo(l,["id","type","x","y","text","properties","virtual","rotate"])}(r)),this.graphModel.overlapMode===Pn.INCREASE&&(this.zIndex=r.zIndex||Gs())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(r){r.text||(r.text={value:"",x:r.x,y:r.y,draggable:!1,editable:!0}),r.text&&typeof r.text=="string"?r.text={value:r.text,x:r.x,y:r.y,draggable:!1,editable:!0}:r.text&&r.text.editable===void 0&&(r.text.editable=!0)}},{key:"getData",value:function(){var r=this.text,i=r.x,o=r.y,c=r.value,l=this.properties;Object(f.x)(l)&&(l=Object(f.I)(l));var p={id:this.id,type:this.type,x:this.x,y:this.y,properties:l};return this.rotate&&(p.rotate=this.rotate),this.graphModel.overlapMode===Pn.INCREASE&&(p.zIndex=this.zIndex),c&&(p.text={x:i,y:o,value:c}),p}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(f.I)(this.properties)}},{key:"getOuterGAttributes",value:function(){return{className:""}}},{key:"getNodeStyle",value:function(){return Gr(Gr({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.nodeText;return wn(r)}},{key:"getRotateControlStyle",value:function(){var r=this.graphModel.theme.rotateControl;return wn(r)}},{key:"getAnchorStyle",value:function(r){var i=this.graphModel.theme.anchor;return wn(i)}},{key:"getAnchorLineStyle",value:function(r){var i=this.graphModel.theme.anchorLine;return wn(i)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return wn(r)}},{key:"isAllowConnectedAsSource",value:function(r,i,o,c){var l=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var p,O=!0,w=0;w<l.length;w++){var A=l[w];if(!A.validate.call(this,this,r,i,o,c)){O=!1,p=A.message;break}}return{isAllPass:O,msg:p}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(r,i,o,c){var l=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var p,O=!0,w=0;w<l.length;w++){var A=l[w];if(!A.validate.call(this,r,this,i,o,c)){O=!1,p=A.message;break}}return{isAllPass:O,msg:p}}},{key:"isAllowMoveNode",value:function(r,i){var o,c=!0,l=!0,p=function(A,D){var F=typeof Symbol<"u"&&A[Symbol.iterator]||A["@@iterator"];if(!F){if(Array.isArray(A)||(F=Jv(A))||D&&A&&typeof A.length=="number"){F&&(A=F);var Z=0,te=function(){};return{s:te,n:function(){return Z>=A.length?{done:!0}:{done:!1,value:A[Z++]}},e:function(Ce){throw Ce},f:te}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ye,ge=!0,we=!1;return{s:function(){F=F.call(A)},n:function(){var Ce=F.next();return ge=Ce.done,Ce},e:function(Ce){we=!0,ye=Ce},f:function(){try{ge||F.return==null||F.return()}finally{if(we)throw ye}}}}(this.moveRules.concat(this.graphModel.nodeMoveRules));try{for(p.s();!(o=p.n()).done;){var O=(0,o.value)(this,r,i);if(!O)return!1;if(Yh(O)==="object"){var w=O;if(w.x===!1&&w.y===!1)return!1;c=c&&w.x,l=l&&w.y}}}catch(A){p.e(A)}finally{p.f()}return{x:c,y:l}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var r=this.anchorsOffset,i=this.id,o=this.x,c=this.y;return r&&r.length>0?r.map(function(l,p){return l.length?(l=l,{id:"".concat(i,"_").concat(p),x:o+l[0],y:c+l[1]}):Gr(Gr({},l=l),{},{x:o+l.x,y:c+l.y,id:l.id||"".concat(i,"_").concat(p)})}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getTargetAnchor",value:function(r){return function(i,o){for(var c,l=xc(o),p=Number.MAX_SAFE_INTEGER,O=0;O<l.length;O++){var w=Yn(i.x,i.y,l[O].x,l[O].y);w<p&&(p=w,c={index:O,anchor:pi(pi({},l[O]),{},{x:l[O].x,y:l[O].y,id:l[O].id})})}return c}(r,this)}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){var r=this.getAnchorsByOffset(),i=this.x,o=this.y,c=this.rotate;return r.forEach(function(l){var p=l.x,O=l.y,w=e0(new dt([p,O,1]).translate(-i,-o).rotate(c).translate(i,o)[0],2),A=w[0],D=w[1];l.x=A,l.y=D}),r}},{key:"getAnchorInfo",value:function(r){if(!Qm(r))for(var i=0;i<this.anchors.length;i++){var o=this.anchors[i];if(o.id===r)return o}}},{key:"addNodeMoveRules",value:function(r){this.moveRules.includes(r)||this.moveRules.push(r)}},{key:"move",value:function(r,i){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],c=!1,l=!1;if(o)c=!0,l=!0;else{var p=this.isAllowMoveNode(r,i);typeof p=="boolean"?(c=p,l=p):(c=p.x,l=p.y)}if(c){var O=this.x+r;this.x=O,this.text&&this.moveText(r,0)}if(l){var w=this.y+i;this.y=w,this.text&&this.moveText(0,i)}return c||l}},{key:"getMoveDistance",value:function(r,i){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],c=!1,l=!1,p=0,O=0;if(o)c=!0,l=!0;else{var w=this.isAllowMoveNode(r,i);typeof w=="boolean"?(c=w,l=w):(c=w.x,l=w.y)}if(c&&r){var A=this.x+r;this.x=A,this.text&&this.moveText(r,0),p=r}if(l&&i){var D=this.y+i;this.y=D,this.text&&this.moveText(0,i),O=i}return[p,O]}},{key:"moveTo",value:function(r,i){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],c=r-this.x,l=i-this.y;return!(!o&&!this.isAllowMoveNode(c,l)||(this.text&&this.text&&this.moveText(c,l),this.x=r,this.y=i,0))}},{key:"moveText",value:function(r,i){var o=this.text,c=o.x,l=o.y,p=o.value,O=o.draggable,w=o.editable;this.text={value:p,editable:w,draggable:O,x:c+r,y:l+i}}},{key:"updateText",value:function(r){this.text=Gr(Gr({},Object(f.I)(this.text)),{},{value:r})}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r,this.setIsShowAnchor(r)}},{key:"setIsShowAnchor",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isShowAnchor=r}},{key:"setEnableRotate",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.enableRotate=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,i){this.state=r,this.additionStateData=i}},{key:"setProperty",value:function(r,i){this.properties=Gr(Gr({},Object(f.I)(this.properties)),{},qr({},r,bn(i))),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=Gr(Gr({},Object(f.I)(this.properties)),bn(r)),this.setAttributes()}},{key:"deleteProperty",value:function(r){delete this.properties[r],this.setAttributes()}},{key:"setStyle",value:function(r,i){this.style=Gr(Gr({},this.style),{},qr({},r,bn(i)))}},{key:"setStyles",value:function(r){this.style=Gr(Gr({},this.style),bn(r))}},{key:"updateStyles",value:function(r){this.style=Gr({},bn(r))}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=r}},{key:"updateAttributes",value:function(r){Jn(this,r)}}],n&&t0(e.prototype,n),t}(),Tv=Xt(Ge.prototype,"type",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Dv=Xt(Ge.prototype,"x",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Mv=Xt(Ge.prototype,"y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Nv=Xt(Ge.prototype,"text",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Cv=Xt(Ge.prototype,"properties",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Rv=Xt(Ge.prototype,"_width",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),Iv=Xt(Ge.prototype,"_height",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),Lv=Xt(Ge.prototype,"anchorsOffset",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),zv=Xt(Ge.prototype,"isSelected",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Bv=Xt(Ge.prototype,"isHovered",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Fv=Xt(Ge.prototype,"isShowAnchor",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Uv=Xt(Ge.prototype,"isDragging",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Xv=Xt(Ge.prototype,"isHitable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Hv=Xt(Ge.prototype,"draggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Gv=Xt(Ge.prototype,"visible",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Yv=Xt(Ge.prototype,"enableRotate",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Wv=Xt(Ge.prototype,"zIndex",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Vv=Xt(Ge.prototype,"state",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),$v=Xt(Ge.prototype,"autoToFront",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Kv=Xt(Ge.prototype,"style",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Zv=Xt(Ge.prototype,"transform",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qv=Xt(Ge.prototype,"_rotate",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Xt(Ge.prototype,"incoming",[f.m],Object.getOwnPropertyDescriptor(Ge.prototype,"incoming"),Ge.prototype),Xt(Ge.prototype,"outgoing",[f.m],Object.getOwnPropertyDescriptor(Ge.prototype,"outgoing"),Ge.prototype),Xt(Ge.prototype,"addNodeMoveRules",[f.k],Object.getOwnPropertyDescriptor(Ge.prototype,"addNodeMoveRules"),Ge.prototype),Xt(Ge.prototype,"move",[f.k],Object.getOwnPropertyDescriptor(Ge.prototype,"move"),Ge.prototype),Xt(Ge.prototype,"getMoveDistance",[f.k],Object.getOwnPropertyDescriptor(Ge.prototype,"getMoveDistance"),Ge.prototype),Xt(Ge.prototype,"moveTo",[f.k],Object.getOwnPropertyDescriptor(Ge.prototype,"moveTo"),Ge.prototype),Xt(Ge.prototype,"moveText",[f.k],Object.getOwnPropertyDescriptor(Ge.prototype,"moveText"),Ge.prototype),Xt(Ge.prototype,"updateText",[f.k],Object.getOwnPropertyDescriptor(Ge.prototype,"updateText"),Ge.prototype),Xt(Ge.prototype,"setSelected",[f.k],Object.getOwnPropertyDescriptor(Ge.prototype,"setSelected"),Ge.prototype),Xt(Ge.prototype,"setHovered",[f.k],Object.getOwnPropertyDescriptor(Ge.prototype,"setHovered"),Ge.prototype),Xt(Ge.prototype,"setIsShowAnchor",[f.k],Object.getOwnPropertyDescriptor(Ge.prototype,"setIsShowAnchor"),Ge.prototype),Xt(Ge.prototype,"setEnableRotate",[f.k],Object.getOwnPropertyDescriptor(Ge.prototype,"setEnableRotate"),Ge.prototype),Xt(Ge.prototype,"setHitable",[f.k],Object.getOwnPropertyDescriptor(Ge.prototype,"setHitable"),Ge.prototype),Xt(Ge.prototype,"setElementState",[f.k],Object.getOwnPropertyDescriptor(Ge.prototype,"setElementState"),Ge.prototype),Xt(Ge.prototype,"setProperty",[f.k],Object.getOwnPropertyDescriptor(Ge.prototype,"setProperty"),Ge.prototype),Xt(Ge.prototype,"setProperties",[f.k],Object.getOwnPropertyDescriptor(Ge.prototype,"setProperties"),Ge.prototype),Xt(Ge.prototype,"deleteProperty",[f.k],Object.getOwnPropertyDescriptor(Ge.prototype,"deleteProperty"),Ge.prototype),Xt(Ge.prototype,"setStyle",[f.k],Object.getOwnPropertyDescriptor(Ge.prototype,"setStyle"),Ge.prototype),Xt(Ge.prototype,"setStyles",[f.k],Object.getOwnPropertyDescriptor(Ge.prototype,"setStyles"),Ge.prototype),Xt(Ge.prototype,"updateStyles",[f.k],Object.getOwnPropertyDescriptor(Ge.prototype,"updateStyles"),Ge.prototype),Xt(Ge.prototype,"setZIndex",[f.k],Object.getOwnPropertyDescriptor(Ge.prototype,"setZIndex"),Ge.prototype),Xt(Ge.prototype,"updateAttributes",[f.k],Object.getOwnPropertyDescriptor(Ge.prototype,"updateAttributes"),Ge.prototype),Ge);function Wh(t){return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wh(t)}function ng(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ng(Object(n),!0).forEach(function(r){og(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ng(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function n0(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function r0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vh(){return Vh=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=i0(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Vh.apply(this,arguments)}function i0(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Xc(t))!==null;);return t}function $h(t,e){return $h=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},$h(t,e)}function a0(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Xc(t);if(e){var i=Xc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u0(this,n)}}function u0(t,e){if(e&&(Wh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pp(t)}function pp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xc(t){return Xc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Xc(t)}function og(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kh(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(c){o[c]=r[c]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(c,l){return l(t,e,c)||c},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Cr,ig,ag,Zh=(Xi=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&$h(o,c)})(i,t);var e,n,r=a0(i);function i(){var o;r0(this,i);for(var c=arguments.length,l=new Array(c),p=0;p<c;p++)l[p]=arguments[p];return og(pp(o=r.call.apply(r,[this].concat(l))),"modelType",Gt.CIRCLE_NODE),n0(pp(o),"r",tg,pp(o)),o}return e=i,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var o=Vh(Xc(i.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.circle;return rg(rg({},o),wn(c))}},{key:"getDefaultAnchor",value:function(){var o=this.x,c=this.y,l=this.r;return[{x:o,y:c-l,id:"".concat(this.id,"_0")},{x:o+l,y:c,id:"".concat(this.id,"_1")},{x:o,y:c+l,id:"".concat(this.id,"_2")},{x:o-l,y:c,id:"".concat(this.id,"_3")}]}}])&&o0(e.prototype,n),i}(Hi),tg=Kh(Xi.prototype,"r",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Kh(Xi.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(Xi.prototype,"width"),Xi.prototype),Kh(Xi.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(Xi.prototype,"height"),Xi.prototype),Xi);u(129);function qh(t){return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qh(t)}function Jh(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||function(n,r){if(n){if(typeof n=="string")return ug(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ug(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ug(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cg(Object(n),!0).forEach(function(r){fg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lg(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function c0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qh(){return Qh=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=l0(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Qh.apply(this,arguments)}function l0(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Gc(t))!==null;);return t}function ed(t,e){return ed=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ed(t,e)}function f0(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Gc(t);if(e){var i=Gc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p0(this,n)}}function p0(t,e){if(e&&(qh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hc(t)}function Hc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gc(t){return Gc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Gc(t)}function fg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yc(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(c){o[c]=r[c]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(c,l){return l(t,e,c)||c},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var gi,pg,hg,td=(Cr=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&ed(o,c)})(i,t);var e,n,r=f0(i);function i(){var o;c0(this,i);for(var c=arguments.length,l=new Array(c),p=0;p<c;p++)l[p]=arguments[p];return fg(Hc(o=r.call.apply(r,[this].concat(l))),"modelType",Gt.DIAMOND_NODE),lg(Hc(o),"rx",ig,Hc(o)),lg(Hc(o),"ry",ag,Hc(o)),o}return e=i,(n=[{key:"getNodeStyle",value:function(){var o=Qh(Gc(i.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.diamond;return sg(sg({},o),wn(c))}},{key:"points",get:function(){var o=this.x,c=this.y,l=this.rx,p=this.ry;return[[o,c-p],[o+l,c],[o,c+p],[o-l,c]]}},{key:"pointsPosition",get:function(){return this.points.map(function(o){return{x:o[0],y:o[1]}})}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var p=Jh(l,1)[0];p<o&&(o=p),p>c&&(c=p)}),c-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var p=Jh(l,2)[1];p<o&&(o=p),p>c&&(c=p)}),c-o}},{key:"getDefaultAnchor",value:function(){var o=this;return this.points.map(function(c,l){var p=Jh(c,2);return{x:p[0],y:p[1],id:"".concat(o.id,"_").concat(l)}})}}])&&s0(e.prototype,n),i}(Hi),ig=Yc(Cr.prototype,"rx",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),ag=Yc(Cr.prototype,"ry",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Yc(Cr.prototype,"points",[f.m],Object.getOwnPropertyDescriptor(Cr.prototype,"points"),Cr.prototype),Yc(Cr.prototype,"pointsPosition",[f.m],Object.getOwnPropertyDescriptor(Cr.prototype,"pointsPosition"),Cr.prototype),Yc(Cr.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(Cr.prototype,"width"),Cr.prototype),Yc(Cr.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(Cr.prototype,"height"),Cr.prototype),Cr);function nd(t){return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(t)}function dg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dg(Object(n),!0).forEach(function(r){gg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vg(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function h0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rd(){return rd=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=y0(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},rd.apply(this,arguments)}function y0(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Vc(t))!==null;);return t}function od(t,e){return od=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},od(t,e)}function v0(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Vc(t);if(e){var i=Vc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g0(this,n)}}function g0(t,e){if(e&&(nd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wc(t)}function Wc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vc(t){return Vc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Vc(t)}function gg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hp(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(c){o[c]=r[c]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(c,l){return l(t,e,c)||c},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Mo,bg,id=(gi=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&od(o,c)})(i,t);var e,n,r=v0(i);function i(){var o;h0(this,i);for(var c=arguments.length,l=new Array(c),p=0;p<c;p++)l[p]=arguments[p];return gg(Wc(o=r.call.apply(r,[this].concat(l))),"modelType",Gt.ELLIPSE_NODE),vg(Wc(o),"rx",pg,Wc(o)),vg(Wc(o),"ry",hg,Wc(o)),o}return e=i,(n=[{key:"getNodeStyle",value:function(){var o=rd(Vc(i.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.ellipse;return yg(yg({},o),wn(c))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var o=this.x,c=this.y,l=this.rx,p=this.ry;return[{x:o,y:c-p,id:"".concat(this.id,"_0")},{x:o+l,y:c,id:"".concat(this.id,"_1")},{x:o,y:c+p,id:"".concat(this.id,"_2")},{x:o-l,y:c,id:"".concat(this.id,"_3")}]}}])&&d0(e.prototype,n),i}(Hi),pg=hp(gi.prototype,"rx",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),hg=hp(gi.prototype,"ry",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),hp(gi.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(gi.prototype,"width"),gi.prototype),hp(gi.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(gi.prototype,"height"),gi.prototype),gi);function ad(t){return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}function ud(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||function(n,r){if(n){if(typeof n=="string")return mg(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return mg(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function mg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Og(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _g(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Og(Object(n),!0).forEach(function(r){wg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Og(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function b0(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function m0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cd(){return cd=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=_0(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},cd.apply(this,arguments)}function _0(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=$c(t))!==null;);return t}function sd(t,e){return sd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},sd(t,e)}function w0(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=$c(t);if(e){var i=$c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return x0(this,n)}}function x0(t,e){if(e&&(ad(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dp(t)}function dp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $c(t){return $c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$c(t)}function wg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yp(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(c){o[c]=r[c]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(c,l){return l(t,e,c)||c},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var ld,xg,fd=(Mo=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&sd(o,c)})(i,t);var e,n,r=w0(i);function i(){var o;m0(this,i);for(var c=arguments.length,l=new Array(c),p=0;p<c;p++)l[p]=arguments[p];return wg(dp(o=r.call.apply(r,[this].concat(l))),"modelType",Gt.POLYGON_NODE),b0(dp(o),"points",bg,dp(o)),o}return e=i,(n=[{key:"getNodeStyle",value:function(){var o=cd($c(i.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.polygon;return _g(_g({},o),wn(c))}},{key:"pointsPosition",get:function(){var o=this.x,c=this.y,l=this.width,p=this.height;return this.points.map(function(O){return{x:O[0]+o-l/2,y:O[1]+c-p/2}})}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var p=ud(l,1)[0];p<o&&(o=p),p>c&&(c=p)}),c-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var p=ud(l,2)[1];p<o&&(o=p),p>c&&(c=p)}),c-o}},{key:"getDefaultAnchor",value:function(){var o=this,c=this.x,l=this.y,p=this.width,O=this.height;return this.points.map(function(w,A){var D=ud(w,2),F=D[0],Z=D[1];return{x:c+F-p/2,y:l+Z-O/2,id:"".concat(o.id,"_").concat(A)}})}}])&&O0(e.prototype,n),i}(Hi),bg=yp(Mo.prototype,"points",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),yp(Mo.prototype,"pointsPosition",[f.m],Object.getOwnPropertyDescriptor(Mo.prototype,"pointsPosition"),Mo.prototype),yp(Mo.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(Mo.prototype,"width"),Mo.prototype),yp(Mo.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(Mo.prototype,"height"),Mo.prototype),Mo);function pd(t){return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(t)}function Eg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Eg(Object(n),!0).forEach(function(r){Sg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Eg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E0(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function j0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hd(){return hd=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=P0(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},hd.apply(this,arguments)}function P0(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Kc(t))!==null;);return t}function dd(t,e){return dd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},dd(t,e)}function A0(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Kc(t);if(e){var i=Kc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return k0(this,n)}}function k0(t,e){if(e&&(pd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vp(t)}function vp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kc(t){return Kc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Kc(t)}function Sg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ta,yd=(ld=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&dd(o,c)})(i,t);var e,n,r=A0(i);function i(){var o;j0(this,i);for(var c=arguments.length,l=new Array(c),p=0;p<c;p++)l[p]=arguments[p];return Sg(vp(o=r.call.apply(r,[this].concat(l))),"modelType",Gt.RECT_NODE),E0(vp(o),"radius",xg,vp(o)),o}return e=i,(n=[{key:"getDefaultAnchor",value:function(){var o=this.x,c=this.y,l=this.width,p=this.height;return[{x:o,y:c-p/2,id:"".concat(this.id,"_0")},{x:o+l/2,y:c,id:"".concat(this.id,"_1")},{x:o,y:c+p/2,id:"".concat(this.id,"_2")},{x:o-l/2,y:c,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var o=hd(Kc(i.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.rect;return jg(jg({},o),wn(c))}}])&&S0(e.prototype,n),i}(Hi),xg=function(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(c){o[c]=r[c]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(c,l){return l(t,e,c)||c},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}(ld.prototype,"radius",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ld);function vd(t){return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}function Pg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ag(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pg(Object(n),!0).forEach(function(r){Tg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gd(){return gd=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=M0(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},gd.apply(this,arguments)}function M0(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Zc(t))!==null;);return t}function bd(t,e){return bd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},bd(t,e)}function N0(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Zc(t);if(e){var i=Zc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return C0(this,n)}}function C0(t,e){if(e&&(vd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kg(t)}function kg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zc(t){return Zc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Zc(t)}function Tg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dg(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(c){o[c]=r[c]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(c,l){return l(t,e,c)||c},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var md=(Ta=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&bd(o,c)})(i,t);var e,n,r=N0(i);function i(){var o;T0(this,i);for(var c=arguments.length,l=new Array(c),p=0;p<c;p++)l[p]=arguments[p];return Tg(kg(o=r.call.apply(r,[this].concat(l))),"modelType",Gt.TEXT_NODE),o}return e=i,(n=[{key:"getTextStyle",value:function(){var o=gd(Zc(i.prototype),"getTextStyle",this).call(this),c=this.graphModel.theme.text;return Ag(Ag({},o),wn(c))}},{key:"width",get:function(){var o=String(this.text.value).split(/[\r\n]/g),c=this.getTextStyle().fontSize;return Hs({rows:o,fontSize:c,rowsLength:o.length}).width}},{key:"height",get:function(){var o=String(this.text.value).split(/[\r\n]/g),c=this.getTextStyle().fontSize;return Hs({rows:o,fontSize:c,rowsLength:o.length}).height}}])&&D0(e.prototype,n),i}(Hi),Dg(Ta.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(Ta.prototype,"width"),Ta.prototype),Dg(Ta.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(Ta.prototype,"height"),Ta.prototype),Ta);function Od(t){return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Od(t)}function R0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _d(t,e){return _d=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},_d(t,e)}function L0(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=gp(t);if(e){var i=gp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return z0(this,n)}}function z0(t,e){if(e&&(Od(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mg(t)}function Mg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gp(t){return gp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},gp(t)}function B0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var qo,Ng,Cg,Rg,wd=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&_d(o,c)})(i,t);var e,n,r=L0(i);function i(){var o;R0(this,i);for(var c=arguments.length,l=new Array(c),p=0;p<c;p++)l[p]=arguments[p];return B0(Mg(o=r.call.apply(r,[this].concat(l))),"modelType",Gt.HTML_NODE),o}return e=i,(n=[{key:"getDefaultAnchor",value:function(){var o=this.x,c=this.y,l=this.width,p=this.height;return[{x:o,y:c-p/2,id:"".concat(this.id,"_0")},{x:o+l/2,y:c,id:"".concat(this.id,"_1")},{x:o,y:c+p/2,id:"".concat(this.id,"_2")},{x:o-l/2,y:c,id:"".concat(this.id,"_3")}]}}])&&I0(e.prototype,n),i}(Hi);function Ig(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xd(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function F0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kl(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(c){o[c]=r[c]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(c,l){return l(t,e,c)||c},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var zg=(qo=function(){function t(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,t),Lg(this,"graphModel",void 0),xd(this,"isShowHorizontal",Ng,this),xd(this,"isShowVertical",Cg,this),xd(this,"position",Rg,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}var e,n;return e=t,n=[{key:"getStyle",value:function(){return function(r){for(var i=1;i<arguments.length;i++){var o=arguments[i]!=null?arguments[i]:{};i%2?Ig(Object(o),!0).forEach(function(c){Lg(r,c,o[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):Ig(Object(o)).forEach(function(c){Object.defineProperty(r,c,Object.getOwnPropertyDescriptor(o,c))})}return r}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(r,i){for(var o=r.x,c=r.y,l=!1,p=!1,O=0;O<i.length;O++){var w=i[O];if(w.id!==r.id&&(o===w.x&&(l=!0),c===w.y&&(p=!0),l&&p))break}return{isShowVertical:l,isShowHorizontal:p,position:{x:o,y:c}}}},{key:"getHorizontalSnapline",value:function(r,i){var o,c,l=!1,p=r.id;if(p){var O=this.graphModel.fakerNode;if(O&&O.id===p)c=Ur(O);else{var w=this.graphModel.getNodeModelById(p);c=Ur(w)}}for(var A=0;A<i.length;A++){var D=i[A];if(D.id!==r.id){var F=Ur(D);if(F.minY===c.minY||F.maxY===c.minY){l=!0,o=c.minY;break}if(F.minY===c.maxY||F.maxY===c.maxY){l=!0,o=c.maxY;break}}}return Jn({isShowHorizontal:l,position:{y:o}})}},{key:"getVerticalSnapline",value:function(r,i){var o,c,l=!1,p=r.id;if(p){var O=this.graphModel.fakerNode;if(O&&O.id===p)c=Ur(O);else{var w=this.graphModel.getNodeModelById(p);c=Ur(w)}}for(var A=0;A<i.length;A++){var D=i[A];if(D.id!==r.id){var F=Ur(D);if(F.minX===c.minX||F.maxX===c.minX){l=!0,o=c.minX;break}if(F.minX===c.maxX||F.maxX===c.maxX){l=!0,o=c.maxX;break}}}return Jn({isShowVertical:l,position:{x:o}})}},{key:"getSnapLinePosition",value:function(r,i){var o=this.getCenterSnapLine(r,i),c=o.isShowHorizontal,l=o.isShowVertical;if(!c){var p=this.getHorizontalSnapline(r,i);p.isShowHorizontal&&(o.isShowHorizontal=p.isShowHorizontal,o.position.y=p.position.y)}if(!l){var O=this.getVerticalSnapline(r,i);O.isShowVertical&&(o.isShowVertical=O.isShowVertical,o.position.x=O.position.x)}return o}},{key:"setSnaplineInfo",value:function(r){var i=r.isShowHorizontal,o=r.isShowVertical,c=r.position;this.position=c,this.isShowHorizontal=i,this.isShowVertical=o}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(r){var i=this.graphModel.nodes,o=this.getSnapLinePosition(r,i);this.setSnaplineInfo(o)}}],n&&F0(e.prototype,n),t}(),Ng=kl(qo.prototype,"isShowHorizontal",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cg=kl(qo.prototype,"isShowVertical",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rg=kl(qo.prototype,"position",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kl(qo.prototype,"clearSnapline",[f.k],Object.getOwnPropertyDescriptor(qo.prototype,"clearSnapline"),qo.prototype),kl(qo.prototype,"setNodeSnapLine",[f.k],Object.getOwnPropertyDescriptor(qo.prototype,"setNodeSnapLine"),qo.prototype),qo),Tl=new Map,Bg=function(t){var e=io(),n=window.requestAnimationFrame(function r(){if(t(),Tl.get(e)){var i=window.requestAnimationFrame(r);Tl.set(e,i)}});return Tl.set(e,n),e},bp=function(t){var e=Tl.get(t);e&&(window.cancelAnimationFrame(e),Tl.delete(t))};function Ed(t){return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ed(t)}function Dl(){return Dl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dl.apply(this,arguments)}function Fg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ml(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fg(Object(n),!0).forEach(function(r){mi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Ug(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Ug(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ug(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function X0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jd(t,e){return jd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},jd(t,e)}function H0(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=mp(t);if(e){var i=mp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return G0(this,n)}}function G0(t,e){if(e&&(Ed(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bi(t)}function bi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mp(t){return mp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},mp(t)}function mi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Y0=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&jd(o,c)})(i,t);var e,n,r=H0(i);function i(){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,i),mi(bi(o=r.call(this)),"preTargetNode",void 0),mi(bi(o),"sourceRuleResults",void 0),mi(bi(o),"targetRuleResults",void 0),mi(bi(o),"dragHandler",void 0),mi(bi(o),"t",void 0),mi(bi(o),"onDragStart",function(c){var l=c.event,p=o.props,O=p.anchorData,w=p.nodeModel,A=p.graphModel;A.overlapMode,A.selectNodeById(w.id),w.autoToFront&&A.toFront(w.id),A.eventCenter.emit(lt.ANCHOR_DRAGSTART,{data:O,e:l,nodeModel:w}),o.setState({startX:O.x,startY:O.y,endX:O.x,endY:O.y})}),mi(bi(o),"onDragging",function(c){var l=c.event,p=o.props,O=p.graphModel,w=p.nodeModel,A=p.anchorData,D=O.transformModel,F=O.eventCenter,Z=O.width,te=O.height,ye=O.editConfigModel,ge=ye.autoExpand,we=ye.stopMoveGraph,Ce=l.clientX,$e=l.clientY,Je=O.getPointByClient({x:Ce,y:$e}),bt=Je.domOverlayPosition,Ze=bt.x,ft=bt.y,et=Je.canvasOverlayPosition,Vt=et.x,qt=et.y;o.t&&bp(o.t);var Tt=[];Ze<10?Tt=[10,0]:Ze+10>Z?Tt=[-10,0]:ft<10?Tt=[0,10]:ft+10>te&&(Tt=[0,-10]),o.setState({endX:Vt,endY:qt,dragging:!0}),o.moveAnchorEnd(Vt,qt),Tt.length>0&&!we&&ge&&(o.t=Bg(function(){var nn=U0(Tt,2),Un=nn[0],Xn=nn[1];D.translate(Un,Xn);var jr=o.state,fo=jr.endX,po=jr.endY;o.setState({endX:fo-Un,endY:po-Xn}),o.moveAnchorEnd(fo-Un,po-Xn)})),F.emit(lt.ANCHOR_DRAG,{data:A,e:l,nodeModel:w})}),mi(bi(o),"onDragEnd",function(c){var l=c.event;o.t&&bp(o.t);var p=o.checkEnd(l);o.setState({startX:0,startY:0,endX:0,endY:0,dragging:!1}),o.sourceRuleResults.clear(),o.targetRuleResults.clear();var O=o.props,w=O.graphModel,A=O.nodeModel,D=O.anchorData;w.eventCenter.emit(lt.ANCHOR_DRAGEND,{data:D,e:l,nodeModel:A,edgeModel:p})}),mi(bi(o),"checkEnd",function(c){var l=o.props,p=l.graphModel,O=l.nodeModel,w=l.anchorData,A=w.x,D=w.y,F=w.id,Z=(p.edgeType,o.state),te=Z.endX,ye=Z.endY,ge=Z.dragging,we=Mi({x:te,y:ye},p);if(o.preTargetNode&&o.preTargetNode.state!==un.DEFAULT&&o.preTargetNode.setElementState(un.DEFAULT),ge&&we&&we.node){var Ce=we.node,$e=we.anchor.id,Je="".concat(O.id,"_").concat(Ce.id,"_").concat($e,"_").concat(F),bt=o.sourceRuleResults.get(Je)||{},Ze=bt.isAllPass,ft=bt.msg,et=o.targetRuleResults.get(Je)||{},Vt=et.isAllPass,qt=et.msg;if(Ze&&Vt){Ce.setElementState(un.DEFAULT);var Tt=p.edgeGenerator(O.getData(),p.getNodeModelById(we.node.id).getData()),nn=p.addEdge(Ml(Ml({},Tt),{},{sourceNodeId:O.id,sourceAnchorId:F,startPoint:{x:A,y:D},targetNodeId:we.node.id,targetAnchorId:we.anchor.id,endPoint:{x:we.anchor.x,y:we.anchor.y}})),Un=o.props.anchorData;return p.eventCenter.emit(lt.ANCHOR_DROP,{data:Un,e:c,nodeModel:O,edgeModel:nn}),nn}var Xn=Ce.getData();return p.eventCenter.emit(lt.CONNECTION_NOT_ALLOWED,{data:Xn,msg:qt||ft}),null}}),o.sourceRuleResults=new Map,o.targetRuleResults=new Map,o.state={startX:0,startY:0,endX:0,endY:0,dragging:!1},o.dragHandler=new ao({onDragStart:o.onDragStart,onDragging:o.onDragging,onDragEnd:o.onDragEnd}),o}return e=i,(n=[{key:"getAnchorShape",value:function(){var o=this.props,c=o.anchorData,l=o.style,p=o.node.getAnchorShape(c);if(p)return p;var O=c.x,w=c.y,A=Ml(Ml({},l),l.hover);return Object(le.g)("g",null,Object(le.g)(Uc,Dl({className:"lf-node-anchor-hover"},A,{x:O,y:w})),Object(le.g)(Uc,Dl({className:"lf-node-anchor"},l,{x:O,y:w})))}},{key:"customTrajectory",get:function(){return this.props.graphModel.customTrajectory}},{key:"moveAnchorEnd",value:function(o,c){var l=this.props,p=l.graphModel,O=l.nodeModel,w=l.anchorData,A=Mi({x:o,y:c},p);if(A){var D=A.node,F=A.anchor.id;if(this.preTargetNode&&this.preTargetNode!==A.node&&this.preTargetNode.setElementState(un.DEFAULT),w.id===F)return;this.preTargetNode=D;var Z="".concat(O.id,"_").concat(D.id,"_").concat(F,"_").concat(w.id);if(!this.targetRuleResults.has(Z)){var te=A.anchor,ye=O.isAllowConnectedAsSource(D,w,te),ge=D.isAllowConnectedAsTarget(O,w,te);this.sourceRuleResults.set(Z,pu(ye)),this.targetRuleResults.set(Z,pu(ge))}var we=this.sourceRuleResults.get(Z).isAllPass,Ce=this.targetRuleResults.get(Z).isAllPass;we&&Ce?D.setElementState(un.ALLOW_CONNECT):D.setElementState(un.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==un.DEFAULT&&this.preTargetNode.setElementState(un.DEFAULT)}},{key:"isShowLine",value:function(){var o=this.state,c=o.startX,l=o.startY,p=o.endX,O=o.endY;return Yn(c,l,p,O)>10}},{key:"render",value:function(){var o=this,c=this.state,l=c.startX,p=c.startY,O=c.endX,w=c.endY,A=this.props,D=A.anchorData.edgeAddable,F=A.edgeStyle;return Object(le.g)("g",{className:"lf-anchor"},Object(le.g)("g",{onMouseDown:function(Z){D!==!1&&o.dragHandler.handleMouseDown(Z)}},this.getAnchorShape()),this.isShowLine()&&(this.customTrajectory?this.customTrajectory(Ml({sourcePoint:{x:l,y:p},targetPoint:{x:O,y:w}},F)):Object(le.g)(Bc,Dl({x1:l,y1:p,x2:O,y2:w},F,{"pointer-events":"none"}))))}}])&&X0(e.prototype,n),i}(le.a);function Xg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function W0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xg(Object(n),!0).forEach(function(r){V0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function V0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sd(t){return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sd(t)}function $0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Hg(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Hg(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Hg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gg(t){var e=t.x,n=e===void 0?0:e,r=t.y,i=r===void 0?0:r,o=t.value,c=t.fontSize,l=t.fill,p=l===void 0?"currentColor":l,O=t.overflowMode,w=O===void 0?"default":O,A=t.textWidth,D=A===void 0?"":A,F=t.model,Z={textAnchor:"middle","dominant-baseline":"middle",x:n,y:i,fill:p};if(Object.entries(t).forEach(function($e){var Je=$0($e,2),bt=Je[0],Ze=Je[1];Sd(Ze)!=="object"&&(Z[bt]=Ze)}),o){var te=String(o).split(/[\r\n]/g),ye=te.length;if(w!=="default"){var ge=F.BaseType,we=F.modelType;if(ge===Fn.NODE&&we!==Gt.TEXT_NODE||ge===Fn.EDGE&&D)return function($e){var Je=$e.value,bt=$e.fontSize,Ze=$e.model,ft=$e.fontFamily,et=ft===void 0?"":ft,Vt=$e.lineHeight,qt=$e.wrapPadding,Tt=qt===void 0?"0, 0":qt,nn=$e.overflowMode,Un=$e.x,Xn=$e.y,jr=Ze.width,fo=Ze.textHeight,po=$e.textWidth||jr,wi=String(Je).split(/[\r\n]/g),Mu=wi.length,Gp=kf({rows:wi,style:{fontSize:"".concat(bt,"px"),width:"".concat(po,"px"),fontFamily:et,lineHeight:Vt,padding:Tt},rowsLength:Mu,className:"lf-get-text-height"}),Nu=Ze.height>Gp?Ze.height:Gp;fo&&(Nu=fo);var Na=nn==="ellipsis";return Na&&(Nu=bt+2),Object(le.g)("g",null,Object(le.g)("foreignObject",{width:po,height:Nu,x:Un-po/2,y:Xn-Nu/2},Object(le.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:Nu,width:po,padding:Tt}},Object(le.g)("div",{className:Na?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",title:Na?wi.join(""):"",style:W0({},$e)},wi.map(function(Ca){return Object(le.g)("div",{className:"lf-node-text--auto-wrap-inner"},Ca)})))))}(t)}if(ye>1){var Ce=te.map(function($e,Je){var bt=(Je-(ye-1)/2)*(c+2);return Object(le.g)("tspan",{className:"lf-text-tspan",x:n,y:i+bt},$e)});return Object(le.g)("text",Z,Ce)}return Object(le.g)("text",Z,o)}}function Pd(t){return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pd(t)}function Ad(){return Ad=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ad.apply(this,arguments)}function K0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Yg(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Yg(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Yg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Z0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kd(t,e){return kd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},kd(t,e)}function q0(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Op(t);if(e){var i=Op(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return J0(this,n)}}function J0(t,e){if(e&&(Pd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Da(t)}function Da(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Op(t){return Op=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Op(t)}function Au(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Wg=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&kd(o,c)})(i,t);var e,n,r=q0(i);function i(o){var c;(function(p,O){if(!(p instanceof O))throw new TypeError("Cannot call a class as a function")})(this,i),Au(Da(c=r.call(this)),"dragHandler",void 0),Au(Da(c),"sumDeltaX",0),Au(Da(c),"sumDeltaY",0),Au(Da(c),"stepDrag",void 0),Au(Da(c),"onDragging",function(p){var O=p.deltaX,w=p.deltaY,A=c.props,D=A.model,F=K0(A.graphModel.transformModel.fixDeltaXY(O,w),2),Z=F[0],te=F[1];D.moveText(Z,te)}),Au(Da(c),"dblClickHandler",function(){c.props.editable&&c.props.model.setElementState(un.TEXT_EDIT)}),Au(Da(c),"mouseDownHandle",function(p){var O=c.props,w=O.draggable,A=O.model,D=O.graphModel.editConfigModel.nodeTextDraggable;(w||D)&&(c.stepDrag.model=A,c.stepDrag.handleMouseDown(p))}),o.model;var l=o.draggable;return c.stepDrag=new ao({onDragging:c.onDragging,step:1,isStopPropagation:l}),c}return e=i,(n=[{key:"getShape",value:function(){var o=this.props,c=o.model,l=o.graphModel,p=c.text,O=l.editConfigModel,w=p.value,A=p.x,D=p.y,F=p.editable,Z=p.draggable,te={x:A,y:D,className:"",value:w};F?te.className="lf-element-text":Z||O.nodeTextDraggable?te.className="lf-text-draggable":te.className="lf-text-disabled";var ye=c.getTextStyle();return Object(le.g)(Gg,Ad({},te,ye,{model:c}))}},{key:"render",value:function(){if(this.props.model.text)return Object(le.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&Z0(e.prototype,n),i}(le.a),Q0=window.navigator.userAgent.match(/MSIE|Trident/)!==null,Vg=u(130);function Td(t){return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Td(t)}function Dd(){return Dd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dd.apply(this,arguments)}function eO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Md(t,e){return Md=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Md(t,e)}function tO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=_p(t);if(e){var i=_p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return nO(this,n)}}function nO(t,e){if(e&&(Td(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qc(t)}function qc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _p(t){return _p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_p(t)}function Nl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var rO=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&Md(o,c)})(i,t);var e,n,r=tO(i);function i(o){var c;return function(l,p){if(!(l instanceof p))throw new TypeError("Cannot call a class as a function")}(this,i),Nl(qc(c=r.call(this,o)),"style",{}),Nl(qc(c),"defaultAngle",void 0),Nl(qc(c),"normal",void 0),Nl(qc(c),"stepperDrag",void 0),Nl(qc(c),"onDragging",function(l){var p,O=l.event,w=c.props,A=w.graphModel,D=w.nodeModel,F=w.eventCenter,Z=A.selectNodes,te=D.x,ye=D.y,ge=O.clientX,we=O.clientY,Ce=A.getPointByClient({x:ge,y:we}).canvasOverlayPosition,$e=Ce.x,Je=Ce.y,bt=new or($e-te,Je-ye),Ze=((p=c.normal)===null||p===void 0?void 0:p.angle(bt))-c.defaultAngle,ft=new ur(-te,-ye).rotate(Ze).translate(te,ye).toString();D.transform=ft,D.rotate=Ze;var et=Object(Vg.map)(Z,function(qt){return qt.id});et.indexOf(D.id)===-1&&(et=[D.id]);var Vt=Object(Vg.reduce)(et,function(qt,Tt){var nn=A.getNodeModelById(Tt);return qt[Tt]=nn==null?void 0:nn.getMoveDistance(0,0,!1),qt},{});et.forEach(function(qt){A.getNodeEdges(qt).forEach(function(Tt){if(Vt[Tt.sourceNodeId]){var nn=A.getNodeModelById(Tt.sourceNodeId).anchors.find(function(Xn){return Xn.id===Tt.sourceAnchorId});Tt.updateStartPoint(nn)}if(Vt[Tt.targetNodeId]){var Un=A.getNodeModelById(Tt.targetNodeId).anchors.find(function(Xn){return Xn.id===Tt.targetAnchorId});Tt.updateEndPoint(Un)}})}),F.emit(lt.NODE_ROTATE,{e:O,nodeModel:D})}),c.style=o.style,c.stepperDrag=new ao({onDragging:c.onDragging}),c}return e=i,(n=[{key:"render",value:function(){var o=this,c=this.props.nodeModel,l=c.x,p=c.y,O=l+c.width/2+20,w=p-c.height/2-20;return this.normal=new or(1,0),this.defaultAngle=this.normal.angle(new or(O-l,w-p)),c.defaultAngle=this.defaultAngle,Object(le.g)("g",{className:"lf-rotate-control"},Object(le.g)("g",{onMouseDown:function(A){o.stepperDrag.handleMouseDown(A)}},Object(le.g)(Uc,Dd({},this.style,{cx:O,cy:w}))))}}])&&eO(e.prototype,n),i}(le.a);function Nd(t){return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nd(t)}var oO=["className"];function wp(){return wp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wp.apply(this,arguments)}function iO(t,e){if(t==null)return{};var n,r,i=function(c,l){if(c==null)return{};var p,O,w={},A=Object.keys(c);for(O=0;O<A.length;O++)p=A[O],l.indexOf(p)>=0||(w[p]=c[p]);return w}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xp(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||function(n,r){if(n){if(typeof n=="string")return $g(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return $g(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $g(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Cd(t,e){return Cd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Cd(t,e)}function aO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ep(t);if(e){var i=Ep(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return uO(this,n)}}function uO(t,e){if(e&&(Nd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dr(t)}function dr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ep(t){return Ep=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ep(t)}function Er(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Gi=function(t){(function(c,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(l&&l.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),l&&Cd(c,l)})(o,t);var e,n,r,i=aO(o);function o(c){var l;(function(D,F){if(!(D instanceof F))throw new TypeError("Cannot call a class as a function")})(this,o),Er(dr(l=i.call(this)),"t",void 0),Er(dr(l),"moveOffset",void 0),Er(dr(l),"stepDrag",void 0),Er(dr(l),"contextMenuTime",void 0),Er(dr(l),"startTime",void 0),Er(dr(l),"clickTimer",void 0),Er(dr(l),"modelDisposer",void 0),Er(dr(l),"onDragStart",function(D){var F=D.event,Z=F.clientX,te=F.clientY,ye=l.props,ge=ye.model,we=ye.graphModel.getPointByClient({x:Z,y:te}).canvasOverlayPosition,Ce=we.x,$e=we.y;l.moveOffset={x:ge.x-Ce,y:ge.y-$e}}),Er(dr(l),"onDragging",function(D){var F=D.event,Z=l.props,te=Z.model,ye=Z.graphModel,ge=ye.editConfigModel,we=ge.stopMoveGraph,Ce=ge.autoExpand,$e=ye.transformModel,Je=ye.selectNodes,bt=ye.width,Ze=ye.height,ft=ye.gridSize;te.isDragging=!0;var et=F.clientX,Vt=F.clientY,qt=ye.getPointByClient({x:et,y:Vt}).canvasOverlayPosition,Tt=qt.x,nn=qt.y,Un=xp($e.CanvasPointToHtmlPoint([Tt,nn]),2),Xn=Un[0],jr=Un[1];if(Tt+=l.moveOffset.x,nn+=l.moveOffset.y,Tt=Po(Tt,ft),nn=Po(nn,ft),bt&&Ze){if(!Ce||we||!(Xn<0||jr<0||Xn>bt||jr>Ze)){var fo=xp($e.CanvasPointToHtmlPoint([Tt-te.width/2,nn-te.height/2]),2),po=fo[0],wi=fo[1],Mu=xp($e.CanvasPointToHtmlPoint([Tt+te.width/2,nn+te.height/2]),2),Gp=Mu[0],Nu=Mu[1],Na=Math.max(ft,20),Ca=[];po<0?Ca=[Na,0]:Gp>ye.width?Ca=[-Na,0]:wi<0?Ca=[0,Na]:Nu>ye.height&&(Ca=[0,-Na]),l.t&&bp(l.t);var J_=new ur(-Tt,-nn).rotate(te.rotate).translate(Tt,nn).toString();te.transform=J_;var Yp=Je.map(function(Wp){return Wp.id});Yp.indexOf(te.id)===-1&&(Yp=[te.id]),Ca.length>0&&!we&&Ce?l.t=Bg(function(){var Wp=xp(Ca,2),Tb=Wp[0],Db=Wp[1];$e.translate(Tb,Db);var Q_=-Tb/$e.SCALE_X,e1=-Db/$e.SCALE_X;ye.moveNodes(Yp,Q_,e1)}):ye.moveNodes(Yp,Tt-te.x,nn-te.y)}}else ye.moveNode2Coordinate(te.id,Tt,nn)}),Er(dr(l),"onDragEnd",function(){l.t&&bp(l.t),l.props.model.isDragging=!1}),Er(dr(l),"handleClick",function(D){if(l.startTime&&!(new Date().getTime()-l.startTime>200)){var F=l.props,Z=F.model,te=F.graphModel,ye={data:Z.getData(),e:D,position:te.getPointByClient({x:D.clientX,y:D.clientY}),isSelected:!1,isMultiple:!1},ge=D.button===2,we=D.detail===2;if(!ge){var Ce=te.editConfigModel,$e=Ao(D,Ce);ye.isMultiple=$e,Z.isSelected&&!we&&$e?(ye.isSelected=!1,Z.setSelected(!1)):(te.selectNodeById(Z.id,$e),ye.isSelected=!0,l.toFront()),we?(Ce.nodeTextEdit&&Z.text.editable&&(Z.setSelected(!1),te.setElementStateById(Z.id,un.TEXT_EDIT)),te.eventCenter.emit(lt.NODE_DBCLICK,ye)):(te.eventCenter.emit(lt.ELEMENT_CLICK,ye),te.eventCenter.emit(lt.NODE_CLICK,ye))}}}),Er(dr(l),"handleContextMenu",function(D){D.preventDefault();var F=l.props,Z=F.model,te=F.graphModel,ye=Z.getData(),ge=te.getPointByClient({x:D.clientX,y:D.clientY});te.setElementStateById(Z.id,un.SHOW_MENU,ge.domOverlayPosition),Z.isSelected||te.selectNodeById(Z.id),te.eventCenter.emit(lt.NODE_CONTEXTMENU,{data:ye,e:D,position:ge}),l.toFront()}),Er(dr(l),"handleMouseDown",function(D){var F=l.props,Z=F.model,te=F.graphModel;l.startTime=new Date().getTime(),te.editConfigModel.adjustNodePosition&&Z.draggable&&l.stepDrag&&l.stepDrag.handleMouseDown(D)}),Er(dr(l),"setHoverON",function(D){var F=l.props,Z=F.model,te=F.graphModel;if(!Z.isHovered){var ye=Z.getData();Z.setHovered(!0),te.eventCenter.emit(lt.NODE_MOUSEENTER,{data:ye,e:D})}}),Er(dr(l),"setHoverOFF",function(D){var F=l.props,Z=F.model,te=F.graphModel,ye=Z.getData();Z.isHovered&&(Z.setHovered(!1),te.eventCenter.emit(lt.NODE_MOUSELEAVE,{data:ye,e:D}))}),Er(dr(l),"onMouseOut",function(D){Q0&&l.setHoverOFF(D)});var p=c.graphModel,O=p.gridSize,w=p.eventCenter,A=c.model;return l.stepDrag=new ao({onDragStart:l.onDragStart,onDragging:l.onDragging,onDragEnd:l.onDragEnd,step:O,eventType:"NODE",isStopPropagation:!1,eventCenter:w,model:A}),l.modelDisposer=Object(f.F)(function(){return l.props},function(D){D&&D.model&&l.stepDrag.setModel(D.model)}),l}return e=o,r=[{key:"getModel",value:function(c){return c}}],(n=[{key:"componentWillUnmount",value:function(){this.modelDisposer&&this.modelDisposer()}},{key:"getAnchorShape",value:function(c){return null}},{key:"getAnchors",value:function(){var c=this,l=this.props,p=l.model,O=l.graphModel,w=p.isSelected,A=p.isHitable,D=p.isDragging,F=p.isShowAnchor;return A&&(w||F)&&!D?Zu(p.anchors,function(Z,te){var ye=p.getAnchorLineStyle(Z),ge=p.getAnchorStyle(Z);return Object(le.g)(Y0,{anchorData:Z,node:c,style:ge,edgeStyle:ye,anchorIndex:te,nodeModel:p,graphModel:O,setHoverOFF:c.setHoverOFF})}):[]}},{key:"getRotateControl",value:function(){var c=this.props,l=c.model,p=c.graphModel,O=l.isSelected,w=l.isHitable,A=l.enableRotate,D=l.isHovered,F=l.getRotateControlStyle().style;if(w&&(O||D)&&A)return Object(le.g)(rO,{graphModel:p,nodeModel:l,eventCenter:p.eventCenter,style:F})}},{key:"getText",value:function(){var c=this.props,l=c.model,p=c.graphModel;if(l.state===un.TEXT_EDIT)return"";if(l.text){var O=p.editConfigModel,w=!1;return(l.text.draggable||O.nodeTextDraggable)&&(w=!0),Object(le.g)(Wg,{editable:O.nodeTextEdit&&l.text.editable,model:l,graphModel:p,draggable:w})}}},{key:"getStateClassName",value:function(){var c=this.props.model,l=c.state,p=c.isDragging,O=c.isSelected,w="lf-node";switch(l){case un.ALLOW_CONNECT:w+=" lf-node-allow";break;case un.NOT_ALLOW_CONNECT:w+=" lf-node-not-allow";break;default:w+=" lf-node-default"}return p&&(w+=" lf-isDragging"),O&&(w+=" lf-node-selected"),w}},{key:"toFront",value:function(){var c=this.props,l=c.model,p=c.graphModel;l.autoToFront&&p.toFront(l.id)}},{key:"render",value:function(){var c,l=this.props,p=l.model,O=l.graphModel,w=O.editConfigModel,A=w.hideAnchors,D=w.adjustNodePosition,F=w.allowRotation,Z=O.gridSize,te=O.transformModel.SCALE_X,ye=p.isHitable,ge=p.draggable,we=p.transform,Ce=p.getOuterGAttributes(),$e=Ce.className,Je=$e===void 0?"":$e,bt=iO(Ce,oO),Ze=Object(le.g)("g",{className:"lf-node-content"},Object(le.g)("g",{transform:we},this.getShape(),this.getText(),F&&this.getRotateControl()),!A&&this.getAnchors());return ye?(D&&ge&&this.stepDrag.setStep(Z*te),c=Object(le.g)("g",wp({className:"".concat(this.getStateClassName()," ").concat(Je),onMouseDown:this.handleMouseDown,onClick:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},bt),Ze)):c=Object(le.g)("g",wp({className:"".concat(this.getStateClassName()," ").concat(Je)},bt),Ze),c}}])&&Kg(e.prototype,n),r&&Kg(e,r),o}(le.a);function Rd(t){return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rd(t)}function Id(){return Id=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Id.apply(this,arguments)}function cO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ld(t,e){return Ld=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ld(t,e)}function lO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=jp(t);if(e){var i=jp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return fO(this,n)}}function fO(t,e){if(e&&(Rd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function jp(t){return jp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},jp(t)}var zd=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&Ld(o,c)})(i,t);var e,n,r=lO(i);function i(){return cO(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getShape",value:function(){var o=this.props.model,c=o.getNodeStyle();return Object(le.g)(Aa,Id({},c,{x:o.x,y:o.y,width:o.width,height:o.height,radius:o.radius}))}}])&&sO(e.prototype,n),i}(Gi);function Bd(t){return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bd(t)}function Fd(){return Fd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fd.apply(this,arguments)}function pO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ud(t,e){return Ud=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ud(t,e)}function dO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Sp(t);if(e){var i=Sp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yO(this,n)}}function yO(t,e){if(e&&(Bd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Sp(t){return Sp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Sp(t)}var Xd=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&Ud(o,c)})(i,t);var e,n,r=dO(i);function i(){return pO(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getShape",value:function(){var o=this.props.model,c=o.x,l=o.y,p=o.r,O=o.getNodeStyle();return Object(le.g)(Uc,Fd({},O,{x:c,y:l,r:p}))}}])&&hO(e.prototype,n),i}(Gi);function Hd(t){return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(t)}function vO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Zg(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Zg(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Zg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qg(t){var e=t.points,n=t.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(t).forEach(function(i){var o=vO(i,2),c=o[0],l=o[1];Hd(l)!=="object"&&(r[c]=l)}),r.className=n?"lf-basic-shape ".concat(n):"lf-basic-shape",r.points=e.map(function(i){return i.join(",")}).join(" "),Object(le.g)("polygon",r)}function Gd(t){return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gd(t)}function Yd(){return Yd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yd.apply(this,arguments)}function gO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wd(t,e){return Wd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Wd(t,e)}function mO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Pp(t);if(e){var i=Pp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return OO(this,n)}}function OO(t,e){if(e&&(Gd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Pp(t){return Pp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Pp(t)}var Vd=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&Wd(o,c)})(i,t);var e,n,r=mO(i);function i(){return gO(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getShape",value:function(){var o=this.props.model,c=o.x,l=o.y,p=o.width,O=o.height,w=o.points,A=o.getNodeStyle(),D={transform:"matrix(1 0 0 1 ".concat(c-p/2," ").concat(l-O/2,")")};return Object(le.g)("g",D,Object(le.g)(qg,Yd({},A,{points:w,x:c,y:l})))}}])&&bO(e.prototype,n),i}(Gi);function $d(t){return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$d(t)}function Kd(){return Kd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kd.apply(this,arguments)}function _O(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zd(t,e){return Zd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Zd(t,e)}function xO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ap(t);if(e){var i=Ap(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return EO(this,n)}}function EO(t,e){if(e&&($d(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ap(t){return Ap=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ap(t)}var qd=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&Zd(o,c)})(i,t);var e,n,r=xO(i);function i(){return _O(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getShape",value:function(){var o=this.props.model,c=o.getNodeStyle();return Object(le.g)("g",null,Object(le.g)(qg,Kd({},c,{points:o.points,x:o.x,y:o.y})))}}])&&wO(e.prototype,n),i}(Gi);function Jd(t){return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jd(t)}function jO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Jg(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Jg(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Jg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function SO(t){var e=t.x,n=e===void 0?0:e,r=t.y,i=r===void 0?0:r,o=t.rx,c=o===void 0?4:o,l=t.ry,p=l===void 0?4:l,O=t.className,w={cx:n,cy:i,rx:c,ry:p,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(A){var D=jO(A,2),F=D[0],Z=D[1];Jd(Z)!=="object"&&(w[F]=Z)}),w.className=O?"lf-basic-shape ".concat(O):"lf-basic-shape",Object(le.g)("ellipse",w)}function Qd(t){return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qd(t)}function ey(){return ey=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ey.apply(this,arguments)}function PO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ty(t,e){return ty=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ty(t,e)}function kO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=kp(t);if(e){var i=kp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return TO(this,n)}}function TO(t,e){if(e&&(Qd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function kp(t){return kp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},kp(t)}var ny=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&ty(o,c)})(i,t);var e,n,r=kO(i);function i(){return PO(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getShape",value:function(){var o=this.props.model,c=o.getNodeStyle();return Object(le.g)(SO,ey({},c,{x:o.x,y:o.y,rx:o.rx,ry:o.ry}))}}])&&AO(e.prototype,n),i}(Gi);function ry(t){return ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ry(t)}function Qg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qg(Object(n),!0).forEach(function(r){DO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function oy(t,e){return oy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},oy(t,e)}function CO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Tp(t);if(e){var i=Tp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return RO(this,n)}}function RO(t,e){if(e&&(ry(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Tp(t){return Tp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Tp(t)}var iy=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&oy(o,c)})(i,t);var e,n,r=CO(i);function i(){return MO(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getBackground",value:function(){var o=this.props.model,c=o.getTextStyle(),l=o.width,p=o.height,O=o.x,w=o.y,A=eb(eb({},c.background),{},{x:O,y:w-1,width:l,height:p});return Object(le.g)(Aa,A)}},{key:"getShape",value:function(){return Object(le.g)("g",null,this.getBackground())}}])&&NO(e.prototype,n),i}(Gi);function ay(t){return ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ay(t)}function uy(){return uy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uy.apply(this,arguments)}function IO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cy(t,e){return cy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},cy(t,e)}function zO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Dp(t);if(e){var i=Dp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return BO(this,n)}}function BO(t,e){if(e&&(ay(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cl(t)}function Cl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dp(t){return Dp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Dp(t)}function Mp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var sy=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&cy(o,c)})(i,t);var e,n,r=zO(i);function i(){var o;IO(this,i);for(var c=arguments.length,l=new Array(c),p=0;p<c;p++)l[p]=arguments[p];return Mp(Cl(o=r.call.apply(r,[this].concat(l))),"ref",void 0),Mp(Cl(o),"currentProperties",void 0),Mp(Cl(o),"preProperties",void 0),Mp(Cl(o),"setRef",function(O){o.ref=O}),o}return e=i,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(o){o.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currentProperties)return this.preProperties=this.currentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var o=this.props.model,c=o.x,l=o.y,p=o.height,O=o.width,w=o.getNodeStyle();return this.currentProperties=JSON.stringify(o.properties),Object(le.g)("foreignObject",uy({},w,{x:c-O/2,y:l-p/2,width:O,height:p,ref:this.setRef}))}}])&&LO(e.prototype,n),i}(Gi);function ly(t){return ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ly(t)}function fy(){return fy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fy.apply(this,arguments)}function tb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ku(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tb(Object(n),!0).forEach(function(r){dy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function py(t,e){return py=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},py(t,e)}function UO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Np(t);if(e){var i=Np(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return XO(this,n)}}function XO(t,e){if(e&&(ly(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hy(t)}function hy(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Np(t){return Np=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Np(t)}function dy(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var HO=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&py(o,c)})(i,t);var e,n,r=UO(i);function i(o){var c;return function(l,p){if(!(l instanceof p))throw new TypeError("Cannot call a class as a function")}(this,i),dy(hy(c=r.call(this,o)),"setHoverON",function(){c.setState({isHovered:!0})}),dy(hy(c),"setHoverOFF",function(){c.setState({isHovered:!1})}),c.state={isHovered:!1},c}return e=i,(n=[{key:"getBackground",value:function(){var o=this.props.model,c=o.getTextStyle(),l=o.text,p=o.width,O=c.background||{};if(this.state.isHovered&&c.hover&&c.hover.background&&(O=ku(ku({},O),c.hover.background)),l&&l.value&&O.fill!=="transparent"){var w,A=c.fontSize,D=c.overflowMode,F=c.lineHeight,Z=c.wrapPadding,te=c.textWidth,ye=l.value,ge=l.x,we=l.y,Ce=String(ye).split(/[\r\n]/g),$e=Ce.length;if(D==="autoWrap"&&te){var Je=kf({rows:Ce,style:{fontSize:"".concat(A,"px"),width:"".concat(te,"px"),lineHeight:F,padding:Z},rowsLength:$e,className:"lf-get-text-height"});w=ku(ku({},O),{},{x:ge-1,y:we-1,width:te,height:Je})}else{Ce&&Ce.forEach(function(Vt){pl(Vt)});var bt=Hs({rows:Ce,fontSize:A,rowsLength:$e}),Ze=bt.width,ft=bt.height;if(D==="ellipsis"&&(Ze=te||p,ft=A+2),typeof O.wrapPadding=="string"){var et=O.wrapPadding.split(",").filter(function(Vt){return Vt.trim()}).map(function(Vt){return parseFloat(Vt.trim())});et.length>0&&et.length<=4&&(et.length===1?et=[et[0],et[0],et[0],et[0]]:et.length===2?et=[et[0],et[1],et[0],et[1]]:et.length===3&&(et=[et[0],et[1],et[2],et[1]]),Ze+=et[1]+et[3],ft+=et[0]+et[2],ge+=(et[1]-et[3])/2,we+=(et[2]-et[0])/2)}w=ku(ku({},O),{},{x:ge-1,y:we-1,width:Ze,height:ft})}return Object(le.g)(Aa,w)}}},{key:"getShape",value:function(){var o=this.props.model,c=o.text,l=c.value,p=c.x,O=c.y;if(l){var w=ku({x:p,y:O,className:"lf-element-text",value:l},o.getTextStyle());return Object(le.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackground(),Object(le.g)(Gg,fy({},w,{model:o})))}}}])&&FO(e.prototype,n),i}(Wg);function yy(t){return yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yy(t)}var Oi,GO=["text","sourceAnchorId","targetAnchorId"];function nb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nb(Object(n),!0).forEach(function(r){lo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YO(t,e){if(t==null)return{};var n,r,i=function(c,l){if(c==null)return{};var p,O,w={},A=Object.keys(c);for(O=0;O<A.length;O++)p=A[O],l.indexOf(p)>=0||(w[p]=c[p]);return w}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function WO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||function(n,r){if(n){if(typeof n=="string")return rb(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return rb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function rb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vy(t,e){return vy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},vy(t,e)}function $O(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Cp(t);if(e){var i=Cp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return KO(this,n)}}function KO(t,e){if(e&&(yy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return so(t)}function so(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cp(t){return Cp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Cp(t)}function lo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(Oi||(Oi={}));var ob=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&vy(o,c)})(i,t);var e,n,r=$O(i);function i(o){var c;(function(w,A){if(!(w instanceof A))throw new TypeError("Cannot call a class as a function")})(this,i),lo(so(c=r.call(this)),"stepDragData",void 0),lo(so(c),"stepDrag",void 0),lo(so(c),"oldEdge",void 0),lo(so(c),"preTargetNode",void 0),lo(so(c),"targetRuleResults",void 0),lo(so(c),"sourceRuleResults",void 0),lo(so(c),"handleMouseDown",function(w){c.stepDrag&&c.stepDrag.handleMouseDown(w)}),lo(so(c),"onDragStart",function(){var w=c.props,A=w.x,D=w.y,F=w.edgeModel,Z=F.startPoint,te=F.endPoint,ye=F.pointsList;c.oldEdge={startPoint:Z,endPoint:te,pointsList:ye},c.setState({endX:A,endY:D,dragging:!0})}),lo(so(c),"onDragging",function(w){var A=w.deltaX,D=w.deltaY,F=c.state,Z=F.endX,te=F.endY,ye=c.props,ge=ye.graphModel,we=ye.type,Ce=ge.transformModel,$e=ge.editConfigModel,Je=WO(Ce.moveCanvasPointByHtml([Z,te],A,D),2),bt=Je[0],Ze=Je[1];c.setState({endX:bt,endY:Ze,dragging:!0});var ft=c.props.edgeModel,et=Mi({x:Z,y:te},ge);if(et&&et.node&&c.isAllowAdjust(et).pass){var Vt,qt=ft.startPoint,Tt=ft.endPoint,nn=ft.sourceNode,Un=ft.targetNode;we===Oi.SOURCE?Vt={startPoint:{x:et.anchor.x,y:et.anchor.y},endPoint:{x:Tt.x,y:Tt.y},sourceNode:et.node,targetNode:Un}:we===Oi.TARGET&&(Vt={startPoint:{x:qt.x,y:qt.y},endPoint:{x:et.anchor.x,y:et.anchor.y},sourceNode:nn,targetNode:et.node}),ft.updateAfterAdjustStartAndEnd(Vt)}else we===Oi.SOURCE?ft.updateStartPoint({x:bt,y:Ze}):we===Oi.TARGET&&ft.updateEndPoint({x:bt,y:Ze});ft.text.value&&$e.adjustEdge&&ft.setText(Object.assign({},ft.text,ft.textPosition))}),lo(so(c),"onDragEnd",function(w){var A=w.event;try{var D;c.setState({dragging:!1});var F=c.props,Z=F.graphModel,te=F.edgeModel,ye=F.type,ge=c.state,we=ge.endX,Ce=ge.endY,$e=ge.dragging,Je=Mi({x:we,y:Ce},Z);if(!$e)return;var bt,Ze=!1;if(Je&&Je.node){var ft=c.isAllowAdjust(Je),et=ft.pass,Vt=ft.msg,qt=ft.newTargetNode;if(et){var Tt=te.getData(),nn=Tt.text,Un=Tt.sourceAnchorId,Xn=Un===void 0?"":Un,jr=Tt.targetAnchorId;bt=Yi(Yi({sourceAnchorId:Xn,targetAnchorId:jr===void 0?"":jr},YO(Tt,GO)),{},{text:(nn==null?void 0:nn.value)||""}),ye===Oi.SOURCE?(bt=Yi(Yi({},Z.edgeGenerator(Z.getNodeModelById(Je.node.id).getData(),Z.getNodeModelById(te.targetNodeId).getData(),bt)),{},{sourceNodeId:Je.node.id,sourceAnchorId:Je.anchor.id,startPoint:{x:Je.anchor.x,y:Je.anchor.y},targetNodeId:te.targetNodeId,endPoint:Yi({},te.endPoint)}),te.sourceNodeId===Je.node.id&&te.sourceAnchorId===Je.anchor.id&&(Ze=!0)):ye===Oi.TARGET&&(bt=Yi(Yi({},Z.edgeGenerator(Z.getNodeModelById(te.sourceNodeId).getData(),Z.getNodeModelById(Je.node.id).getData(),bt)),{},{sourceNodeId:te.sourceNodeId,startPoint:Yi({},te.startPoint),targetNodeId:Je.node.id,targetAnchorId:Je.anchor.id,endPoint:{x:Je.anchor.x,y:Je.anchor.y}}),te.targetNodeId===Je.node.id&&te.targetAnchorId===Je.anchor.id&&(Ze=!0))}else{Ze=!0;var fo=qt.getData();Z.eventCenter.emit(lt.CONNECTION_NOT_ALLOWED,{data:fo,msg:Vt})}}else Ze=!0;if(Ze)c.recoveryEdge();else{var po=te.getData();Z.deleteEdgeById(te.id);var wi=Z.addEdge(Yi({},bt));Z.eventCenter.emit(lt.EDGE_EXCHANGE_NODE,{data:{newEdge:wi.getData(),oldEdge:po}})}(D=c.preTargetNode)===null||D===void 0||D.setElementState(un.DEFAULT)}finally{c.props.graphModel.eventCenter.emit(lt.ADJUST_POINT_DRAGEND,{e:A,data:c.stepDragData})}}),lo(so(c),"recoveryEdge",function(){var w=c.props.edgeModel,A=c.oldEdge,D=A.startPoint,F=A.endPoint,Z=A.pointsList;w.updateStartPoint(D),w.updateEndPoint(F),w.modelType!==Gt.LINE_EDGE&&(w.pointsList=Z,w.initPoints())}),lo(so(c),"getAdjustPointStyle",function(){var w=c.props,A=w.graphModel.theme;return w.edgeModel,A.edgeAdjust}),c.state={dragging:!1,endX:0,endY:0},c.targetRuleResults=new Map,c.sourceRuleResults=new Map;var l=o.type,p=o.edgeModel,O=o.graphModel.eventCenter;return c.stepDragData={type:l,edgeData:p.getData()},c.stepDrag=new ao({onDragStart:c.onDragStart,onDragging:c.onDragging,onDragEnd:c.onDragEnd,eventType:"ADJUST_POINT",isStopPropagation:!1,eventCenter:O,data:c.stepDragData}),c}return e=i,(n=[{key:"isAllowAdjust",value:function(o){var c=this.props,l=c.edgeModel,p=l.id,O=l.sourceNode,w=l.targetNode,A=l.sourceAnchorId,D=l.targetAnchorId,F=c.type,Z=null,te=null,ye=null,ge=null;if(F===Oi.SOURCE?(Z=o.node,te=w,ye=o.anchor,ge=w.getAnchorInfo(D)):(Z=O,te=o.node,ge=o.anchor,ye=O.getAnchorInfo(A)),this.preTargetNode&&this.preTargetNode!==o.node&&this.preTargetNode.setElementState(un.DEFAULT),this.preTargetNode=o.node,ge.id===ye.id)return{pass:!1,msg:"",newTargetNode:te};var we="".concat(Z.id,"_").concat(te.id,"_").concat(ye.id,"_").concat(ge.id);if(!this.targetRuleResults.has(we)){var Ce=Z.isAllowConnectedAsSource(te,ye,ge,p),$e=te.isAllowConnectedAsTarget(Z,ye,ge,p);this.sourceRuleResults.set(we,pu(Ce)),this.targetRuleResults.set(we,pu($e))}var Je=this.sourceRuleResults.get(we),bt=Je.isAllPass,Ze=Je.msg,ft=this.targetRuleResults.get(we),et=ft.isAllPass,Vt=ft.msg,qt=bt&&et?un.ALLOW_CONNECT:un.NOT_ALLOW_CONNECT;return F===Oi.SOURCE?Z.setElementState(qt):te.setElementState(qt),{pass:bt&&et,msg:Vt||Ze,newTargetNode:te}}},{key:"render",value:function(){var o=this.props,c=o.x,l=o.y,p=o.getAdjustPointShape,O=o.edgeModel,w=this.state.dragging;return Object(le.g)("g",{pointerEvents:w?"none":"",onMouseDown:this.handleMouseDown},w?"":p(c,l,O))}}])&&VO(e.prototype,n),i}(le.a);function gy(t){return gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gy(t)}function Rl(){return Rl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rl.apply(this,arguments)}function ZO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||function(n,r){if(n){if(typeof n=="string")return ib(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ib(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ib(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function by(t,e){return by=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},by(t,e)}function QO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Rp(t);if(e){var i=Rp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return e_(this,n)}}function e_(t,e){if(e&&(gy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jo(t)}function Jo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rp(t){return Rp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Rp(t)}function _i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Il=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&by(o,c)})(i,t);var e,n,r=QO(i);function i(){var o;qO(this,i);for(var c=arguments.length,l=new Array(c),p=0;p<c;p++)l[p]=arguments[p];return _i(Jo(o=r.call.apply(r,[this].concat(l))),"startTime",void 0),_i(Jo(o),"contextMenuTime",void 0),_i(Jo(o),"clickTimer",void 0),_i(Jo(o),"textRef",Object(le.f)()),_i(Jo(o),"handleHover",function(O,w){var A=o.props,D=A.model,F=A.graphModel.eventCenter;D.setHovered(O);var Z=O?lt.EDGE_MOUSEENTER:lt.EDGE_MOUSELEAVE,te=D.getData();F.emit(Z,{data:te,e:w})}),_i(Jo(o),"setHoverON",function(O){o.props.model.isHovered||(o.textRef&&o.textRef.current&&o.textRef.current.setHoverON(),o.handleHover(!0,O))}),_i(Jo(o),"setHoverOFF",function(O){o.props.model.isHovered&&(o.textRef&&o.textRef.current&&o.textRef.current.setHoverOFF(),o.handleHover(!1,O))}),_i(Jo(o),"handleContextMenu",function(O){O.preventDefault(),o.contextMenuTime=new Date().getTime(),o.clickTimer&&clearTimeout(o.clickTimer);var w=o.props,A=w.model,D=w.graphModel,F=D.getPointByClient({x:O.clientX,y:O.clientY});D.setElementStateById(A.id,un.SHOW_MENU,F.domOverlayPosition),o.toFront(),A.isSelected||D.selectEdgeById(A.id);var Z=A==null?void 0:A.getData();D.eventCenter.emit(lt.EDGE_CONTEXTMENU,{data:Z,e:O,position:F})}),_i(Jo(o),"handleMouseDown",function(O){O.stopPropagation(),o.startTime=new Date().getTime()}),_i(Jo(o),"handleMouseUp",function(O){if(o.startTime&&!(new Date().getTime()-o.startTime>200||O.button===2)){var w=O.detail===2,A=o.props,D=A.model,F=A.graphModel,Z=D==null?void 0:D.getData(),te=F.getPointByClient({x:O.clientX,y:O.clientY});if(w){var ye=F.editConfigModel,ge=F.textEditElement;if(ge&&ge.id===D.id&&F.setElementStateById(D.id,un.DEFAULT),ye.edgeTextEdit&&D.text.editable&&F.setElementStateById(D.id,un.TEXT_EDIT),D.modelType===Gt.POLYLINE_EDGE){var we=D,Ce=F.getPointByClient({x:O.x,y:O.y}).canvasOverlayPosition,$e=Ce.x,Je=Ce.y,bt=dl({x:$e,y:Je},we.points);we.dbClickPosition=bt}F.eventCenter.emit(lt.EDGE_DBCLICK,{data:Z,e:O,position:te})}else F.eventCenter.emit(lt.ELEMENT_CLICK,{data:Z,e:O,position:te}),F.eventCenter.emit(lt.EDGE_CLICK,{data:Z,e:O,position:te});var Ze=F.editConfigModel;F.selectEdgeById(D.id,Ao(O,Ze)),o.toFront()}}),o}return e=i,(n=[{key:"getShape",value:function(){return Object(le.g)("g",null,this.getEdge())}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var o=this.props,c=o.model,l=o.graphModel;if(c.state===un.TEXT_EDIT)return null;var p=!1,O=l.editConfigModel;return(c.text.draggable||O.edgeTextDraggable)&&(p=!0),Object(le.g)(HO,{ref:this.textRef,editable:O.edgeTextEdit&&c.text.editable,model:c,graphModel:l,draggable:p})}},{key:"getArrowInfo",value:function(){var o=this.props.model,c=o.startPoint,l=o.endPoint,p=o.isSelected;return{start:c,end:l,hover:this.state.hover,isSelected:p}}},{key:"getLastTwoPoints",value:function(){var o=this.props.model;return[o.startPoint,o.endPoint]}},{key:"getArrowStyle",value:function(){return null}},{key:"getArrow",value:function(){var o=this.props.model,c=o.id,l=o.getArrowStyle(),p=l.refY,O=p===void 0?0:p,w=l.refX,A=w===void 0?2:w,D=ZO(this.getLastTwoPoints(),2),F=D[0],Z=D[1],te="auto";return F!==null&&Z!==null&&(te=Rn(wr({x:Z.x-F.x,y:Z.y-F.y,z:0}))),Object(le.g)("g",null,Object(le.g)("defs",null,Object(le.g)("marker",{id:"marker-start-".concat(c),refX:-A,refY:O,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getStartArrow()),Object(le.g)("marker",{id:"marker-end-".concat(c),refX:A,refY:O,overflow:"visible",orient:te,markerUnits:"userSpaceOnUse"},this.getEndArrow())))}},{key:"getStartArrow",value:function(){var o=this.props.model.getArrowStyle();return o.stroke,o.strokeWidth,o.offset,o.verticalLength,Object(le.g)("path",null)}},{key:"getEndArrow",value:function(){var o=this.props.model.getArrowStyle(),c=o.stroke,l=o.strokeWidth,p=o.offset,O=o.verticalLength;return Object(le.g)("path",{stroke:c,fill:c,strokeWidth:l,transform:"rotate(180)",d:"M 0 0 L ".concat(p," -").concat(O," L ").concat(p," ").concat(O," Z")})}},{key:"getAdjustPointShape",value:function(o,c,l){var p=l.getAdjustPointStyle();return Object(le.g)(Uc,Rl({className:"lf-edge-adjust-point"},p,{x:o,y:c}))}},{key:"getAdjustPoints",value:function(){var o=this.props,c=o.model,l=o.graphModel,p=c.getAdjustStart(),O=c.getAdjustEnd();return Object(le.g)("g",null,Object(le.g)(ob,Rl({type:"SOURCE"},p,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:c,graphModel:l})),Object(le.g)(ob,Rl({type:"TARGET"},O,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:c,graphModel:l})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(le.g)("g",null)}},{key:"getAppend",value:function(){return Object(le.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"getEdge",value:function(){return null}},{key:"toFront",value:function(){var o=this.props,c=o.graphModel,l=o.model;c.toFront(l.id)}},{key:"render",value:function(){var o=this.props,c=o.model,l=c.isSelected,p=c.isHitable,O=c.isShowAdjustPoint;return o.graphModel.animation,Object(le.g)("g",null,Object(le.g)("g",{className:["lf-edge",!p&&"pointer-none",l&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),this.getText(),this.getArrow()),O&&l?this.getAdjustPoints():"")}}])&&JO(e.prototype,n),i}(le.a);function my(t){return my=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},my(t)}function t_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||function(n,r){if(n){if(typeof n=="string")return ab(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ab(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ab(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ll=function(t){var e={d:""};return Object.entries(t).forEach(function(n){var r=t_(n,2),i=r[0],o=r[1],c=my(o);i!=="style"&&c==="object"||(e[i]=o)}),Object(le.g)("path",e)};function Oy(t){return Oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oy(t)}function _y(){return _y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_y.apply(this,arguments)}function n_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wy(t,e){return wy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},wy(t,e)}function o_(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ip(t);if(e){var i=Ip(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return i_(this,n)}}function i_(t,e){if(e&&(Oy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ip(t){return Ip=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ip(t)}var xy=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&wy(o,c)})(i,t);var e,n,r=o_(i);function i(){return n_(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getEdge",value:function(){var o=this.props.model,c=o.startPoint,l=o.endPoint,p=o.isAnimation,O=o.arrowConfig,w=o.getEdgeStyle(),A=o.getEdgeAnimationStyle(),D=A.strokeDasharray,F=A.stroke,Z=A.strokeDashoffset,te=A.animationName,ye=A.animationDuration,ge=A.animationIterationCount,we=A.animationTimingFunction,Ce=A.animationDirection;return Object(le.g)(Bc,_y({},w,{x1:c.x,y1:c.y,x2:l.x,y2:l.y},O,p?{strokeDasharray:D,stroke:F,style:{strokeDashoffset:Z,animationName:te,animationDuration:ye,animationIterationCount:ge,animationTimingFunction:we,animationDirection:Ce}}:{}))}},{key:"getAppendWidth",value:function(){var o=this.props.model,c=o.startPoint,l=o.endPoint,p=hl({start:c,end:l}),O=p.d,w=p.strokeWidth,A=p.fill,D=p.strokeDasharray,F=p.stroke;return Object(le.g)(Ll,{d:O,fill:A,strokeWidth:w,stroke:F,strokeDasharray:D})}}])&&r_(e.prototype,n),i}(Il);function Ey(t){return Ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ey(t)}function a_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||function(n,r){if(n){if(typeof n=="string")return ub(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ub(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ub(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var u_=function(t){var e={points:"",fill:"none"};return Object.entries(t).forEach(function(n){var r=a_(n,2),i=r[0],o=r[1];(i==="style"||Ey(o)!=="object")&&(e[i]=o)}),Object(le.g)("polyline",e)};function jy(t){return jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jy(t)}function cb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cb(Object(n),!0).forEach(function(r){Vi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sy(){return Sy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sy.apply(this,arguments)}function c_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||function(n,r){if(n){if(typeof n=="string")return sb(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return sb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function sb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Py(t,e){return Py=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Py(t,e)}function l_(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=zp(t);if(e){var i=zp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f_(this,n)}}function f_(t,e){if(e&&(jy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wi(t)}function Wi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zp(t){return zp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},zp(t)}function Vi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ay=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&Py(o,c)})(i,t);var e,n,r=l_(i);function i(){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,i),Vi(Wi(o=r.call(this)),"drag",void 0),Vi(Wi(o),"isDragging",void 0),Vi(Wi(o),"isShowAdjustPointTemp",void 0),Vi(Wi(o),"appendInfo",void 0),Vi(Wi(o),"onDragStart",function(){var c=o.props.model;c.dragAppendStart(),o.isShowAdjustPointTemp=c.isShowAdjustPoint,c.isShowAdjustPoint=!1}),Vi(Wi(o),"onDragging",function(c){var l=c.deltaX,p=c.deltaY,O=o.props,w=O.model,A=O.graphModel;o.isDragging=!0;var D=A.transformModel,F=A.editConfigModel,Z=c_(D.fixDeltaXY(l,p),2),te=Z[0],ye=Z[1],ge=w,we=F.adjustEdgeMiddle;o.appendInfo=we?ge.dragAppendSimple(o.appendInfo,{x:te,y:ye}):ge.dragAppend(o.appendInfo,{x:te,y:ye})}),Vi(Wi(o),"onDragEnd",function(){var c=o.props,l=c.model,p=c.graphModel.eventCenter,O=l;O.dragAppendEnd(),o.isDragging=!1,O.isShowAdjustPoint=o.isShowAdjustPointTemp,o.appendInfo=void 0,p.emit(lt.EDGE_ADJUST,{data:O.getData()})}),Vi(Wi(o),"beforeDragStart",function(c,l){l.dragAble&&o.drag.handleMouseDown(c),o.appendInfo=l}),o.drag=new ao({onDragStart:o.onDragStart,onDragging:o.onDragging,onDragEnd:o.onDragEnd,isStopPropagation:!1}),o}return e=i,(n=[{key:"getEdge",value:function(){var o=this.props.model,c=o.points,l=o.isAnimation,p=o.arrowConfig,O=o.getEdgeStyle(),w=o.getEdgeAnimationStyle(),A=w.strokeDasharray,D=w.stroke,F=w.strokeDashoffset,Z=w.animationName,te=w.animationDuration,ye=w.animationIterationCount,ge=w.animationTimingFunction,we=w.animationDirection;return Object(le.g)(u_,Sy({points:c},O,p,l?{strokeDasharray:A,stroke:D,style:{strokeDashoffset:F,animationName:Z,animationDuration:te,animationIterationCount:ye,animationTimingFunction:ge,animationDirection:we}}:{}))}},{key:"getArrowInfo",value:function(){var o=this.props.model,c=o.points,l=o.isSelected,p={start:null,end:null,hover:this.state.hover,isSelected:l},O=di(c);return O.length>=2&&(p.start=O[O.length-2],p.end=O[O.length-1]),p}},{key:"getLastTwoPoints",value:function(){var o=this.props.model.points,c=di(o);return c.length>=2?[c[c.length-2],c[c.length-1]]:[null,null]}},{key:"getAppendAttributes",value:function(o){var c,l=o.start,p=o.end;if(l.x===p.x&&l.y===p.y)c="";else{var O={start:l,end:p,offset:10,verticalLength:5},w=yu(Lp(Lp({},O),{},{type:"start"})),A=yu(Lp(Lp({},O),{},{type:"end"}));c="M".concat(w.leftX," ").concat(w.leftY,` 
      L`).concat(w.rightX," ").concat(w.rightY,` 
      L`).concat(A.rightX," ").concat(A.rightY,`
      L`).concat(A.leftX," ").concat(A.leftY," z")}return{d:c,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(o){var c=this.getAppendAttributes(o),l=c.d,p=c.strokeWidth,O=c.fill,w=c.strokeDasharray,A=c.stroke;return Object(le.g)(Ll,{d:l,fill:O,strokeWidth:p,stroke:A,strokeDasharray:w})}},{key:"getAppendWidth",value:function(){for(var o=this,c=this.props,l=c.model,p=c.graphModel,O=l.pointsList,w=l.draggable,A=[],D=O.length,F=function(te){var ye="lf-polyline-append",ge={start:{x:O[te].x,y:O[te].y},end:{x:O[te+1].x,y:O[te+1].y},startIndex:te,endIndex:te+1,direction:"",dragAble:!0},we=Object(le.g)("g",{className:ye},o.getAppendShape(ge)),Ce=p.editConfigModel,$e=Ce.adjustEdge,Je=Ce.adjustEdgeMiddle;if($e&&w){var bt=ge.startIndex,Ze=ge.endIndex,ft=Je&&(bt===0||Ze===D-1);ge.dragAble=!ft,ge.start.x===ge.end.x?(ge.dragAble&&(ye+="-ew-resize"),ge.direction=vn.VERTICAL):ge.start.y===ge.end.y&&(ge.dragAble&&(ye+="-ns-resize"),ge.direction=vn.HORIZONTAL),we=Object(le.g)("g",{className:o.isDragging?"lf-dragging":"lf-drag-able",onMouseDown:function(et){return o.beforeDragStart(et,ge)}},Object(le.g)("g",{className:ye},o.getAppendShape(ge)))}A.push(we)},Z=0;Z<D-1;Z++)F(Z);return Object(le.g)("g",null,A)}}])&&s_(e.prototype,n),i}(Il);function ky(t){return ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ky(t)}function p_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||function(n,r){if(n){if(typeof n=="string")return lb(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return lb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function lb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ty(){return Ty=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ty.apply(this,arguments)}function h_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dy(t,e){return Dy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Dy(t,e)}function y_(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Bp(t);if(e){var i=Bp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v_(this,n)}}function v_(t,e){if(e&&(ky(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Bp(t){return Bp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Bp(t)}var My=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&Dy(o,c)})(i,t);var e,n,r=y_(i);function i(){return h_(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getEdge",value:function(){var o=this.props.model,c=o.getEdgeStyle(),l=o.path,p=o.isAnimation,O=o.arrowConfig,w=o.getEdgeAnimationStyle(),A=w.strokeDasharray,D=w.stroke,F=w.strokeDashoffset,Z=w.animationName,te=w.animationDuration,ye=w.animationIterationCount,ge=w.animationTimingFunction,we=w.animationDirection;return Object(le.g)(Ll,Ty({d:l},c,O,p?{strokeDasharray:A,stroke:D,style:{strokeDashoffset:F,animationName:Z,animationDuration:te,animationIterationCount:ye,animationTimingFunction:ge,animationDirection:we}}:{}))}},{key:"getAppendWidth",value:function(){var o=this.props.model.path;return Object(le.g)(Ll,{d:o,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var o=this.props.model,c=this.state.hover,l=o.isSelected,p=o.getArrowStyle().offset,O=o.pointsList.map(function(A){return{x:A.x,y:A.y}}),w=p_(Dc(O,p),2);return{start:w[0],end:w[1],hover:c,isSelected:l}}},{key:"getLastTwoPoints",value:function(){var o=this.props.model,c=o.getArrowStyle().offset,l=o.pointsList.map(function(p){return{x:p.x,y:p.y}});return Dc(l,c)}}])&&d_(e.prototype,n),i}(Il);function Ny(t){return Ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ny(t)}function fb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function g_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Cy(t,e){return Cy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Cy(t,e)}function O_(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Fp(t);if(e){var i=Fp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return __(this,n)}}function __(t,e){if(e&&(Ny(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Fp(t){return Fp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Fp(t)}var w_=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&Cy(o,c)})(i,t);var e,n,r=O_(i);function i(){return b_(this,i),r.apply(this,arguments)}return e=i,n=[{key:"getArrowAttributes",value:function(){var o=this.props,c=o.arrowInfo,l=o.style,p=c.start,O=c.end,w={start:p,end:O,offset:l.offset,verticalLength:l.verticalLength,type:"end"},A=yu(w),D=A.leftX,F=A.leftY,Z=A.rightX,te=A.rightY;return function(ye){for(var ge=1;ge<arguments.length;ge++){var we=arguments[ge]!=null?arguments[ge]:{};ge%2?fb(Object(we),!0).forEach(function(Ce){g_(ye,Ce,we[Ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ye,Object.getOwnPropertyDescriptors(we)):fb(Object(we)).forEach(function(Ce){Object.defineProperty(ye,Ce,Object.getOwnPropertyDescriptor(we,Ce))})}return ye}({d:"M".concat(D," ").concat(F," L").concat(O.x," ").concat(O.y," L").concat(Z," ").concat(te," z")},l)}},{key:"getShape",value:function(){var o=this.getArrowAttributes(),c=o.d,l=o.strokeWidth,p=o.stroke,O=o.fill;return Object(le.g)(Ll,{d:c,fill:O,strokeWidth:l,stroke:p})}},{key:"render",value:function(){return Object(le.g)("g",{className:"lf-arrow"},this.getShape())}}],n&&m_(e.prototype,n),i}(le.a),pb=function(t,e){return xe(t,e)},x_=function(t){var e=t==null?0:t.length;return e?t[e-1]:void 0},Ry=function(){return st.a.Date.now()},E_=/\s/,j_=function(t){for(var e=t.length;e--&&E_.test(t.charAt(e)););return e},S_=/^\s+/,P_=function(t){return t&&t.slice(0,j_(t)+1).replace(S_,"")},A_=/^[-+]0x[0-9a-f]+$/i,k_=/^0b[01]+$/i,T_=/^0o[0-7]+$/i,D_=parseInt,hb=function(t){if(typeof t=="number")return t;if(Lt(t))return NaN;if(jn(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=jn(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=P_(t);var n=k_.test(t);return n||T_.test(t)?D_(t.slice(2),n?2:8):A_.test(t)?NaN:+t},M_=Math.max,N_=Math.min,C_=function(t,e,n){var r,i,o,c,l,p,O=0,w=!1,A=!1,D=!0;if(typeof t!="function")throw new TypeError("Expected a function");function F(Ce){var $e=r,Je=i;return r=i=void 0,O=Ce,c=t.apply(Je,$e)}function Z(Ce){return O=Ce,l=setTimeout(ye,e),w?F(Ce):c}function te(Ce){var $e=Ce-p;return p===void 0||$e>=e||$e<0||A&&Ce-O>=o}function ye(){var Ce=Ry();if(te(Ce))return ge(Ce);l=setTimeout(ye,function($e){var Je=e-($e-p);return A?N_(Je,o-($e-O)):Je}(Ce))}function ge(Ce){return l=void 0,D&&r?F(Ce):(r=i=void 0,c)}function we(){var Ce=Ry(),$e=te(Ce);if(r=arguments,i=this,p=Ce,$e){if(l===void 0)return Z(p);if(A)return clearTimeout(l),l=setTimeout(ye,e),F(p)}return l===void 0&&(l=setTimeout(ye,e)),c}return e=hb(e)||0,jn(n)&&(w=!!n.leading,o=(A="maxWait"in n)?M_(hb(n.maxWait)||0,e):o,D="trailing"in n?!!n.trailing:D),we.cancel=function(){l!==void 0&&clearTimeout(l),O=0,r=p=i=l=void 0},we.flush=function(){return l===void 0?c:ge(Ry())},we},R_=u(172);function I_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ma(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var db,yb,vb,L_=function(){function t(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,t),Ma(this,"undos",[]),Ma(this,"redos",[]),Ma(this,"callbacks",[]),Ma(this,"stopWatch",null),Ma(this,"curData",null),Ma(this,"maxSize",50),Ma(this,"waitTime",100),Ma(this,"eventCenter",void 0),this.eventCenter=r}var e,n;return e=t,(n=[{key:"add",value:function(r){pb(x_(this.undos),r)||(this.undos.push(r),pb(this.curData,r)||(this.redos=[]),this.eventCenter.emit(lt.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var r=this.undos.pop();this.redos.push(r);var i=this.undos.pop();return this.curData=wn(i),i}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var r=this.redos.pop();return this.curData=wn(r),r}}},{key:"watch",value:function(r){var i=this;this.stopWatch&&this.stopWatch(),this.undos.push(r.modelToGraphData()),this.stopWatch=Object(R_.a)(r,C_(function(){var o=r.modelToHistoryData();o&&i.add(o)},this.waitTime))}}])&&I_(e.prototype,n),t}();function Iy(t){return Iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iy(t)}function z_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||function(n,r){if(n){if(typeof n=="string")return gb(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return gb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function gb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bb(Object(n),!0).forEach(function(r){Du(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ly(t,e){return Ly=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ly(t,e)}function B_(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Up(t);if(e){var i=Up(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return F_(this,n)}}function F_(t,e){if(e&&(Iy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jc(t)}function Jc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Up(t){return Up=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Up(t)}function Du(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ob,_b,wb,zy=Qo((vb=yb=function(t){(function(c,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(l&&l.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),l&&Ly(c,l)})(o,t);var e,n,r,i=B_(o);function o(){var c;return function(l,p){if(!(l instanceof p))throw new TypeError("Cannot call a class as a function")}(this,o),Du(Jc(c=i.call(this)),"ref",Object(le.f)()),Du(Jc(c),"__prevText",{type:"",text:"",id:""}),Du(Jc(c),"keyupHandler",function(l){var p=c.props.graphModel.textEditElement;l.key==="Enter"&&l.altKey&&p.setElementState(0)}),Du(Jc(c),"inputHandler",function(l){var p=l.target.innerText,O=c.props.graphModel.textEditElement;c.__prevText={type:O.type,text:p.replace(/(\r\n)+$|(\n)+$/,""),id:O.id}}),Du(Jc(c),"keydownHandler",function(l){l.stopPropagation()}),c.state={style:{left:0,top:0}},c}return e=o,r=[{key:"getDerivedStateFromProps",value:function(c){var l,p=c.graphModel,O=p.transformModel,w=p.theme,A=w.inputText,D=p.textEditElement;if(D){var F;if((F=D.text)===null||F===void 0||!F.value)if(D.BaseType===Fn.EDGE){var Z=(D=D).text,te=D.textPosition,ye=te.x,ge=te.y;Z.x=ye,Z.y=ge,D.setText(Z)}else D=D;var we={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(D.BaseType===Fn.EDGE){var Ce=w.edgeText,$e=Ce.overflowMode,Je=Ce.lineHeight,bt=Ce.wrapPadding,Ze=Ce.textWidth;Ze&&$e==="autoWrap"&&(l=Tu(Tu({},we),{},{width:Ze,minWidth:Ze,lineHeight:Je,padding:bt}))}else if(D.BaseType===Fn.NODE){var ft=w.nodeText,et=ft.overflowMode,Vt=ft.lineHeight,qt=ft.wrapPadding,Tt=ft.textWidth,nn=D,Un=nn.width,Xn=nn.modelType,jr=nn.textWidth||Tt||Un;(Xn!==Gt.TEXT_NODE&&et==="autoWrap"||Xn===Gt.TEXT_NODE&&Tt)&&(l=Tu(Tu({},we),{},{width:jr,minWidth:jr,lineHeight:Vt,padding:qt}))}var fo=D.text,po=fo.x,wi=fo.y,Mu=z_(O.CanvasPointToHtmlPoint([po,wi]),2);return{style:Tu(Tu({left:Mu[0],top:Mu[1]},l),A)}}}}],(n=[{key:"componentDidUpdate",value:function(){var c=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var l=this.__prevText,p=l.text,O=l.id;c.updateText(O,p),c.eventCenter.emit(lt.TEXT_UPDATE,Tu({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(c){if(window.getSelection!==void 0&&document.createRange!==void 0){var l=document.createRange();l.selectNodeContents(c),l.collapse(!1);var p=window.getSelection();p.removeAllRanges(),p.addRange(l)}}},{key:"render",value:function(){var c,l=this.props.graphModel.textEditElement,p=this.state.style;return l?Object(le.g)("div",{contentEditable:!0,className:"lf-text-input",style:p,ref:this.ref,key:l.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler},(c=l.text)===null||c===void 0?void 0:c.value):null}}])&&mb(e.prototype,n),r&&mb(e,r),o}(le.a),Du(yb,"toolName","textEdit"),db=vb))||db,U_=function(t){return t.modelType===Gt.LINE_EDGE?function(e){var n=e.startPoint,r=e.endPoint,i=(n.x+r.x)/2,o=(n.y+r.y)/2,c=Math.abs(n.x-r.x)+10,l=Math.abs(n.y-r.y)+10;return{x:i-c/2,y:o-l/2,x1:i+c/2,y1:o+l/2}}(t):t.modelType===Gt.POLYLINE_EDGE?function(e){var n=e.points,r=di(n),i=Ea(r,8),o=i.x,c=i.y,l=i.width,p=i.height;return{x:o-l/2,y:c-p/2,x1:o+l/2,y1:c+p/2}}(t):t.modelType===Gt.BEZIER_EDGE?function(e){var n=e.path,r=Tc(n),i=Ea(r,8),o=i.x,c=i.y,l=i.width,p=i.height;return{x:o-l/2,y:c-p/2,x1:o+l/2,y1:c+p/2}}(t):void 0};function By(t){return By=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},By(t)}function xb(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||Eb(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function X_(t){return function(e){if(Array.isArray(e))return Fy(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Eb(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Eb(t,e){if(t){if(typeof t=="string")return Fy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fy(t,e):void 0}}function Fy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function H_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Uy(t,e){return Uy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Uy(t,e)}function G_(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Xp(t);if(e){var i=Xp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Y_(this,n)}}function Y_(t,e){if(e&&(By(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zl(t)}function zl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xp(t){return Xp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Xp(t)}function Bl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Xy=Qo((wb=_b=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&Uy(o,c)})(i,t);var e,n,r=G_(i);function i(o){var c;(function(w,A){if(!(w instanceof A))throw new TypeError("Cannot call a class as a function")})(this,i),Bl(zl(c=r.call(this)),"stepDrag",void 0),Bl(zl(c),"handleMouseDown",function(w){c.stepDrag.handleMouseDown(w)}),Bl(zl(c),"onDragging",function(w){var A=w.deltaX,D=w.deltaY,F=c.props.graphModel,Z=F.getSelectElements(!0);F.moveNodes(Z.nodes.map(function(te){return te.id}),A,D)}),Bl(zl(c),"handleContextMenu",function(w){w.preventDefault();var A=c.props,D=A.graphModel,F=A.graphModel,Z=F.eventCenter,te=F.selectElements,ye=D.getPointByClient({x:w.clientX,y:w.clientY}),ge={nodes:[],edges:[]};X_(te.values()).forEach(function(we){we.BaseType===Fn.NODE&&ge.nodes.push(we.getData()),we.BaseType===Fn.EDGE&&ge.edges.push(we.getData())}),Z.emit(lt.SELECTION_CONTEXTMENU,{data:ge,e:w,position:ye})});var l=o.graphModel,p=l.gridSize,O=l.eventCenter;return c.stepDrag=new ao({onDragging:c.onDragging,step:p,eventType:"SELECTION",eventCenter:O}),c}return e=i,(n=[{key:"render",value:function(){var o=this.props.graphModel,c=o.selectElements,l=o.transformModel;if(!(c.size<=1)){var p=Number.MAX_SAFE_INTEGER,O=Number.MAX_SAFE_INTEGER,w=Number.MIN_SAFE_INTEGER,A=Number.MIN_SAFE_INTEGER;c.forEach(function(te){var ye={x:0,y:0,x1:0,y1:0};te.BaseType===Fn.NODE&&(ye=function(ge){var we=ge.x,Ce=ge.y,$e=ge.width,Je=ge.height;return{x:we-$e/2,y:Ce-Je/2,x1:we+$e/2,y1:Ce+Je/2}}(te)),te.BaseType===Fn.EDGE&&(ye=U_(te)),p=Math.min(p,ye.x),O=Math.min(O,ye.y),w=Math.max(w,ye.x1),A=Math.max(A,ye.y1)});var D=xb(l.CanvasPointToHtmlPoint([p,O]),2);p=D[0],O=D[1];var F=xb(l.CanvasPointToHtmlPoint([w,A]),2);w=F[0],A=F[1];var Z={left:"".concat(p-10,"px"),top:"".concat(O-10,"px"),width:"".concat(w-p+20,"px"),height:"".concat(A-O+20,"px")};return Object(le.g)("div",{className:"lf-multiple-select",style:Z,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}])&&H_(e.prototype,n),i}(le.a),Bl(_b,"toolName","multipleSelect"),Ob=wb))||Ob;function W_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var V_=function(){function t(r){(function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),Hp(this,"tools",void 0),Hp(this,"components",void 0),Hp(this,"toolMap",new Map),Hp(this,"instance",void 0),this.instance=r,this.isDisabledTool(zy.toolName)||this.registerTool(zy.toolName,zy),this.isDisabledTool(Xy.toolName)||this.registerTool(Xy.toolName,Xy);var i=r.graphModel;i.eventCenter.on("".concat(lt.GRAPH_TRANSFORM,",").concat(lt.NODE_CLICK,",").concat(lt.BLANK_CLICK," "),function(){var o=i.textEditElement,c=i.editConfigModel,l=c.edgeTextEdit,p=c.nodeTextEdit;(l||p)&&o&&i.textEditElement.setElementState(un.DEFAULT)})}var e,n;return e=t,(n=[{key:"isDisabledTool",value:function(r){return this.instance.options.disabledTools.indexOf(r)!==-1}},{key:"registerTool",value:function(r,i){this.toolMap.set(r,i)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&W_(e.prototype,n),t}(),$_=u(173),K_=u.n($_);function Z_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hy(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var jb=function(){function t(r){(function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),Hy(this,"mousetrap",void 0),Hy(this,"options",void 0),Hy(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var i=r.lf;this.target=i.container,this.mousetrap=new K_.a(this.target),r.keyboard.enabled&&this.enable(!0)}var e,n;return e=t,(n=[{key:"initShortcuts",value:function(){var r=this,i=this.options.keyboard.shortcuts;if(i)if(dn(i))i.forEach(function(p){var O=p.keys,w=p.callback,A=p.action;return r.on(O,w,A)});else{var o=i.keys,c=i.callback,l=i.action;this.on(o,c,l)}}},{key:"on",value:function(r,i,o){this.mousetrap.bind(this.getKeys(r),i,o)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(r,i){this.mousetrap.unbind(this.getKeys(r),i)}},{key:"enable",value:function(r){(this.disabled||r)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(r){var i=this;return(Array.isArray(r)?r:[r]).map(function(o){return i.formatKey(o)})}},{key:"formatKey",value:function(r){return r.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&Z_(e.prototype,n),t}(),q_=jb,$i=null;function Sb(t,e){return t.x+=e,t.y+=e,t.text&&(t.text.x+=e,t.text.y+=e),t}function Pb(t,e){return t.startPoint&&(t.startPoint.x+=e,t.startPoint.y+=e),t.endPoint&&(t.endPoint.x+=e,t.endPoint.y+=e),t.pointsList&&t.pointsList.length>0&&t.pointsList.forEach(function(n){n.x+=e,n.y+=e}),t.text&&(t.text.x+=e,t.text.y+=e),t}var Qc=40,Gy=40;function Yy(t){return Yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yy(t)}function Ab(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ab(Object(n),!0).forEach(function(r){Ln(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ab(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ln(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Wy=Symbol("plugin register by Logicflow.use"),Vy=function(){function t(i){var o,c,l=this;(function(p,O){if(!(p instanceof O))throw new TypeError("Cannot call a class as a function")})(this,t),Ln(this,"container",void 0),Ln(this,"width",void 0),Ln(this,"height",void 0),Ln(this,"graphModel",void 0),Ln(this,"history",void 0),Ln(this,"viewMap",new Map),Ln(this,"tool",void 0),Ln(this,"keyboard",void 0),Ln(this,"dnd",void 0),Ln(this,"options",void 0),Ln(this,"snaplineModel",void 0),Ln(this,"components",[]),Ln(this,"plugins",void 0),Ln(this,"extension",{}),Ln(this,"adapterIn",void 0),Ln(this,"adapterOut",void 0),Ln(this,"getView",function(p){return l.viewMap.get(p)}),i=Ev(i),this.options=i,this.container=this.initContainer(i.container),this.plugins=i.plugins,this.graphModel=new zc(Fl({},i)),this.tool=new V_(this),this.history=new L_(this.graphModel.eventCenter),this.dnd=new Wm({lf:this}),this.keyboard=new q_({lf:this,keyboard:i.keyboard}),i.snapline!==!1&&(this.snaplineModel=new zg(this.graphModel),o=this.graphModel.eventCenter,c=this.snaplineModel,o.on("node:mousemove",function(p){var O=p.data;c.setNodeSnapLine(O)}),o.on("node:mouseup",function(){c.clearSnapline()})),this.options.isSilentMode||(function(p,O){var w=p.keyboard,A=w.options.keyboard;w.on(["cmd + c","ctrl + c"],function(){if(Gy=Qc,!A.enabled||O.textEditElement)return!0;var D=p.options.guards,F=O.getSelectElements(!1);return D&&D.beforeClone&&!D.beforeClone(F)||F.nodes.length===0&&F.edges.length===0?($i=null,!0):(($i=F).nodes.forEach(function(Z){return Sb(Z,Qc)}),$i.edges.forEach(function(Z){return Pb(Z,Qc)}),!1)}),w.on(["cmd + v","ctrl + v"],function(){if(!A.enabled||O.textEditElement)return!0;if($i&&($i.nodes||$i.edges)){p.clearSelectElements();var D=p.addElements($i,Gy);if(!D)return!0;D.nodes.forEach(function(F){return p.selectElementById(F.id,!0)}),D.edges.forEach(function(F){return p.selectElementById(F.id,!0)}),$i.nodes.forEach(function(F){return Sb(F,Qc)}),$i.edges.forEach(function(F){return Pb(F,Qc)}),Gy+=Qc}return!1}),w.on(["cmd + z","ctrl + z"],function(){return!A.enabled||!!O.textEditElement||(p.undo(),!1)}),w.on(["cmd + y","ctrl + y"],function(){return!A.enabled||!!O.textEditElement||(p.redo(),!1)}),w.on(["backspace"],function(){if(!A.enabled||O.textEditElement)return!0;var D=O.getSelectElements(!0);return p.clearSelectElements(),D.edges.forEach(function(F){return p.deleteEdge(F.id)}),D.nodes.forEach(function(F){return p.deleteNode(F.id)}),!1})}(this,this.graphModel),this.keyboard.initShortcuts()),this.defaultRegister(),this.installPlugins(i.disabledPlugins)}var e,n,r;return e=t,n=[{key:"register",value:function(i,o){var c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(typeof i=="string"){var l={BaseEdge:Il,BaseEdgeModel:Ys,BaseNode:Gi,BaseNodeModel:Hi,RectNode:zd,RectNodeModel:yd,CircleNode:Xd,CircleNodeModel:Zh,PolygonNode:Vd,PolygonNodeModel:fd,TextNode:iy,TextNodeModel:md,LineEdge:xy,LineEdgeModel:Ci,DiamondNode:qd,DiamondNodeModel:td,PolylineEdge:Ay,PolylineEdgeModel:Sc,BezierEdge:My,BezierEdgeModel:Gh,EllipseNode:ny,EllipseNodeModel:id,HtmlNode:sy,HtmlNodeModel:wd,h:le.g,type:i};this.viewMap.forEach(function(D){var F=D.extendKey;F&&(l[F]=D)}),this.graphModel.modelMap.forEach(function(D){var F=D.extendKey;F&&(l[F]=D)});var p=o(l),O=p.view,w=p.model,A=O;c&&!A.isObervered&&(A.isObervered=!0,A=at(A)),this.setView(i,A),this.graphModel.setModel(i,w)}else this.registerElement(i)}},{key:"registerElement",value:function(i){var o=i.view;i.isObserverView===!1||o.isObervered||(o.isObervered=!0,o=at(o)),this.setView(i.type,o),this.graphModel.setModel(i.type,i.model)}},{key:"batchRegister",value:function(){var i=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];o.forEach(function(c){i.registerElement(c)})}},{key:"defaultRegister",value:function(){this.registerElement({view:zd,model:yd,type:"rect"}),this.registerElement({type:"circle",view:Xd,model:Zh}),this.registerElement({type:"polygon",view:Vd,model:fd}),this.registerElement({type:"line",view:xy,model:Ci}),this.registerElement({type:"polyline",view:Ay,model:Sc}),this.registerElement({type:"bezier",view:My,model:Gh}),this.registerElement({type:"text",view:iy,model:md}),this.registerElement({type:"ellipse",view:ny,model:id}),this.registerElement({type:"diamond",view:qd,model:td}),this.registerElement({type:"html",view:sy,model:wd})}},{key:"selectElementById",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1],c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];this.graphModel.selectElementById(i,o),!o&&c&&this.graphModel.toFront(i)}},{key:"focusOn",value:function(i){var o=this.graphModel.transformModel,c=i.coordinate,l=i.id;if(!c){var p=this.getNodeModelById(l);p&&(c=p.getData());var O=this.getEdgeModelById(l);O&&(c=O.textPosition)}var w=c,A=w.x,D=w.y;o.focusOn(A,D,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(i){this.graphModel.setTheme(i)}},{key:"resize",value:function(i,o){this.graphModel.resize(i,o),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(i){this.graphModel.setDefaultEdgeType(i)}},{key:"updateText",value:function(i,o){this.graphModel.updateText(i,o)}},{key:"deleteElement",value:function(i){var o,c,l,p=this.getModelById(i);return!!p&&(c=(l=(Ln(o={},Fn.NODE,this.deleteNode),Ln(o,Fn.EDGE,this.deleteEdge),o)[p.BaseType])===null||l===void 0?void 0:l.call(this,i))!==null&&c!==void 0&&c}},{key:"getModelById",value:function(i){return this.graphModel.getElement(i)}},{key:"getDataById",value:function(i){var o;return(o=this.graphModel.getElement(i))===null||o===void 0?void 0:o.getData()}},{key:"changeNodeType",value:function(i,o){this.graphModel.changeNodeType(i,o)}},{key:"changeEdgeType",value:function(i,o){this.graphModel.changeEdgeType(i,o)}},{key:"getNodeEdges",value:function(i){return this.graphModel.getNodeEdges(i)}},{key:"addNode",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:lt.NODE_ADD,c=arguments.length>2?arguments[2]:void 0;return this.graphModel.addNode(i,o,c)}},{key:"deleteNode",value:function(i){var o=this.graphModel.getNodeModelById(i);if(!o)return!1;var c=o.getData(),l=this.options.guards,p=!l||!l.beforeDelete||l.beforeDelete(c);return p&&this.graphModel.deleteNode(i),p}},{key:"cloneNode",value:function(i){var o=this.graphModel.getNodeModelById(i).getData(),c=this.options.guards;if(!c||!c.beforeClone||c.beforeClone(o))return this.graphModel.cloneNode(i)}},{key:"changeNodeId",value:function(i,o){return this.graphModel.changeNodeId(i,o)}},{key:"getNodeModelById",value:function(i){return this.graphModel.getNodeModelById(i)}},{key:"getNodeDataById",value:function(i){var o;return(o=this.graphModel.getNodeModelById(i))===null||o===void 0?void 0:o.getData()}},{key:"addEdge",value:function(i){return this.graphModel.addEdge(i)}},{key:"deleteEdge",value:function(i){var o=this.options.guards,c=this.graphModel.edgesMap[i];if(!c)return!1;var l=c.model.getData(),p=!o||!o.beforeDelete||o.beforeDelete(l);return p&&this.graphModel.deleteEdgeById(i),p}},{key:"deleteEdgeByNodeId",value:function(i){var o=i.sourceNodeId,c=i.targetNodeId;o&&c?this.graphModel.deleteEdgeBySourceAndTarget(o,c):o?this.graphModel.deleteEdgeBySource(o):c&&this.graphModel.deleteEdgeByTarget(c)}},{key:"changeEdgeId",value:function(i,o){return this.graphModel.changeEdgeId(i,o)}},{key:"getEdgeModelById",value:function(i){var o;return(o=this.graphModel.edgesMap[i])===null||o===void 0?void 0:o.model}},{key:"getEdgeModels",value:function(i){var o=this.graphModel.edges,c=i.sourceNodeId,l=i.targetNodeId;if(c&&l){var p=[];return o.forEach(function(A){A.sourceNodeId===c&&A.targetNodeId===l&&p.push(A)}),p}if(c){var O=[];return o.forEach(function(A){A.sourceNodeId===c&&O.push(A)}),O}if(l){var w=[];return o.forEach(function(A){A.targetNodeId===l&&w.push(A)}),w}return[]}},{key:"getEdgeDataById",value:function(i){var o;return(o=this.getEdgeModelById(i))===null||o===void 0?void 0:o.getData()}},{key:"getNodeIncomingEdge",value:function(i){return this.graphModel.getNodeIncomingEdge(i)}},{key:"getNodeOutgoingEdge",value:function(i){return this.graphModel.getNodeOutgoingEdge(i)}},{key:"getNodeIncomingNode",value:function(i){return this.graphModel.getNodeIncomingNode(i)}},{key:"getNodeOutgoingNode",value:function(i){return this.graphModel.getNodeOutgoingNode(i)}},{key:"editText",value:function(i){this.graphModel.editText(i)}},{key:"setProperties",value:function(i,o){var c;(c=this.graphModel.getElement(i))===null||c===void 0||c.setProperties(bn(o))}},{key:"deleteProperty",value:function(i,o){var c;(c=this.graphModel.getElement(i))===null||c===void 0||c.deleteProperty(o)}},{key:"getProperties",value:function(i){var o;return(o=this.graphModel.getElement(i))===null||o===void 0?void 0:o.getProperties()}},{key:"toFront",value:function(i){this.graphModel.toFront(i)}},{key:"setElementZIndex",value:function(i,o){return this.graphModel.setElementZIndex(i,o)}},{key:"addElements",value:function(i){for(var o=this,c=i.nodes,l=i.edges,p={},O={nodes:[],edges:[]},w=0;w<c.length;w++){var A=c[w],D=A.id,F=this.addNode(A);if(!F)return;D&&(p[D]=F.id),O.nodes.push(F)}return l.forEach(function(Z){var te=Z.sourceNodeId,ye=Z.targetNodeId;p[te]&&(te=p[te]),p[ye]&&(ye=p[ye]);var ge=o.graphModel.addEdge(Fl(Fl({},Z),{},{sourceNodeId:te,targetNodeId:ye}));O.edges.push(ge)}),O}},{key:"getAreaElement",value:function(i,o){var c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],l=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],p=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return this.graphModel.getAreaElement(i,o,c,l,p).map(function(O){return O.getData()})}},{key:"getSelectElements",value:function(){var i=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.graphModel.getSelectElements(i)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var i=this.graphModel.modelToGraphData();if(this.adapterOut){for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];return this.adapterOut.apply(this,[i].concat(c))}return i}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(i){this.graphModel.editConfigModel.updateEditConfig(i)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(i,o){return this.graphModel.getPointByClient({x:i,y:o})}},{key:"undo",value:function(){if(this.history.undoAble()){var i=bn(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(i)}}},{key:"redo",value:function(){if(this.history.redoAble()){var i=bn(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(i)}}},{key:"zoom",value:function(i,o){return this.graphModel.transformModel.zoom(i,o)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(i){this.graphModel.transformModel.setZoomMiniSize(i)}},{key:"setZoomMaxSize",value:function(i){this.graphModel.transformModel.setZoomMaxSize(i)}},{key:"getTransform",value:function(){var i=this.graphModel.transformModel;return{SCALE_X:i.SCALE_X,SCALE_Y:i.SCALE_Y,TRANSLATE_X:i.TRANSLATE_X,TRANSLATE_Y:i.TRANSLATE_Y}}},{key:"translate",value:function(i,o){this.graphModel.transformModel.translate(i,o)}},{key:"resetTranslate",value:function(){var i=this.graphModel.transformModel,o=i.TRANSLATE_X,c=i.TRANSLATE_Y;this.translate(-o,-c)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(i,o){o===void 0&&(o=i),this.graphModel.fitView(i,o)}},{key:"openEdgeAnimation",value:function(i){this.graphModel.openEdgeAnimation(i)}},{key:"closeEdgeAnimation",value:function(i){this.graphModel.closeEdgeAnimation(i)}},{key:"on",value:function(i,o){this.graphModel.eventCenter.on(i,o)}},{key:"off",value:function(i,o){this.graphModel.eventCenter.off(i,o)}},{key:"once",value:function(i,o){this.graphModel.eventCenter.once(i,o)}},{key:"emit",value:function(i,o){this.graphModel.eventCenter.emit(i,o)}},{key:"initContainer",value:function(i){var o=document.createElement("div");return o.style.position="relative",o.style.width="100%",o.style.height="100%",i.innerHTML="",i.appendChild(o),o}},{key:"installPlugins",value:function(){var i,o=this,c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=(i=this.plugins)!==null&&i!==void 0?i:t.extensions;l.forEach(function(p){var O=null,w=null;p[Wy]?(O=p.extension,w=p.props):O=p;var A=O.pluginName||O.name;c.indexOf(A)===-1&&o.installPlugin(O,w)})}},{key:"installPlugin",value:function(i,o){if(Yy(i)==="object"){var c=i.install,l=i.render;return c&&c.call(i,this,t),l&&this.components.push(l.bind(i)),void(this.extension[i.pluginName]=i)}var p=i,O=new p({lf:this,LogicFlow:t,options:this.options.pluginsOptions,props:o});O.render&&this.components.push(O.render.bind(O)),this.extension[p.pluginName]=O}},{key:"updateAttributes",value:function(i,o){this.graphModel.updateAttributes(i,o)}},{key:"createFakerNode",value:function(i){var o=this.graphModel.modelMap.get(i.type);if(o){var c=new o(Fl(Fl({},i),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(c),c}}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(i){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(i)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(i,o){this.viewMap.set(i,o)}},{key:"renderRawData",value:function(i){this.graphModel.graphDataToModel(bn(i)),this.options.history!==!1&&this.history.watch(this.graphModel),Object(le.j)(Object(le.g)(Gm,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(lt.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(i=this.adapterIn(i)),this.renderRawData(i)}}],r=[{key:"use",value:function(i,o){var c,l,p=i.pluginName;p||(p=i.name);var O=(c=this.extensions.get(p))===null||c===void 0?void 0:c.extension;O&&O.destroy&&O.destroy(),this.extensions.set(p,(Ln(l={},Wy,Wy),Ln(l,"extension",i),Ln(l,"props",o),l))}}],n&&kb(e.prototype,n),r&&kb(e,r),t}();function Qo(t){return at(t)}Ln(Vy,"extensions",new Map),b.default=Vy}])})})(t1,t1.exports);var gw=t1.exports;const Sx=vw(gw);var n1={exports:{}};(function(P,j){(function(h,b){P.exports=b()})(window,function(){return function(h){var b={};function u(d){if(b[d])return b[d].exports;var f=b[d]={i:d,l:!1,exports:{}};return h[d].call(f.exports,f,f.exports,u),f.l=!0,f.exports}return u.m=h,u.c=b,u.d=function(d,f,_){u.o(d,f)||Object.defineProperty(d,f,{enumerable:!0,get:_})},u.r=function(d){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},u.t=function(d,f){if(1&f&&(d=u(d)),8&f||4&f&&typeof d=="object"&&d&&d.__esModule)return d;var _=Object.create(null);if(u.r(_),Object.defineProperty(_,"default",{enumerable:!0,value:d}),2&f&&typeof d!="string")for(var g in d)u.d(_,g,function(S){return d[S]}.bind(null,g));return _},u.n=function(d){var f=d&&d.__esModule?function(){return d.default}:function(){return d};return u.d(f,"a",f),f},u.o=function(d,f){return Object.prototype.hasOwnProperty.call(d,f)},u.p="",u(u.s=222)}([function(h,b,u){u.d(b,"a",function(){return se}),u.d(b,"b",function(){return he}),u.d(b,"c",function(){return Ke}),u.d(b,"d",function(){return vt}),u.d(b,"e",function(){return q}),u.d(b,"f",function(){return ce}),u.d(b,"g",function(){return q}),u.d(b,"h",function(){return Ye}),u.d(b,"i",function(){return f}),u.d(b,"j",function(){return mt}),u.d(b,"k",function(){return $});var d,f,_,g,S,T,M,I={},C=[],U=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function z(ue,oe){for(var de in oe)ue[de]=oe[de];return ue}function G(ue){var oe=ue.parentNode;oe&&oe.removeChild(ue)}function q(ue,oe,de){var De,Xe,Ie,Ot={};for(Ie in oe)Ie=="key"?De=oe[Ie]:Ie=="ref"?Xe=oe[Ie]:Ot[Ie]=oe[Ie];if(arguments.length>2&&(Ot.children=arguments.length>3?d.call(arguments,2):de),typeof ue=="function"&&ue.defaultProps!=null)for(Ie in ue.defaultProps)Ot[Ie]===void 0&&(Ot[Ie]=ue.defaultProps[Ie]);return J(ue,Ot,De,Xe,null)}function J(ue,oe,de,De,Xe){var Ie={type:ue,props:oe,key:de,ref:De,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:Xe??++_};return Xe==null&&f.vnode!=null&&f.vnode(Ie),Ie}function ce(){return{current:null}}function he(ue){return ue.children}function se(ue,oe){this.props=ue,this.context=oe}function Q(ue,oe){if(oe==null)return ue.__?Q(ue.__,ue.__.__k.indexOf(ue)+1):null;for(var de;oe<ue.__k.length;oe++)if((de=ue.__k[oe])!=null&&de.__e!=null)return de.__e;return typeof ue.type=="function"?Q(ue):null}function re(ue){var oe,de;if((ue=ue.__)!=null&&ue.__c!=null){for(ue.__e=ue.__c.base=null,oe=0;oe<ue.__k.length;oe++)if((de=ue.__k[oe])!=null&&de.__e!=null){ue.__e=ue.__c.base=de.__e;break}return re(ue)}}function W(ue){(!ue.__d&&(ue.__d=!0)&&g.push(ue)&&!L.__r++||T!==f.debounceRendering)&&((T=f.debounceRendering)||S)(L)}function L(){for(var ue;L.__r=g.length;)ue=g.sort(function(oe,de){return oe.__v.__b-de.__v.__b}),g=[],ue.some(function(oe){var de,De,Xe,Ie,Ot,Pt;oe.__d&&(Ot=(Ie=(de=oe).__v).__e,(Pt=de.__P)&&(De=[],(Xe=z({},Ie)).__v=Ie.__v+1,je(Pt,Ie,Xe,de.__n,Pt.ownerSVGElement!==void 0,Ie.__h!=null?[Ot]:null,De,Ot??Q(Ie),Ie.__h),ve(De,Ie),Ie.__e!=Ot&&re(Ie)))})}function H(ue,oe,de,De,Xe,Ie,Ot,Pt,xt,ht){var ke,at,le,nt,Ct,rn,Rt,Kt=De&&De.__k||C,fn=Kt.length;for(de.__k=[],ke=0;ke<oe.length;ke++)if((nt=de.__k[ke]=(nt=oe[ke])==null||typeof nt=="boolean"?null:typeof nt=="string"||typeof nt=="number"||typeof nt=="bigint"?J(null,nt,null,null,nt):Array.isArray(nt)?J(he,{children:nt},null,null,null):nt.__b>0?J(nt.type,nt.props,nt.key,null,nt.__v):nt)!=null){if(nt.__=de,nt.__b=de.__b+1,(le=Kt[ke])===null||le&&nt.key==le.key&&nt.type===le.type)Kt[ke]=void 0;else for(at=0;at<fn;at++){if((le=Kt[at])&&nt.key==le.key&&nt.type===le.type){Kt[at]=void 0;break}le=null}je(ue,nt,le=le||I,Xe,Ie,Ot,Pt,xt,ht),Ct=nt.__e,(at=nt.ref)&&le.ref!=at&&(Rt||(Rt=[]),le.ref&&Rt.push(le.ref,null,nt),Rt.push(at,nt.__c||Ct,nt)),Ct!=null?(rn==null&&(rn=Ct),typeof nt.type=="function"&&nt.__k===le.__k?nt.__d=xt=X(nt,xt,ue):xt=ie(ue,nt,le,Kt,Ct,xt),typeof de.type=="function"&&(de.__d=xt)):xt&&le.__e==xt&&xt.parentNode!=ue&&(xt=Q(le))}for(de.__e=rn,ke=fn;ke--;)Kt[ke]!=null&&(typeof de.type=="function"&&Kt[ke].__e!=null&&Kt[ke].__e==de.__d&&(de.__d=Q(De,ke+1)),Fe(Kt[ke],Kt[ke]));if(Rt)for(ke=0;ke<Rt.length;ke++)Ae(Rt[ke],Rt[++ke],Rt[++ke])}function X(ue,oe,de){for(var De,Xe=ue.__k,Ie=0;Xe&&Ie<Xe.length;Ie++)(De=Xe[Ie])&&(De.__=ue,oe=typeof De.type=="function"?X(De,oe,de):ie(de,De,De,Xe,De.__e,oe));return oe}function $(ue,oe){return oe=oe||[],ue==null||typeof ue=="boolean"||(Array.isArray(ue)?ue.some(function(de){$(de,oe)}):oe.push(ue)),oe}function ie(ue,oe,de,De,Xe,Ie){var Ot,Pt,xt;if(oe.__d!==void 0)Ot=oe.__d,oe.__d=void 0;else if(de==null||Xe!=Ie||Xe.parentNode==null)e:if(Ie==null||Ie.parentNode!==ue)ue.appendChild(Xe),Ot=null;else{for(Pt=Ie,xt=0;(Pt=Pt.nextSibling)&&xt<De.length;xt+=2)if(Pt==Xe)break e;ue.insertBefore(Xe,Ie),Ot=Ie}return Ot!==void 0?Ot:Xe.nextSibling}function Ee(ue,oe,de){oe[0]==="-"?ue.setProperty(oe,de):ue[oe]=de==null?"":typeof de!="number"||U.test(oe)?de:de+"px"}function be(ue,oe,de,De,Xe){var Ie;e:if(oe==="style")if(typeof de=="string")ue.style.cssText=de;else{if(typeof De=="string"&&(ue.style.cssText=De=""),De)for(oe in De)de&&oe in de||Ee(ue.style,oe,"");if(de)for(oe in de)De&&de[oe]===De[oe]||Ee(ue.style,oe,de[oe])}else if(oe[0]==="o"&&oe[1]==="n")Ie=oe!==(oe=oe.replace(/Capture$/,"")),oe=oe.toLowerCase()in ue?oe.toLowerCase().slice(2):oe.slice(2),ue.l||(ue.l={}),ue.l[oe+Ie]=de,de?De||ue.addEventListener(oe,Ie?ze:Pe,Ie):ue.removeEventListener(oe,Ie?ze:Pe,Ie);else if(oe!=="dangerouslySetInnerHTML"){if(Xe)oe=oe.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(oe!=="href"&&oe!=="list"&&oe!=="form"&&oe!=="tabIndex"&&oe!=="download"&&oe in ue)try{ue[oe]=de??"";break e}catch{}typeof de=="function"||(de!=null&&(de!==!1||oe[0]==="a"&&oe[1]==="r")?ue.setAttribute(oe,de):ue.removeAttribute(oe))}}function Pe(ue){this.l[ue.type+!1](f.event?f.event(ue):ue)}function ze(ue){this.l[ue.type+!0](f.event?f.event(ue):ue)}function je(ue,oe,de,De,Xe,Ie,Ot,Pt,xt){var ht,ke,at,le,nt,Ct,rn,Rt,Kt,fn,mn,Dt=oe.type;if(oe.constructor!==void 0)return null;de.__h!=null&&(xt=de.__h,Pt=oe.__e=de.__e,oe.__h=null,Ie=[Pt]),(ht=f.__b)&&ht(oe);try{e:if(typeof Dt=="function"){if(Rt=oe.props,Kt=(ht=Dt.contextType)&&De[ht.__c],fn=ht?Kt?Kt.props.value:ht.__:De,de.__c?rn=(ke=oe.__c=de.__c).__=ke.__E:("prototype"in Dt&&Dt.prototype.render?oe.__c=ke=new Dt(Rt,fn):(oe.__c=ke=new se(Rt,fn),ke.constructor=Dt,ke.render=tt),Kt&&Kt.sub(ke),ke.props=Rt,ke.state||(ke.state={}),ke.context=fn,ke.__n=De,at=ke.__d=!0,ke.__h=[]),ke.__s==null&&(ke.__s=ke.state),Dt.getDerivedStateFromProps!=null&&(ke.__s==ke.state&&(ke.__s=z({},ke.__s)),z(ke.__s,Dt.getDerivedStateFromProps(Rt,ke.__s))),le=ke.props,nt=ke.state,at)Dt.getDerivedStateFromProps==null&&ke.componentWillMount!=null&&ke.componentWillMount(),ke.componentDidMount!=null&&ke.__h.push(ke.componentDidMount);else{if(Dt.getDerivedStateFromProps==null&&Rt!==le&&ke.componentWillReceiveProps!=null&&ke.componentWillReceiveProps(Rt,fn),!ke.__e&&ke.shouldComponentUpdate!=null&&ke.shouldComponentUpdate(Rt,ke.__s,fn)===!1||oe.__v===de.__v){ke.props=Rt,ke.state=ke.__s,oe.__v!==de.__v&&(ke.__d=!1),ke.__v=oe,oe.__e=de.__e,oe.__k=de.__k,oe.__k.forEach(function(Mn){Mn&&(Mn.__=oe)}),ke.__h.length&&Ot.push(ke);break e}ke.componentWillUpdate!=null&&ke.componentWillUpdate(Rt,ke.__s,fn),ke.componentDidUpdate!=null&&ke.__h.push(function(){ke.componentDidUpdate(le,nt,Ct)})}ke.context=fn,ke.props=Rt,ke.state=ke.__s,(ht=f.__r)&&ht(oe),ke.__d=!1,ke.__v=oe,ke.__P=ue,ht=ke.render(ke.props,ke.state,ke.context),ke.state=ke.__s,ke.getChildContext!=null&&(De=z(z({},De),ke.getChildContext())),at||ke.getSnapshotBeforeUpdate==null||(Ct=ke.getSnapshotBeforeUpdate(le,nt)),mn=ht!=null&&ht.type===he&&ht.key==null?ht.props.children:ht,H(ue,Array.isArray(mn)?mn:[mn],oe,de,De,Xe,Ie,Ot,Pt,xt),ke.base=oe.__e,oe.__h=null,ke.__h.length&&Ot.push(ke),rn&&(ke.__E=ke.__=null),ke.__e=!1}else Ie==null&&oe.__v===de.__v?(oe.__k=de.__k,oe.__e=de.__e):oe.__e=Se(de.__e,oe,de,De,Xe,Ie,Ot,xt);(ht=f.diffed)&&ht(oe)}catch(Mn){oe.__v=null,(xt||Ie!=null)&&(oe.__e=Pt,oe.__h=!!xt,Ie[Ie.indexOf(Pt)]=null),f.__e(Mn,oe,de)}}function ve(ue,oe){f.__c&&f.__c(oe,ue),ue.some(function(de){try{ue=de.__h,de.__h=[],ue.some(function(De){De.call(de)})}catch(De){f.__e(De,de.__v)}})}function Se(ue,oe,de,De,Xe,Ie,Ot,Pt){var xt,ht,ke,at=de.props,le=oe.props,nt=oe.type,Ct=0;if(nt==="svg"&&(Xe=!0),Ie!=null){for(;Ct<Ie.length;Ct++)if((xt=Ie[Ct])&&"setAttribute"in xt==!!nt&&(nt?xt.localName===nt:xt.nodeType===3)){ue=xt,Ie[Ct]=null;break}}if(ue==null){if(nt===null)return document.createTextNode(le);ue=Xe?document.createElementNS("http://www.w3.org/2000/svg",nt):document.createElement(nt,le.is&&le),Ie=null,Pt=!1}if(nt===null)at===le||Pt&&ue.data===le||(ue.data=le);else{if(Ie=Ie&&d.call(ue.childNodes),ht=(at=de.props||I).dangerouslySetInnerHTML,ke=le.dangerouslySetInnerHTML,!Pt){if(Ie!=null)for(at={},Ct=0;Ct<ue.attributes.length;Ct++)at[ue.attributes[Ct].name]=ue.attributes[Ct].value;(ke||ht)&&(ke&&(ht&&ke.__html==ht.__html||ke.__html===ue.innerHTML)||(ue.innerHTML=ke&&ke.__html||""))}if(function(rn,Rt,Kt,fn,mn){var Dt;for(Dt in Kt)Dt==="children"||Dt==="key"||Dt in Rt||be(rn,Dt,null,Kt[Dt],fn);for(Dt in Rt)mn&&typeof Rt[Dt]!="function"||Dt==="children"||Dt==="key"||Dt==="value"||Dt==="checked"||Kt[Dt]===Rt[Dt]||be(rn,Dt,Rt[Dt],Kt[Dt],fn)}(ue,le,at,Xe,Pt),ke)oe.__k=[];else if(Ct=oe.props.children,H(ue,Array.isArray(Ct)?Ct:[Ct],oe,de,De,Xe&&nt!=="foreignObject",Ie,Ot,Ie?Ie[0]:de.__k&&Q(de,0),Pt),Ie!=null)for(Ct=Ie.length;Ct--;)Ie[Ct]!=null&&G(Ie[Ct]);Pt||("value"in le&&(Ct=le.value)!==void 0&&(Ct!==at.value||Ct!==ue.value||nt==="progress"&&!Ct)&&be(ue,"value",Ct,at.value,!1),"checked"in le&&(Ct=le.checked)!==void 0&&Ct!==ue.checked&&be(ue,"checked",Ct,at.checked,!1))}return ue}function Ae(ue,oe,de){try{typeof ue=="function"?ue(oe):ue.current=oe}catch(De){f.__e(De,de)}}function Fe(ue,oe,de){var De,Xe;if(f.unmount&&f.unmount(ue),(De=ue.ref)&&(De.current&&De.current!==ue.__e||Ae(De,null,oe)),(De=ue.__c)!=null){if(De.componentWillUnmount)try{De.componentWillUnmount()}catch(Ie){f.__e(Ie,oe)}De.base=De.__P=null}if(De=ue.__k)for(Xe=0;Xe<De.length;Xe++)De[Xe]&&Fe(De[Xe],oe,typeof ue.type!="function");de||ue.__e==null||G(ue.__e),ue.__e=ue.__d=void 0}function tt(ue,oe,de){return this.constructor(ue,de)}function mt(ue,oe,de){var De,Xe,Ie;f.__&&f.__(ue,oe),Xe=(De=typeof de=="function")?null:de&&de.__k||oe.__k,Ie=[],je(oe,ue=(!De&&de||oe).__k=q(he,null,[ue]),Xe||I,I,oe.ownerSVGElement!==void 0,!De&&de?[de]:Xe?null:oe.firstChild?d.call(oe.childNodes):null,Ie,!De&&de?de:Xe?Xe.__e:oe.firstChild,De),ve(Ie,ue)}function Ye(ue,oe){mt(ue,oe,Ye)}function Ke(ue,oe,de){var De,Xe,Ie,Ot=z({},ue.props);for(Ie in oe)Ie=="key"?De=oe[Ie]:Ie=="ref"?Xe=oe[Ie]:Ot[Ie]=oe[Ie];return arguments.length>2&&(Ot.children=arguments.length>3?d.call(arguments,2):de),J(ue.type,Ot,De||ue.key,Xe||ue.ref,null)}function vt(ue,oe){var de={__c:oe="__cC"+M++,__:ue,Consumer:function(De,Xe){return De.children(Xe)},Provider:function(De){var Xe,Ie;return this.getChildContext||(Xe=[],(Ie={})[oe]=this,this.getChildContext=function(){return Ie},this.shouldComponentUpdate=function(Ot){this.props.value!==Ot.value&&Xe.some(W)},this.sub=function(Ot){Xe.push(Ot);var Pt=Ot.componentWillUnmount;Ot.componentWillUnmount=function(){Xe.splice(Xe.indexOf(Ot),1),Pt&&Pt.call(Ot)}}),De.children}};return de.Provider.__=de.Consumer.contextType=de}d=C.slice,f={__e:function(ue,oe){for(var de,De,Xe;oe=oe.__;)if((de=oe.__c)&&!de.__)try{if((De=de.constructor)&&De.getDerivedStateFromError!=null&&(de.setState(De.getDerivedStateFromError(ue)),Xe=de.__d),de.componentDidCatch!=null&&(de.componentDidCatch(ue),Xe=de.__d),Xe)return de.__E=de}catch(Ie){ue=Ie}throw ue}},_=0,se.prototype.setState=function(ue,oe){var de;de=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=z({},this.state),typeof ue=="function"&&(ue=ue(z({},de),this.props)),ue&&z(de,ue),ue!=null&&this.__v&&(oe&&this.__h.push(oe),W(this))},se.prototype.forceUpdate=function(ue){this.__v&&(this.__e=!0,ue&&this.__h.push(ue),W(this))},se.prototype.render=he,g=[],S=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,L.__r=0,M=0},function(h,b,u){(function(d,f){u.d(b,"a",function(){return W}),u.d(b,"b",function(){return Qa}),u.d(b,"c",function(){return Wr}),u.d(b,"d",function(){return wt}),u.d(b,"e",function(){return Ve}),u.d(b,"f",function(){return We}),u.d(b,"g",function(){return gt}),u.d(b,"h",function(){return oo}),u.d(b,"i",function(){return mn}),u.d(b,"j",function(){return rt}),u.d(b,"k",function(){return vo}),u.d(b,"l",function(){return Ha}),u.d(b,"m",function(){return rn}),u.d(b,"n",function(){return ti}),u.d(b,"o",function(){return X}),u.d(b,"p",function(){return Yu}),u.d(b,"q",function(){return go}),u.d(b,"r",function(){return qi}),u.d(b,"s",function(){return zr}),u.d(b,"t",function(){return Tn}),u.d(b,"u",function(){return Zi}),u.d(b,"v",function(){return Gu}),u.d(b,"w",function(){return $a}),u.d(b,"x",function(){return ni}),u.d(b,"y",function(){return Lr}),u.d(b,"z",function(){return Bn}),u.d(b,"A",function(){return Or}),u.d(b,"B",function(){return Qr}),u.d(b,"C",function(){return ht}),u.d(b,"D",function(){return Wu}),u.d(b,"E",function(){return on}),u.d(b,"F",function(){return an}),u.d(b,"G",function(){return Ua}),u.d(b,"H",function(){return Fa}),u.d(b,"I",function(){return Ka}),u.d(b,"J",function(){return Gn}),u.d(b,"K",function(){return pe}),u.d(b,"L",function(){return dn}),u.d(b,"M",function(){return Qi});var _=[];Object.freeze(_);var g={};function S(){return++ut.mobxGuid}function T(v){throw M(!1,v),"X"}function M(v,m){if(!v)throw new Error("[mobx] "+(m||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(g);function I(v){var m=!1;return function(){if(!m)return m=!0,v.apply(this,arguments)}}var C=function(){};function U(v){return v!==null&&typeof v=="object"}function z(v){if(v===null||typeof v!="object")return!1;var m=Object.getPrototypeOf(v);return m===Object.prototype||m===null}function G(v,m,E){Object.defineProperty(v,m,{enumerable:!1,writable:!0,configurable:!0,value:E})}function q(v,m){var E="isMobX"+v;return m.prototype[E]=!0,function(N){return U(N)&&N[E]===!0}}function J(v){return v instanceof Map}function ce(v){return v instanceof Set}function he(v){var m=new Set;for(var E in v)m.add(E);return Object.getOwnPropertySymbols(v).forEach(function(N){Object.getOwnPropertyDescriptor(v,N).enumerable&&m.add(N)}),Array.from(m)}function se(v){return v&&v.toString?v.toString():new String(v).toString()}function Q(v){return v===null?null:typeof v=="object"?""+v:v}var re=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(v){return Object.getOwnPropertyNames(v).concat(Object.getOwnPropertySymbols(v))}:Object.getOwnPropertyNames,W=Symbol("mobx administration"),L=function(){function v(m){m===void 0&&(m="Atom@"+S()),this.name=m,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=at.NOT_TRACKING}return v.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(m){return m()})},v.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(m){return m()})},v.prototype.reportObserved=function(){return Ki(this)},v.prototype.reportChanged=function(){yr(),function(m){m.lowestObserverState!==at.STALE&&(m.lowestObserverState=at.STALE,m.observers.forEach(function(E){E.dependenciesState===at.UP_TO_DATE&&(E.isTracing!==le.NONE&&Yr(E,m),E.onBecomeStale()),E.dependenciesState=at.STALE}))}(this),Sr()},v.prototype.toString=function(){return this.name},v}(),H=q("Atom",L);function X(v,m,E){m===void 0&&(m=C),E===void 0&&(E=C);var N,Y=new L(v);return m!==C&&Xu("onBecomeObserved",Y,m,N),E!==C&&on(Y,E),Y}var $={identity:function(v,m){return v===m},structural:function(v,m){return Me(v,m)},default:function(v,m){return Object.is(v,m)},shallow:function(v,m){return Me(v,m,1)}},ie=function(v,m){return ie=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,N){E.__proto__=N}||function(E,N){for(var Y in N)N.hasOwnProperty(Y)&&(E[Y]=N[Y])},ie(v,m)};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0

	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.

	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */var Ee=function(){return Ee=Object.assign||function(v){for(var m,E=1,N=arguments.length;E<N;E++)for(var Y in m=arguments[E])Object.prototype.hasOwnProperty.call(m,Y)&&(v[Y]=m[Y]);return v},Ee.apply(this,arguments)};function be(v){var m=typeof Symbol=="function"&&v[Symbol.iterator],E=0;return m?m.call(v):{next:function(){return v&&E>=v.length&&(v=void 0),{value:v&&v[E++],done:!v}}}}function Pe(v,m){var E=typeof Symbol=="function"&&v[Symbol.iterator];if(!E)return v;var N,Y,fe=E.call(v),xe=[];try{for(;(m===void 0||m-- >0)&&!(N=fe.next()).done;)xe.push(N.value)}catch(Be){Y={error:Be}}finally{try{N&&!N.done&&(E=fe.return)&&E.call(fe)}finally{if(Y)throw Y.error}}return xe}function ze(){for(var v=[],m=0;m<arguments.length;m++)v=v.concat(Pe(arguments[m]));return v}var je=Symbol("mobx did run lazy initializers"),ve=Symbol("mobx pending decorators"),Se={},Ae={};function Fe(v,m){var E=m?Se:Ae;return E[v]||(E[v]={configurable:!0,enumerable:m,get:function(){return tt(this),this[v]},set:function(N){tt(this),this[v]=N}})}function tt(v){var m,E;if(v[je]!==!0){var N=v[ve];if(N){G(v,je,!0);var Y=ze(Object.getOwnPropertySymbols(N),Object.keys(N));try{for(var fe=be(Y),xe=fe.next();!xe.done;xe=fe.next()){var Be=N[xe.value];Be.propertyCreator(v,Be.prop,Be.descriptor,Be.decoratorTarget,Be.decoratorArguments)}}catch(ot){m={error:ot}}finally{try{xe&&!xe.done&&(E=fe.return)&&E.call(fe)}finally{if(m)throw m.error}}}}}function mt(v,m){return function(){var E,N=function(Y,fe,xe,Be){if(Be===!0)return m(Y,fe,xe,Y,E),null;if(!Object.prototype.hasOwnProperty.call(Y,ve)){var ot=Y[ve];G(Y,ve,Ee({},ot))}return Y[ve][fe]={prop:fe,propertyCreator:m,descriptor:xe,decoratorTarget:Y,decoratorArguments:E},Fe(fe,v)};return Ye(arguments)?(E=_,N.apply(null,arguments)):(E=Array.prototype.slice.call(arguments),N)}}function Ye(v){return(v.length===2||v.length===3)&&(typeof v[1]=="string"||typeof v[1]=="symbol")||v.length===4&&v[3]===!0}function Ke(v,m,E){return ni(v)?v:Array.isArray(v)?ht.array(v,{name:E}):z(v)?ht.object(v,void 0,{name:E}):J(v)?ht.map(v,{name:E}):ce(v)?ht.set(v,{name:E}):v}function vt(v){return v}function ue(v){M(v);var m=mt(!0,function(N,Y,fe,xe,Be){var ot=fe?fe.initializer?fe.initializer.call(N):fe.value:void 0;Pr(N).addObservableProp(Y,ot,v)}),E=(d!==void 0&&d.env,m);return E.enhancer=v,E}var oe={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function de(v){return v==null?oe:typeof v=="string"?{name:v,deep:!0,proxy:!0}:v}Object.freeze(oe);var De=ue(Ke),Xe=ue(function(v,m,E){return v==null||Or(v)||Lr(v)||Bn(v)||sr(v)?v:Array.isArray(v)?ht.array(v,{name:E,deep:!1}):z(v)?ht.object(v,void 0,{name:E,deep:!1}):J(v)?ht.map(v,{name:E,deep:!1}):ce(v)?ht.set(v,{name:E,deep:!1}):T(!1)}),Ie=ue(vt),Ot=ue(function(v,m,E){return Me(v,m)?m:v});function Pt(v){return v.defaultDecorator?v.defaultDecorator.enhancer:v.deep===!1?vt:Ke}var xt={box:function(v,m){arguments.length>2&&ke("box");var E=de(m);return new jn(v,Pt(E),E.name,!0,E.equals)},array:function(v,m){arguments.length>2&&ke("array");var E=de(m);return Si(v,Pt(E),E.name)},map:function(v,m){arguments.length>2&&ke("map");var E=de(m);return new Qa(v,Pt(E),E.name)},set:function(v,m){arguments.length>2&&ke("set");var E=de(m);return new no(v,Pt(E),E.name)},object:function(v,m,E){typeof arguments[1]=="string"&&ke("object");var N=de(E);if(N.proxy===!1)return go({},v,m,N);var Y=Ga(N),fe=go({},void 0,void 0,N),xe=ri(fe);return Hu(xe,v,m,Y),xe},ref:Ie,shallow:Xe,deep:De,struct:Ot},ht=function(v,m,E){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return De.apply(null,arguments);if(ni(v))return v;var N=z(v)?ht.object(v,m,E):Array.isArray(v)?ht.array(v,m):J(v)?ht.map(v,m):ce(v)?ht.set(v,m):v;if(N!==v)return N;T(!1)};function ke(v){T("Expected one or two arguments to observable."+v+". Did you accidentally try to use observable."+v+" as decorator?")}Object.keys(xt).forEach(function(v){return ht[v]=xt[v]});var at,le,nt=mt(!1,function(v,m,E,N,Y){var fe=E.get,xe=E.set,Be=Y[0]||{};Pr(v).addComputedProp(v,m,Ee({get:fe,set:xe,context:v},Be))}),Ct=nt({equals:$.structural}),rn=function(v,m,E){if(typeof m=="string"||v!==null&&typeof v=="object"&&arguments.length===1)return nt.apply(null,arguments);var N=typeof m=="object"?m:{};return N.get=v,N.set=typeof m=="function"?m:N.set,N.name=N.name||v.name||"",new Jr(N)};rn.struct=Ct,function(v){v[v.NOT_TRACKING=-1]="NOT_TRACKING",v[v.UP_TO_DATE=0]="UP_TO_DATE",v[v.POSSIBLY_STALE=1]="POSSIBLY_STALE",v[v.STALE=2]="STALE"}(at||(at={})),function(v){v[v.NONE=0]="NONE",v[v.LOG=1]="LOG",v[v.BREAK=2]="BREAK"}(le||(le={}));var Rt=function(v){this.cause=v};function Kt(v){return v instanceof Rt}function fn(v){switch(v.dependenciesState){case at.UP_TO_DATE:return!1;case at.NOT_TRACKING:case at.STALE:return!0;case at.POSSIBLY_STALE:for(var m=We(!0),E=ne(),N=v.observing,Y=N.length,fe=0;fe<Y;fe++){var xe=N[fe];if(yo(xe)){if(ut.disableErrorBoundaries)xe.get();else try{xe.get()}catch{return me(E),Ve(m),!0}if(v.dependenciesState===at.STALE)return me(E),Ve(m),!0}}return st(v),me(E),Ve(m),!1}}function mn(){return ut.trackingDerivation!==null}function Dt(v){var m=v.observers.size>0;ut.computationDepth>0&&m&&T(!1),ut.allowStateChanges||!m&&ut.enforceActions!=="strict"||T(!1)}function Mn(v,m,E){var N=We(!0);st(v),v.newObserving=new Array(v.observing.length+100),v.unboundDepsCount=0,v.runId=++ut.runId;var Y,fe=ut.trackingDerivation;if(ut.trackingDerivation=v,ut.disableErrorBoundaries===!0)Y=m.call(E);else try{Y=m.call(E)}catch(xe){Y=new Rt(xe)}return ut.trackingDerivation=fe,function(xe){for(var Be=xe.observing,ot=xe.observing=xe.newObserving,Ht=at.UP_TO_DATE,Qe=0,pn=xe.unboundDepsCount,Lt=0;Lt<pn;Lt++)(tn=ot[Lt]).diffValue===0&&(tn.diffValue=1,Qe!==Lt&&(ot[Qe]=tn),Qe++),tn.dependenciesState>Ht&&(Ht=tn.dependenciesState);for(ot.length=Qe,xe.newObserving=null,pn=Be.length;pn--;)(tn=Be[pn]).diffValue===0&&Ia(tn,xe),tn.diffValue=0;for(;Qe--;){var tn;(tn=ot[Qe]).diffValue===1&&(tn.diffValue=0,ns(tn,xe))}Ht!==at.UP_TO_DATE&&(xe.dependenciesState=Ht,xe.onBecomeStale())}(v),Ve(N),Y}function K(v){var m=v.observing;v.observing=[];for(var E=m.length;E--;)Ia(m[E],v);v.dependenciesState=at.NOT_TRACKING}function pe(v){var m=ne();try{return v()}finally{me(m)}}function ne(){var v=ut.trackingDerivation;return ut.trackingDerivation=null,v}function me(v){ut.trackingDerivation=v}function We(v){var m=ut.allowStateReads;return ut.allowStateReads=v,m}function Ve(v){ut.allowStateReads=v}function st(v){if(v.dependenciesState!==at.UP_TO_DATE){v.dependenciesState=at.UP_TO_DATE;for(var m=v.observing,E=m.length;E--;)m[E].lowestObserverState=at.UP_TO_DATE}}var Ft=0,Hn=1,er=Object.getOwnPropertyDescriptor(function(){},"name");er&&er.configurable;function Nn(v,m,E){var N=function(){return zn(v,m,E||this,arguments)};return N.isMobxAction=!0,N}function zn(v,m,E,N){var Y=rt();try{return m.apply(E,N)}catch(fe){throw Y.error=fe,fe}finally{gt(Y)}}function rt(v,m,E){var N=0,Y=ne();yr();var fe={prevDerivation:Y,prevAllowStateChanges:Mt(!0),prevAllowStateReads:We(!0),notifySpy:!1,startTime:N,actionId:Hn++,parentActionId:Ft};return Ft=fe.actionId,fe}function gt(v){Ft!==v.actionId&&T("invalid action stack. did you forget to finish an action?"),Ft=v.parentActionId,v.error!==void 0&&(ut.suppressReactionErrors=!0),sn(v.prevAllowStateChanges),Ve(v.prevAllowStateReads),Sr(),me(v.prevDerivation),v.notifySpy,ut.suppressReactionErrors=!1}function wt(v,m){var E,N=Mt(v);try{E=m()}finally{sn(N)}return E}function Mt(v){var m=ut.allowStateChanges;return ut.allowStateChanges=v,m}function sn(v){ut.allowStateChanges=v}var jn=function(v){function m(E,N,Y,fe,xe){Y===void 0&&(Y="ObservableValue@"+S()),xe===void 0&&(xe=$.default);var Be=v.call(this,Y)||this;return Be.enhancer=N,Be.name=Y,Be.equals=xe,Be.hasUnreportedChange=!1,Be.value=N(E,void 0,Y),Be}return function(E,N){function Y(){this.constructor=E}ie(E,N),E.prototype=N===null?Object.create(N):(Y.prototype=N.prototype,new Y)}(m,v),m.prototype.dehanceValue=function(E){return this.dehancer!==void 0?this.dehancer(E):E},m.prototype.set=function(E){this.value,(E=this.prepareNewValue(E))!==ut.UNCHANGED&&this.setNewValue(E)},m.prototype.prepareNewValue=function(E){if(Dt(this),br(this)){var N=Zt(this,{object:this,type:"update",newValue:E});if(!N)return ut.UNCHANGED;E=N.newValue}return E=this.enhancer(E,this.value,this.name),this.equals(this.value,E)?ut.UNCHANGED:E},m.prototype.setNewValue=function(E){var N=this.value;this.value=E,this.reportChanged(),mr(this)&&Zn(this,{type:"update",object:this,newValue:E,oldValue:N})},m.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},m.prototype.intercept=function(E){return mo(this,E)},m.prototype.observe=function(E,N){return N&&E({object:this,type:"update",newValue:this.value,oldValue:void 0}),to(this,E)},m.prototype.toJSON=function(){return this.get()},m.prototype.toString=function(){return this.name+"["+this.value+"]"},m.prototype.valueOf=function(){return Q(this.get())},m.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},m}(L),ho=q("ObservableValue",jn),Jr=function(){function v(m){this.dependenciesState=at.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=at.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+S(),this.value=new Rt(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=le.NONE,M(m.get,"missing option for computed: get"),this.derivation=m.get,this.name=m.name||"ComputedValue@"+S(),m.set&&(this.setter=Nn(this.name+"-setter",m.set)),this.equals=m.equals||(m.compareStructural||m.struct?$.structural:$.default),this.scope=m.context,this.requiresReaction=!!m.requiresReaction,this.keepAlive=!!m.keepAlive}return v.prototype.onBecomeStale=function(){(function(m){m.lowestObserverState===at.UP_TO_DATE&&(m.lowestObserverState=at.POSSIBLY_STALE,m.observers.forEach(function(E){E.dependenciesState===at.UP_TO_DATE&&(E.dependenciesState=at.POSSIBLY_STALE,E.isTracing!==le.NONE&&Yr(E,m),E.onBecomeStale())}))})(this)},v.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(m){return m()})},v.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(m){return m()})},v.prototype.get=function(){this.isComputing&&T("Cycle detected in computation "+this.name+": "+this.derivation),ut.inBatch!==0||this.observers.size!==0||this.keepAlive?(Ki(this),fn(this)&&this.trackAndCompute()&&function(E){E.lowestObserverState!==at.STALE&&(E.lowestObserverState=at.STALE,E.observers.forEach(function(N){N.dependenciesState===at.POSSIBLY_STALE?N.dependenciesState=at.STALE:N.dependenciesState===at.UP_TO_DATE&&(E.lowestObserverState=at.UP_TO_DATE)}))}(this)):fn(this)&&(this.warnAboutUntrackedRead(),yr(),this.value=this.computeValue(!1),Sr());var m=this.value;if(Kt(m))throw m.cause;return m},v.prototype.peek=function(){var m=this.computeValue(!1);if(Kt(m))throw m.cause;return m},v.prototype.set=function(m){if(this.setter){M(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,m)}finally{this.isRunningSetter=!1}}else M(!1,!1)},v.prototype.trackAndCompute=function(){var m=this.value,E=this.dependenciesState===at.NOT_TRACKING,N=this.computeValue(!0),Y=E||Kt(m)||Kt(N)||!this.equals(m,N);return Y&&(this.value=N),Y},v.prototype.computeValue=function(m){var E;if(this.isComputing=!0,ut.computationDepth++,m)E=Mn(this,this.derivation,this.scope);else if(ut.disableErrorBoundaries===!0)E=this.derivation.call(this.scope);else try{E=this.derivation.call(this.scope)}catch(N){E=new Rt(N)}return ut.computationDepth--,this.isComputing=!1,E},v.prototype.suspend=function(){this.keepAlive||(K(this),this.value=void 0)},v.prototype.observe=function(m,E){var N=this,Y=!0,fe=void 0;return Ha(function(){var xe=N.get();if(!Y||E){var Be=ne();m({type:"update",object:N,newValue:xe,oldValue:fe}),me(Be)}Y=!1,fe=xe})},v.prototype.warnAboutUntrackedRead=function(){},v.prototype.toJSON=function(){return this.get()},v.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},v.prototype.valueOf=function(){return Q(this.get())},v.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},v}(),yo=q("ComputedValue",Jr),ei=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},ts={};function Ra(){return typeof window<"u"?window:f!==void 0?f:typeof self<"u"?self:ts}var Rr=!0,xi=!1,ut=function(){var v=Ra();return v.__mobxInstanceCount>0&&!v.__mobxGlobals&&(Rr=!1),v.__mobxGlobals&&v.__mobxGlobals.version!==new ei().version&&(Rr=!1),Rr?v.__mobxGlobals?(v.__mobxInstanceCount+=1,v.__mobxGlobals.UNCHANGED||(v.__mobxGlobals.UNCHANGED={}),v.__mobxGlobals):(v.__mobxInstanceCount=1,v.__mobxGlobals=new ei):(setTimeout(function(){xi||T("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new ei)}();function ns(v,m){v.observers.add(m),v.lowestObserverState>m.dependenciesState&&(v.lowestObserverState=m.dependenciesState)}function Ia(v,m){v.observers.delete(m),v.observers.size===0&&La(v)}function La(v){v.isPendingUnobservation===!1&&(v.isPendingUnobservation=!0,ut.pendingUnobservations.push(v))}function yr(){ut.inBatch++}function Sr(){if(--ut.inBatch==0){Ba();for(var v=ut.pendingUnobservations,m=0;m<v.length;m++){var E=v[m];E.isPendingUnobservation=!1,E.observers.size===0&&(E.isBeingObserved&&(E.isBeingObserved=!1,E.onBecomeUnobserved()),E instanceof Jr&&E.suspend())}ut.pendingUnobservations=[]}}function Ki(v){var m=ut.trackingDerivation;return m!==null?(m.runId!==v.lastAccessedBy&&(v.lastAccessedBy=m.runId,m.newObserving[m.unboundDepsCount++]=v,v.isBeingObserved||(v.isBeingObserved=!0,v.onBecomeObserved())),!0):(v.observers.size===0&&ut.inBatch>0&&La(v),!1)}function Yr(v,m){if(v.isTracing===le.BREAK){var E=[];Ir(Tn(v),E,1),new Function(`debugger;
/*
Tracing '`+v.name+`'

You are entering this break point because derivation '`+v.name+"' is being traced and '"+m.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(v instanceof Jr?v.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+E.join(`
`)+`
*/
    `)()}}function Ir(v,m,E){m.length>=1e3?m.push("(and many more)"):(m.push(""+new Array(E).join("	")+v.name),v.dependencies&&v.dependencies.forEach(function(N){return Ir(N,m,E+1)}))}var Wr=function(){function v(m,E,N,Y){m===void 0&&(m="Reaction@"+S()),Y===void 0&&(Y=!1),this.name=m,this.onInvalidate=E,this.errorHandler=N,this.requiresObservable=Y,this.observing=[],this.newObserving=[],this.dependenciesState=at.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+S(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=le.NONE}return v.prototype.onBecomeStale=function(){this.schedule()},v.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,ut.pendingReactions.push(this),Ba())},v.prototype.isScheduled=function(){return this._isScheduled},v.prototype.runReaction=function(){if(!this.isDisposed){if(yr(),this._isScheduled=!1,fn(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(m){this.reportExceptionInDerivation(m)}}Sr()}},v.prototype.track=function(m){if(!this.isDisposed){yr(),this._isRunning=!0;var E=Mn(this,m,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&K(this),Kt(E)&&this.reportExceptionInDerivation(E.cause),Sr()}},v.prototype.reportExceptionInDerivation=function(m){var E=this;if(this.errorHandler)this.errorHandler(m,this);else{if(ut.disableErrorBoundaries)throw m;ut.suppressReactionErrors,ut.globalReactionErrorHandlers.forEach(function(N){return N(m,E)})}},v.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(yr(),K(this),Sr()))},v.prototype.getDisposer=function(){var m=this.dispose.bind(this);return m[W]=this,m},v.prototype.toString=function(){return"Reaction["+this.name+"]"},v.prototype.trace=function(m){m===void 0&&(m=!1),function(){for(var E=[],N=0;N<arguments.length;N++)E[N]=arguments[N];var Y=!1;typeof E[E.length-1]=="boolean"&&(Y=E.pop());var fe=Qt(E);if(!fe)return T(!1);fe.isTracing,le.NONE,fe.isTracing=Y?le.BREAK:le.LOG}(this,m)},v}(),za=function(v){return v()};function Ba(){ut.inBatch>0||ut.isRunningReactions||za(zu)}function zu(){ut.isRunningReactions=!0;for(var v=ut.pendingReactions,m=0;v.length>0;){++m==100&&v.splice(0);for(var E=v.splice(0),N=0,Y=E.length;N<Y;N++)E[N].runReaction()}ut.isRunningReactions=!1}var Ei=q("Reaction",Wr);function Bu(v){var m=za;za=function(E){return v(function(){return m(E)})}}function Fa(v){return function(){}}function rs(){T(!1)}function No(v){return function(m,E,N){if(N){if(N.value)return{value:Nn(v,N.value),enumerable:!1,configurable:!0,writable:!0};var Y=N.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Nn(v,Y.call(this))}}}return Fu(v).apply(this,arguments)}}function Fu(v){return function(m,E,N){Object.defineProperty(m,E,{configurable:!0,enumerable:!1,get:function(){},set:function(Y){G(this,E,vo(v,Y))}})}}var vo=function(v,m,E,N){return arguments.length===1&&typeof v=="function"?Nn(v.name||"<unnamed action>",v):arguments.length===2&&typeof m=="function"?Nn(v,m):arguments.length===1&&typeof v=="string"?No(v):N!==!0?No(m).apply(null,arguments):void G(v,m,Nn(v.name||m,E.value,this))};function Ua(v,m){return zn(typeof v=="string"?v:v.name||"<unnamed action>",typeof v=="function"?v:m,this,void 0)}function Zi(v){return typeof v=="function"&&v.isMobxAction===!0}function Xa(v,m,E){G(v,m,Nn(m,E.bind(v)))}function Ha(v,m){m===void 0&&(m=g);var E,N=m&&m.name||v.name||"Autorun@"+S();if(!m.scheduler&&!m.delay)E=new Wr(N,function(){this.track(xe)},m.onError,m.requiresObservable);else{var Y=Uu(m),fe=!1;E=new Wr(N,function(){fe||(fe=!0,Y(function(){fe=!1,E.isDisposed||E.track(xe)}))},m.onError,m.requiresObservable)}function xe(){v(E)}return E.schedule(),E.getDisposer()}vo.bound=function(v,m,E,N){return N===!0?(Xa(v,m,E.value),null):E?{configurable:!0,enumerable:!1,get:function(){return Xa(this,m,E.value||E.initializer.call(this)),this[m]},set:rs}:{enumerable:!1,configurable:!0,set:function(Y){Xa(this,m,Y)},get:function(){}}};var os=function(v){return v()};function Uu(v){return v.scheduler?v.scheduler:v.delay?function(m){return setTimeout(m,v.delay)}:os}function an(v,m,E){E===void 0&&(E=g);var N,Y,fe,xe=E.name||"Reaction@"+S(),Be=vo(xe,E.onError?(N=E.onError,Y=m,function(){try{return Y.apply(this,arguments)}catch(On){N.call(this,On)}}):m),ot=!E.scheduler&&!E.delay,Ht=Uu(E),Qe=!0,pn=!1,Lt=E.compareStructural?$.structural:E.equals||$.default,tn=new Wr(xe,function(){Qe||ot?Br():pn||(pn=!0,Ht(Br))},E.onError,E.requiresObservable);function Br(){if(pn=!1,!tn.isDisposed){var On=!1;tn.track(function(){var _r=v(tn);On=Qe||!Lt(fe,_r),fe=_r}),Qe&&E.fireImmediately&&Be(fe,tn),Qe||On!==!0||Be(fe,tn),Qe&&(Qe=!1)}}return tn.schedule(),tn.getDisposer()}function on(v,m,E){return Xu("onBecomeUnobserved",v,m,E)}function Xu(v,m,E,N){var Y=typeof N=="function"?zr(m,E):zr(m),fe=typeof N=="function"?N:E,xe=v+"Listeners";return Y[xe]?Y[xe].add(fe):Y[xe]=new Set([fe]),typeof Y[v]!="function"?T(!1):function(){var Be=Y[xe];Be&&(Be.delete(fe),Be.size===0&&delete Y[xe])}}function ti(v){var m=v.enforceActions,E=v.computedRequiresReaction,N=v.computedConfigurable,Y=v.disableErrorBoundaries,fe=v.reactionScheduler,xe=v.reactionRequiresObservable,Be=v.observableRequiresReaction;if(v.isolateGlobalState===!0&&((ut.pendingReactions.length||ut.inBatch||ut.isRunningReactions)&&T("isolateGlobalState should be called before MobX is running any reactions"),xi=!0,Rr&&(--Ra().__mobxInstanceCount==0&&(Ra().__mobxGlobals=void 0),ut=new ei)),m!==void 0){var ot=void 0;switch(m){case!0:case"observed":ot=!0;break;case!1:case"never":ot=!1;break;case"strict":case"always":ot="strict";break;default:T("Invalid value for 'enforceActions': '"+m+"', expected 'never', 'always' or 'observed'")}ut.enforceActions=ot,ut.allowStateChanges=ot!==!0&&ot!=="strict"}E!==void 0&&(ut.computedRequiresReaction=!!E),xe!==void 0&&(ut.reactionRequiresObservable=!!xe),Be!==void 0&&(ut.observableRequiresReaction=!!Be,ut.allowStateReads=!ut.observableRequiresReaction),N!==void 0&&(ut.computedConfigurable=!!N),Y!==void 0&&(ut.disableErrorBoundaries=!!Y),fe&&Bu(fe)}function go(v,m,E,N){var Y=Ga(N=de(N));return tt(v),Pr(v,N.name,Y.enhancer),m&&Hu(v,m,E,Y),v}function Ga(v){return v.defaultDecorator||(v.deep===!1?Ie:De)}function Hu(v,m,E,N){var Y,fe;yr();try{var xe=re(m);try{for(var Be=be(xe),ot=Be.next();!ot.done;ot=Be.next()){var Ht=ot.value,Qe=Object.getOwnPropertyDescriptor(m,Ht),pn=(E&&Ht in E?E[Ht]:Qe.get?nt:N)(v,Ht,Qe,!0);pn&&Object.defineProperty(v,Ht,pn)}}catch(Lt){Y={error:Lt}}finally{try{ot&&!ot.done&&(fe=Be.return)&&fe.call(Be)}finally{if(Y)throw Y.error}}}finally{Sr()}}function Tn(v,m){return Ya(zr(v,m))}function Ya(v){var m,E,N={name:v.name};return v.observing&&v.observing.length>0&&(N.dependencies=(m=v.observing,E=[],m.forEach(function(Y){E.indexOf(Y)===-1&&E.push(Y)}),E).map(Ya)),N}var ji=0;function Wa(){this.message="FLOW_CANCELLED"}function qi(v){arguments.length!==1&&T("Flow expects 1 argument and cannot be used as decorator");var m=v.name||"<unnamed flow>";return function(){var E,N=this,Y=arguments,fe=++ji,xe=vo(m+" - runid: "+fe+" - init",v).apply(N,Y),Be=void 0,ot=new Promise(function(Ht,Qe){var pn=0;function Lt(On){var _r;Be=void 0;try{_r=vo(m+" - runid: "+fe+" - yield "+pn++,xe.next).call(xe,On)}catch(_o){return Qe(_o)}Br(_r)}function tn(On){var _r;Be=void 0;try{_r=vo(m+" - runid: "+fe+" - yield "+pn++,xe.throw).call(xe,On)}catch(_o){return Qe(_o)}Br(_r)}function Br(On){if(!On||typeof On.then!="function")return On.done?Ht(On.value):(Be=Promise.resolve(On.value)).then(Lt,tn);On.then(Br,Qe)}E=Qe,Lt(void 0)});return ot.cancel=vo(m+" - runid: "+fe+" - cancel",function(){try{Be&&tr(Be);var Ht=xe.return(void 0),Qe=Promise.resolve(Ht.value);Qe.then(C,C),tr(Qe),E(new Wa)}catch(pn){E(pn)}}),ot}}function tr(v){typeof v.cancel=="function"&&v.cancel()}function Va(v,m){if(v==null)return!1;if(m!==void 0){if(Or(v)===!1||!v[W].values.has(m))return!1;var E=zr(v,m);return yo(E)}return yo(v)}function Gu(v){return arguments.length>1?T(!1):Va(v)}function $a(v,m){return typeof m!="string"?T(!1):Va(v,m)}function Ji(v,m){return v!=null&&(m!==void 0?!!Or(v)&&v[W].values.has(m):Or(v)||!!v[W]||H(v)||Ei(v)||yo(v))}function ni(v){return arguments.length!==1&&T(!1),Ji(v)}function Qr(v){return Or(v)?v[W].getKeys():Bn(v)||sr(v)?Array.from(v.keys()):Lr(v)?v.map(function(m,E){return E}):T(!1)}function dn(v){return Or(v)?Qr(v).map(function(m){return v[m]}):Bn(v)?Qr(v).map(function(m){return v.get(m)}):sr(v)?Array.from(v.values()):Lr(v)?v.slice():T(!1)}function Yu(v){return Or(v)?Qr(v).map(function(m){return[m,v[m]]}):Bn(v)?Qr(v).map(function(m){return[m,v.get(m)]}):sr(v)?Array.from(v.entries()):Lr(v)?v.map(function(m,E){return[E,m]}):T(!1)}function vr(v,m,E){if(arguments.length!==2||sr(v))if(Or(v)){var N=v[W],Y=N.values.get(m);Y?N.write(m,E):N.addObservableProp(m,E,N.defaultEnhancer)}else if(Bn(v))v.set(m,E);else if(sr(v))v.add(m);else{if(!Lr(v))return T(!1);typeof m!="number"&&(m=parseInt(m,10)),M(m>=0,"Not a valid index: '"+m+"'"),yr(),m>=v.length&&(v.length=m+1),v[m]=E,Sr()}else{yr();var fe=m;try{for(var xe in fe)vr(v,xe,fe[xe])}finally{Sr()}}}function Wu(v,m,E,N){return typeof E=="function"?function(Y,fe,xe,Be){return oo(Y,fe).observe(xe,Be)}(v,m,E,N):function(Y,fe,xe){return oo(Y).observe(fe,xe)}(v,m,E)}Wa.prototype=Object.create(Error.prototype);var Vu={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function cr(v,m,E,N){return N.detectCycles&&v.set(m,E),E}function gr(v,m,E){if(!m.recurseEverything&&!ni(v)||typeof v!="object")return v;if(v===null)return null;if(v instanceof Date)return v;if(ho(v))return gr(v.get(),m,E);if(ni(v)&&Qr(v),m.detectCycles===!0&&v!==null&&E.has(v))return E.get(v);if(Lr(v)||Array.isArray(v)){var N=cr(E,v,[],m),Y=v.map(function(Lt){return gr(Lt,m,E)});N.length=Y.length;for(var fe=0,xe=Y.length;fe<xe;fe++)N[fe]=Y[fe];return N}if(sr(v)||Object.getPrototypeOf(v)===Set.prototype){if(m.exportMapsAsObjects===!1){var Be=cr(E,v,new Set,m);return v.forEach(function(Lt){Be.add(gr(Lt,m,E))}),Be}var ot=cr(E,v,[],m);return v.forEach(function(Lt){ot.push(gr(Lt,m,E))}),ot}if(Bn(v)||Object.getPrototypeOf(v)===Map.prototype){if(m.exportMapsAsObjects===!1){var Ht=cr(E,v,new Map,m);return v.forEach(function(Lt,tn){Ht.set(tn,gr(Lt,m,E))}),Ht}var Qe=cr(E,v,{},m);return v.forEach(function(Lt,tn){Qe[tn]=gr(Lt,m,E)}),Qe}var pn=cr(E,v,{},m);return he(v).forEach(function(Lt){pn[Lt]=gr(v[Lt],m,E)}),pn}function Ka(v,m){var E;return typeof m=="boolean"&&(m={detectCycles:m}),m||(m=Vu),m.detectCycles=m.detectCycles===void 0?m.recurseEverything===!0:m.detectCycles===!0,m.detectCycles&&(E=new Map),gr(v,m,E)}function Qt(v){switch(v.length){case 0:return ut.trackingDerivation;case 1:return zr(v[0]);case 2:return zr(v[0],v[1])}}function Gn(v,m){m===void 0&&(m=void 0),yr();try{return v.apply(m)}finally{Sr()}}function Qi(v,m,E){return arguments.length===1||m&&typeof m=="object"?Za(v,m):$u(v,m,E||{})}function $u(v,m,E){var N;typeof E.timeout=="number"&&(N=setTimeout(function(){if(!fe[W].isDisposed){fe();var xe=new Error("WHEN_TIMEOUT");if(!E.onError)throw xe;E.onError(xe)}},E.timeout)),E.name=E.name||"When@"+S();var Y=Nn(E.name+"-effect",m),fe=Ha(function(xe){v()&&(xe.dispose(),N&&clearTimeout(N),Y())},E);return fe}function Za(v,m){var E,N=new Promise(function(Y,fe){var xe=$u(v,Y,Ee(Ee({},m),{onError:fe}));E=function(){xe(),fe("WHEN_CANCELLED")}});return N.cancel=E,N}function ea(v){return v[W]}function eo(v){return typeof v=="string"||typeof v=="number"||typeof v=="symbol"}var bo={has:function(v,m){if(m===W||m==="constructor"||m===je)return!0;var E=ea(v);return eo(m)?E.has(m):m in v},get:function(v,m){if(m===W||m==="constructor"||m===je)return v[m];var E=ea(v),N=E.values.get(m);if(N instanceof L){var Y=N.get();return Y===void 0&&E.has(m),Y}return eo(m)&&E.has(m),v[m]},set:function(v,m,E){return!!eo(m)&&(vr(v,m,E),!0)},deleteProperty:function(v,m){return!!eo(m)&&(ea(v).remove(m),!0)},ownKeys:function(v){return ea(v).keysAtom.reportObserved(),Reflect.ownKeys(v)},preventExtensions:function(v){return T("Dynamic observable objects cannot be frozen"),!1}};function ri(v){var m=new Proxy(v,bo);return v[W].proxy=m,m}function br(v){return v.interceptors!==void 0&&v.interceptors.length>0}function mo(v,m){var E=v.interceptors||(v.interceptors=[]);return E.push(m),I(function(){var N=E.indexOf(m);N!==-1&&E.splice(N,1)})}function Zt(v,m){var E=ne();try{for(var N=ze(v.interceptors||[]),Y=0,fe=N.length;Y<fe&&(M(!(m=N[Y](m))||m.type,"Intercept handlers should return nothing or a change object"),m);Y++);return m}finally{me(E)}}function mr(v){return v.changeListeners!==void 0&&v.changeListeners.length>0}function to(v,m){var E=v.changeListeners||(v.changeListeners=[]);return E.push(m),I(function(){var N=E.indexOf(m);N!==-1&&E.splice(N,1)})}function Zn(v,m){var E=ne(),N=v.changeListeners;if(N){for(var Y=0,fe=(N=N.slice()).length;Y<fe;Y++)N[Y](m);me(E)}}var ta={get:function(v,m){return m===W?v[W]:m==="length"?v[W].getArrayLength():typeof m=="number"?Sn.get.call(v,m):typeof m!="string"||isNaN(m)?Sn.hasOwnProperty(m)?Sn[m]:v[m]:Sn.get.call(v,parseInt(m))},set:function(v,m,E){return m==="length"&&v[W].setArrayLength(E),typeof m=="number"&&Sn.set.call(v,m,E),typeof m=="symbol"||isNaN(m)?v[m]=E:Sn.set.call(v,parseInt(m),E),!0},preventExtensions:function(v){return T("Observable arrays cannot be frozen"),!1}};function Si(v,m,E,N){E===void 0&&(E="ObservableArray@"+S()),N===void 0&&(N=!1);var Y,fe,xe,Be=new qa(E,m,N);Y=Be.values,fe=W,xe=Be,Object.defineProperty(Y,fe,{enumerable:!1,writable:!1,configurable:!0,value:xe});var ot=new Proxy(Be.values,ta);if(Be.proxy=ot,v&&v.length){var Ht=Mt(!0);Be.spliceWithArray(0,0,v),sn(Ht)}return ot}var qa=function(){function v(m,E,N){this.owned=N,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new L(m||"ObservableArray@"+S()),this.enhancer=function(Y,fe){return E(Y,fe,m+"[..]")}}return v.prototype.dehanceValue=function(m){return this.dehancer!==void 0?this.dehancer(m):m},v.prototype.dehanceValues=function(m){return this.dehancer!==void 0&&m.length>0?m.map(this.dehancer):m},v.prototype.intercept=function(m){return mo(this,m)},v.prototype.observe=function(m,E){return E===void 0&&(E=!1),E&&m({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),to(this,m)},v.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},v.prototype.setArrayLength=function(m){if(typeof m!="number"||m<0)throw new Error("[mobx.array] Out of range: "+m);var E=this.values.length;if(m!==E)if(m>E){for(var N=new Array(m-E),Y=0;Y<m-E;Y++)N[Y]=void 0;this.spliceWithArray(E,0,N)}else this.spliceWithArray(m,E-m)},v.prototype.updateArrayLength=function(m,E){if(m!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=E},v.prototype.spliceWithArray=function(m,E,N){var Y=this;Dt(this.atom);var fe=this.values.length;if(m===void 0?m=0:m>fe?m=fe:m<0&&(m=Math.max(0,fe+m)),E=arguments.length===1?fe-m:E==null?0:Math.max(0,Math.min(E,fe-m)),N===void 0&&(N=_),br(this)){var xe=Zt(this,{object:this.proxy,type:"splice",index:m,removedCount:E,added:N});if(!xe)return _;E=xe.removedCount,N=xe.added}N=N.length===0?N:N.map(function(ot){return Y.enhancer(ot,void 0)});var Be=this.spliceItemsIntoValues(m,E,N);return E===0&&N.length===0||this.notifyArraySplice(m,N,Be),this.dehanceValues(Be)},v.prototype.spliceItemsIntoValues=function(m,E,N){var Y;if(N.length<1e4)return(Y=this.values).splice.apply(Y,ze([m,E],N));var fe=this.values.slice(m,m+E);return this.values=this.values.slice(0,m).concat(N,this.values.slice(m+E)),fe},v.prototype.notifyArrayChildUpdate=function(m,E,N){var Y=!this.owned&&!1,fe=mr(this),xe=fe||Y?{object:this.proxy,type:"update",index:m,newValue:E,oldValue:N}:null;this.atom.reportChanged(),fe&&Zn(this,xe)},v.prototype.notifyArraySplice=function(m,E,N){var Y=!this.owned&&!1,fe=mr(this),xe=fe||Y?{object:this.proxy,type:"splice",index:m,removed:N,added:E,removedCount:N.length,addedCount:E.length}:null;this.atom.reportChanged(),fe&&Zn(this,xe)},v}(),Sn={intercept:function(v){return this[W].intercept(v)},observe:function(v,m){return m===void 0&&(m=!1),this[W].observe(v,m)},clear:function(){return this.splice(0)},replace:function(v){var m=this[W];return m.spliceWithArray(0,m.values.length,v)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(v,m){for(var E=[],N=2;N<arguments.length;N++)E[N-2]=arguments[N];var Y=this[W];switch(arguments.length){case 0:return[];case 1:return Y.spliceWithArray(v);case 2:return Y.spliceWithArray(v,m)}return Y.spliceWithArray(v,m,E)},spliceWithArray:function(v,m,E){return this[W].spliceWithArray(v,m,E)},push:function(){for(var v=[],m=0;m<arguments.length;m++)v[m]=arguments[m];var E=this[W];return E.spliceWithArray(E.values.length,0,v),E.values.length},pop:function(){return this.splice(Math.max(this[W].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var v=[],m=0;m<arguments.length;m++)v[m]=arguments[m];var E=this[W];return E.spliceWithArray(0,0,v),E.values.length},reverse:function(){var v=this.slice();return v.reverse.apply(v,arguments)},sort:function(v){var m=this.slice();return m.sort.apply(m,arguments)},remove:function(v){var m=this[W],E=m.dehanceValues(m.values).indexOf(v);return E>-1&&(this.splice(E,1),!0)},get:function(v){var m=this[W];if(m&&v<m.values.length)return m.atom.reportObserved(),m.dehanceValue(m.values[v])},set:function(v,m){var E=this[W],N=E.values;if(v<N.length){Dt(E.atom);var Y=N[v];if(br(E)){var fe=Zt(E,{type:"update",object:E.proxy,index:v,newValue:m});if(!fe)return;m=fe.newValue}(m=E.enhancer(m,Y))!==Y&&(N[v]=m,E.notifyArrayChildUpdate(v,m,Y))}else{if(v!==N.length)throw new Error("[mobx.array] Index out of bounds, "+v+" is larger than "+N.length);E.spliceWithArray(v,0,[m])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(v){typeof Array.prototype[v]=="function"&&(Sn[v]=function(){var m=this[W];m.atom.reportObserved();var E=m.dehanceValues(m.values);return E[v].apply(E,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(v){typeof Array.prototype[v]=="function"&&(Sn[v]=function(m,E){var N=this,Y=this[W];return Y.atom.reportObserved(),Y.dehanceValues(Y.values)[v](function(fe,xe){return m.call(E,fe,xe,N)},E)})}),["reduce","reduceRight"].forEach(function(v){Sn[v]=function(){var m=this,E=this[W];E.atom.reportObserved();var N=arguments[0];return arguments[0]=function(Y,fe,xe){return fe=E.dehanceValue(fe),N(Y,fe,xe,m)},E.values[v].apply(E.values,arguments)}});var na,Oo=q("ObservableArrayAdministration",qa);function Lr(v){return U(v)&&Oo(v[W])}var Ja,is={},Qa=function(){function v(m,E,N){if(E===void 0&&(E=Ke),N===void 0&&(N="ObservableMap@"+S()),this.enhancer=E,this.name=N,this[na]=is,this._keysAtom=X(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(m)}return v.prototype._has=function(m){return this._data.has(m)},v.prototype.has=function(m){var E=this;if(!ut.trackingDerivation)return this._has(m);var N=this._hasMap.get(m);if(!N){var Y=N=new jn(this._has(m),vt,this.name+"."+se(m)+"?",!1);this._hasMap.set(m,Y),on(Y,function(){return E._hasMap.delete(m)})}return N.get()},v.prototype.set=function(m,E){var N=this._has(m);if(br(this)){var Y=Zt(this,{type:N?"update":"add",object:this,newValue:E,name:m});if(!Y)return this;E=Y.newValue}return N?this._updateValue(m,E):this._addValue(m,E),this},v.prototype.delete=function(m){var E=this;if(Dt(this._keysAtom),br(this)&&!(Y=Zt(this,{type:"delete",object:this,name:m})))return!1;if(this._has(m)){var N=mr(this),Y=N?{type:"delete",object:this,oldValue:this._data.get(m).value,name:m}:null;return Gn(function(){E._keysAtom.reportChanged(),E._updateHasMapEntry(m,!1),E._data.get(m).setNewValue(void 0),E._data.delete(m)}),N&&Zn(this,Y),!0}return!1},v.prototype._updateHasMapEntry=function(m,E){var N=this._hasMap.get(m);N&&N.setNewValue(E)},v.prototype._updateValue=function(m,E){var N=this._data.get(m);if((E=N.prepareNewValue(E))!==ut.UNCHANGED){var Y=mr(this),fe=Y?{type:"update",object:this,oldValue:N.value,name:m,newValue:E}:null;N.setNewValue(E),Y&&Zn(this,fe)}},v.prototype._addValue=function(m,E){var N=this;Dt(this._keysAtom),Gn(function(){var xe=new jn(E,N.enhancer,N.name+"."+se(m),!1);N._data.set(m,xe),E=xe.value,N._updateHasMapEntry(m,!0),N._keysAtom.reportChanged()});var Y=mr(this),fe=Y?{type:"add",object:this,name:m,newValue:E}:null;Y&&Zn(this,fe)},v.prototype.get=function(m){return this.has(m)?this.dehanceValue(this._data.get(m).get()):this.dehanceValue(void 0)},v.prototype.dehanceValue=function(m){return this.dehancer!==void 0?this.dehancer(m):m},v.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},v.prototype.values=function(){var m=this,E=this.keys();return Wt({next:function(){var N=E.next(),Y=N.done,fe=N.value;return{done:Y,value:Y?void 0:m.get(fe)}}})},v.prototype.entries=function(){var m=this,E=this.keys();return Wt({next:function(){var N=E.next(),Y=N.done,fe=N.value;return{done:Y,value:Y?void 0:[fe,m.get(fe)]}}})},v.prototype[na=W,Symbol.iterator]=function(){return this.entries()},v.prototype.forEach=function(m,E){var N,Y;try{for(var fe=be(this),xe=fe.next();!xe.done;xe=fe.next()){var Be=Pe(xe.value,2),ot=Be[0],Ht=Be[1];m.call(E,Ht,ot,this)}}catch(Qe){N={error:Qe}}finally{try{xe&&!xe.done&&(Y=fe.return)&&Y.call(fe)}finally{if(N)throw N.error}}},v.prototype.merge=function(m){var E=this;return Bn(m)&&(m=m.toJS()),Gn(function(){var N=Mt(!0);try{z(m)?he(m).forEach(function(Y){return E.set(Y,m[Y])}):Array.isArray(m)?m.forEach(function(Y){var fe=Pe(Y,2),xe=fe[0],Be=fe[1];return E.set(xe,Be)}):J(m)?(m.constructor!==Map&&T("Cannot initialize from classes that inherit from Map: "+m.constructor.name),m.forEach(function(Y,fe){return E.set(fe,Y)})):m!=null&&T("Cannot initialize map from "+m)}finally{sn(N)}}),this},v.prototype.clear=function(){var m=this;Gn(function(){pe(function(){var E,N;try{for(var Y=be(m.keys()),fe=Y.next();!fe.done;fe=Y.next()){var xe=fe.value;m.delete(xe)}}catch(Be){E={error:Be}}finally{try{fe&&!fe.done&&(N=Y.return)&&N.call(Y)}finally{if(E)throw E.error}}})})},v.prototype.replace=function(m){var E=this;return Gn(function(){var N,Y,fe,xe,Be=function(lr){if(J(lr)||Bn(lr))return lr;if(Array.isArray(lr))return new Map(lr);if(z(lr)){var Ai=new Map;for(var ii in lr)Ai.set(ii,lr[ii]);return Ai}return T("Cannot convert to map from '"+lr+"'")}(m),ot=new Map,Ht=!1;try{for(var Qe=be(E._data.keys()),pn=Qe.next();!pn.done;pn=Qe.next()){var Lt=pn.value;if(!Be.has(Lt))if(E.delete(Lt))Ht=!0;else{var tn=E._data.get(Lt);ot.set(Lt,tn)}}}catch(lr){N={error:lr}}finally{try{pn&&!pn.done&&(Y=Qe.return)&&Y.call(Qe)}finally{if(N)throw N.error}}try{for(var Br=be(Be.entries()),On=Br.next();!On.done;On=Br.next()){var _r=Pe(On.value,2),_o=(Lt=_r[0],tn=_r[1],E._data.has(Lt));if(E.set(Lt,tn),E._data.has(Lt)){var wo=E._data.get(Lt);ot.set(Lt,wo),_o||(Ht=!0)}}}catch(lr){fe={error:lr}}finally{try{On&&!On.done&&(xe=Br.return)&&xe.call(Br)}finally{if(fe)throw fe.error}}if(!Ht)if(E._data.size!==ot.size)E._keysAtom.reportChanged();else for(var Pi=E._data.keys(),tu=ot.keys(),Ro=Pi.next(),oa=tu.next();!Ro.done;){if(Ro.value!==oa.value){E._keysAtom.reportChanged();break}Ro=Pi.next(),oa=tu.next()}E._data=ot}),this},Object.defineProperty(v.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),v.prototype.toPOJO=function(){var m,E,N={};try{for(var Y=be(this),fe=Y.next();!fe.done;fe=Y.next()){var xe=Pe(fe.value,2),Be=xe[0],ot=xe[1];N[typeof Be=="symbol"?Be:se(Be)]=ot}}catch(Ht){m={error:Ht}}finally{try{fe&&!fe.done&&(E=Y.return)&&E.call(Y)}finally{if(m)throw m.error}}return N},v.prototype.toJS=function(){return new Map(this)},v.prototype.toJSON=function(){return this.toPOJO()},v.prototype.toString=function(){var m=this;return this.name+"[{ "+Array.from(this.keys()).map(function(E){return se(E)+": "+m.get(E)}).join(", ")+" }]"},v.prototype.observe=function(m,E){return to(this,m)},v.prototype.intercept=function(m){return mo(this,m)},v}(),Bn=q("ObservableMap",Qa),oi={},no=function(){function v(m,E,N){if(E===void 0&&(E=Ke),N===void 0&&(N="ObservableSet@"+S()),this.name=N,this[Ja]=oi,this._data=new Set,this._atom=X(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(Y,fe){return E(Y,fe,N)},m&&this.replace(m)}return v.prototype.dehanceValue=function(m){return this.dehancer!==void 0?this.dehancer(m):m},v.prototype.clear=function(){var m=this;Gn(function(){pe(function(){var E,N;try{for(var Y=be(m._data.values()),fe=Y.next();!fe.done;fe=Y.next()){var xe=fe.value;m.delete(xe)}}catch(Be){E={error:Be}}finally{try{fe&&!fe.done&&(N=Y.return)&&N.call(Y)}finally{if(E)throw E.error}}})})},v.prototype.forEach=function(m,E){var N,Y;try{for(var fe=be(this),xe=fe.next();!xe.done;xe=fe.next()){var Be=xe.value;m.call(E,Be,Be,this)}}catch(ot){N={error:ot}}finally{try{xe&&!xe.done&&(Y=fe.return)&&Y.call(fe)}finally{if(N)throw N.error}}},Object.defineProperty(v.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),v.prototype.add=function(m){var E=this;if(Dt(this._atom),br(this)&&!(Y=Zt(this,{type:"add",object:this,newValue:m})))return this;if(!this.has(m)){Gn(function(){E._data.add(E.enhancer(m,void 0)),E._atom.reportChanged()});var N=mr(this),Y=N?{type:"add",object:this,newValue:m}:null;N&&Zn(this,Y)}return this},v.prototype.delete=function(m){var E=this;if(br(this)&&!(Y=Zt(this,{type:"delete",object:this,oldValue:m})))return!1;if(this.has(m)){var N=mr(this),Y=N?{type:"delete",object:this,oldValue:m}:null;return Gn(function(){E._atom.reportChanged(),E._data.delete(m)}),N&&Zn(this,Y),!0}return!1},v.prototype.has=function(m){return this._atom.reportObserved(),this._data.has(this.dehanceValue(m))},v.prototype.entries=function(){var m=0,E=Array.from(this.keys()),N=Array.from(this.values());return Wt({next:function(){var Y=m;return m+=1,Y<N.length?{value:[E[Y],N[Y]],done:!1}:{done:!0}}})},v.prototype.keys=function(){return this.values()},v.prototype.values=function(){this._atom.reportObserved();var m=this,E=0,N=Array.from(this._data.values());return Wt({next:function(){return E<N.length?{value:m.dehanceValue(N[E++]),done:!1}:{done:!0}}})},v.prototype.replace=function(m){var E=this;return sr(m)&&(m=m.toJS()),Gn(function(){var N=Mt(!0);try{Array.isArray(m)||ce(m)?(E.clear(),m.forEach(function(Y){return E.add(Y)})):m!=null&&T("Cannot initialize set from "+m)}finally{sn(N)}}),this},v.prototype.observe=function(m,E){return to(this,m)},v.prototype.intercept=function(m){return mo(this,m)},v.prototype.toJS=function(){return new Set(this)},v.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},v.prototype[Ja=W,Symbol.iterator]=function(){return this.values()},v}(),sr=q("ObservableSet",no),eu=function(){function v(m,E,N,Y){E===void 0&&(E=new Map),this.target=m,this.values=E,this.name=N,this.defaultEnhancer=Y,this.keysAtom=new L(N+".keys")}return v.prototype.read=function(m){return this.values.get(m).get()},v.prototype.write=function(m,E){var N=this.target,Y=this.values.get(m);if(Y instanceof Jr)Y.set(E);else{if(br(this)){if(!(xe=Zt(this,{type:"update",object:this.proxy||N,name:m,newValue:E})))return;E=xe.newValue}if((E=Y.prepareNewValue(E))!==ut.UNCHANGED){var fe=mr(this),xe=fe?{type:"update",object:this.proxy||N,oldValue:Y.value,name:m,newValue:E}:null;Y.setNewValue(E),fe&&Zn(this,xe)}}},v.prototype.has=function(m){var E=this.pendingKeys||(this.pendingKeys=new Map),N=E.get(m);if(N)return N.get();var Y=!!this.values.get(m);return N=new jn(Y,vt,this.name+"."+se(m)+"?",!1),E.set(m,N),N.get()},v.prototype.addObservableProp=function(m,E,N){N===void 0&&(N=this.defaultEnhancer);var Y=this.target;if(br(this)){var fe=Zt(this,{object:this.proxy||Y,name:m,type:"add",newValue:E});if(!fe)return;E=fe.newValue}var xe=new jn(E,N,this.name+"."+se(m),!1);this.values.set(m,xe),E=xe.value,Object.defineProperty(Y,m,function(Be){return Co[Be]||(Co[Be]={configurable:!0,enumerable:!0,get:function(){return this[W].read(Be)},set:function(ot){this[W].write(Be,ot)}})}(m)),this.notifyPropertyAddition(m,E)},v.prototype.addComputedProp=function(m,E,N){var Y,fe,xe,Be=this.target;N.name=N.name||this.name+"."+se(E),this.values.set(E,new Jr(N)),(m===Be||(Y=m,fe=E,!(xe=Object.getOwnPropertyDescriptor(Y,fe))||xe.configurable!==!1&&xe.writable!==!1))&&Object.defineProperty(m,E,function(ot){return ra[ot]||(ra[ot]={configurable:ut.computedConfigurable,enumerable:!1,get:function(){return ro(this).read(ot)},set:function(Ht){ro(this).write(ot,Ht)}})}(E))},v.prototype.remove=function(m){if(this.values.has(m)){var E=this.target;if(br(this)&&!(ot=Zt(this,{object:this.proxy||E,name:m,type:"remove"})))return;try{yr();var N=mr(this),Y=!1,fe=this.values.get(m),xe=fe&&fe.get();if(fe&&fe.set(void 0),this.keysAtom.reportChanged(),this.values.delete(m),this.pendingKeys){var Be=this.pendingKeys.get(m);Be&&Be.set(!1)}delete this.target[m];var ot=N?{type:"remove",object:this.proxy||E,oldValue:xe,name:m}:null;N&&Zn(this,ot)}finally{Sr()}}},v.prototype.illegalAccess=function(m,E){},v.prototype.observe=function(m,E){return to(this,m)},v.prototype.intercept=function(m){return mo(this,m)},v.prototype.notifyPropertyAddition=function(m,E){var N=mr(this),Y=N?{type:"add",object:this.proxy||this.target,name:m,newValue:E}:null;if(N&&Zn(this,Y),this.pendingKeys){var fe=this.pendingKeys.get(m);fe&&fe.set(!0)}this.keysAtom.reportChanged()},v.prototype.getKeys=function(){var m,E;this.keysAtom.reportObserved();var N=[];try{for(var Y=be(this.values),fe=Y.next();!fe.done;fe=Y.next()){var xe=Pe(fe.value,2),Be=xe[0];xe[1]instanceof jn&&N.push(Be)}}catch(ot){m={error:ot}}finally{try{fe&&!fe.done&&(E=Y.return)&&E.call(Y)}finally{if(m)throw m.error}}return N},v}();function Pr(v,m,E){if(m===void 0&&(m=""),E===void 0&&(E=Ke),Object.prototype.hasOwnProperty.call(v,W))return v[W];z(v)||(m=(v.constructor.name||"ObservableObject")+"@"+S()),m||(m="ObservableObject@"+S());var N=new eu(v,new Map,se(m),E);return G(v,W,N),N}var Co=Object.create(null),ra=Object.create(null);function ro(v){var m=v[W];return m||(tt(v),v[W])}var Ar=q("ObservableObjectAdministration",eu);function Or(v){return!!U(v)&&(tt(v),Ar(v[W]))}function zr(v,m){if(typeof v=="object"&&v!==null){if(Lr(v))return m!==void 0&&T(!1),v[W].atom;if(sr(v))return v[W];if(Bn(v)){var E=v;return m===void 0?E._keysAtom:((N=E._data.get(m)||E._hasMap.get(m))||T(!1),N)}var N;if(tt(v),m&&!v[W]&&v[m],Or(v))return m?((N=v[W].values.get(m))||T(!1),N):T(!1);if(H(v)||yo(v)||Ei(v))return v}else if(typeof v=="function"&&Ei(v[W]))return v[W];return T(!1)}function oo(v,m){return v||T("Expecting some object"),m!==void 0?oo(zr(v,m)):H(v)||yo(v)||Ei(v)||Bn(v)||sr(v)?v:(tt(v),v[W]?v[W]:void T(!1))}var _e=Object.prototype.toString;function Me(v,m,E){return E===void 0&&(E=-1),Re(v,m,E)}function Re(v,m,E,N,Y){if(v===m)return v!==0||1/v==1/m;if(v==null||m==null)return!1;if(v!=v)return m!=m;var fe=typeof v;if(fe!=="function"&&fe!=="object"&&typeof m!="object")return!1;var xe=_e.call(v);if(xe!==_e.call(m))return!1;switch(xe){case"[object RegExp]":case"[object String]":return""+v==""+m;case"[object Number]":return+v!=+v?+m!=+m:+v==0?1/+v==1/m:+v==+m;case"[object Date]":case"[object Boolean]":return+v==+m;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(v)===Symbol.valueOf.call(m);case"[object Map]":case"[object Set]":E>=0&&E++}v=qe(v),m=qe(m);var Be=xe==="[object Array]";if(!Be){if(typeof v!="object"||typeof m!="object")return!1;var ot=v.constructor,Ht=m.constructor;if(ot!==Ht&&!(typeof ot=="function"&&ot instanceof ot&&typeof Ht=="function"&&Ht instanceof Ht)&&"constructor"in v&&"constructor"in m)return!1}if(E===0)return!1;E<0&&(E=-1),Y=Y||[];for(var Qe=(N=N||[]).length;Qe--;)if(N[Qe]===v)return Y[Qe]===m;if(N.push(v),Y.push(m),Be){if((Qe=v.length)!==m.length)return!1;for(;Qe--;)if(!Re(v[Qe],m[Qe],E-1,N,Y))return!1}else{var pn=Object.keys(v),Lt=void 0;if(Qe=pn.length,Object.keys(m).length!==Qe)return!1;for(;Qe--;)if(!It(m,Lt=pn[Qe])||!Re(v[Lt],m[Lt],E-1,N,Y))return!1}return N.pop(),Y.pop(),!0}function qe(v){return Lr(v)?v.slice():J(v)||Bn(v)||ce(v)||sr(v)?Array.from(v.entries()):v}function It(v,m){return Object.prototype.hasOwnProperty.call(v,m)}function Wt(v){return v[Symbol.iterator]=yn,v}function yn(){return this}if(typeof Proxy>"u"||typeof Symbol>"u")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Fa,extras:{getDebugName:function(v,m){return(m!==void 0?zr(v,m):Or(v)||Bn(v)||sr(v)?oo(v):zr(v)).name}},$mobx:W})}).call(this,u(163),u(68))},function(h,b,u){var d=u(113),f=u(42),_=u(179);d||f(Object.prototype,"toString",_,{unsafe:!0})},function(h,b,u){var d=u(41),f=u(100),_=u(80),g=u(58),S=u(116),T="Array Iterator",M=g.set,I=g.getterFor(T);h.exports=S(Array,"Array",function(C,U){M(this,{type:T,target:d(C),index:0,kind:U})},function(){var C=I(this),U=C.target,z=C.kind,G=C.index++;return!U||G>=U.length?(C.target=void 0,{value:void 0,done:!0}):z=="keys"?{value:G,done:!1}:z=="values"?{value:U[G],done:!1}:{value:[G,U[G]],done:!1}},"values"),_.Arguments=_.Array,f("keys"),f("values"),f("entries")},function(h,b,u){var d=u(16),f=u(7),_=u(46),g=u(76),S=u(34),T=u(15),M=u(71),I=u(36),C=u(108),U=u(18),z=u(35),G=u(96),q=u(30),J=u(33),ce=u(54),he=u(87),se=u(32),Q=u(40),re=u(41),W=u(86),L=u(39),H=u(69),X=u(60),$=u(77),ie=u(74),Ee=u(139),be=u(112),Pe=u(50),ze=u(38),je=u(84),ve=u(98),Se=u(42),Ae=u(89),Fe=u(93),tt=u(72),mt=u(90),Ye=u(28),Ke=u(140),vt=u(141),ue=u(78),oe=u(58),de=u(79).forEach,De=Fe("hidden"),Xe="Symbol",Ie=Ye("toPrimitive"),Ot=oe.set,Pt=oe.getterFor(Xe),xt=Object.prototype,ht=f.Symbol,ke=ht&&ht.prototype,at=f.TypeError,le=f.QObject,nt=_("JSON","stringify"),Ct=Pe.f,rn=ze.f,Rt=Ee.f,Kt=je.f,fn=T([].push),mn=Ae("symbols"),Dt=Ae("op-symbols"),Mn=Ae("string-to-symbol-registry"),K=Ae("symbol-to-string-registry"),pe=Ae("wks"),ne=!le||!le.prototype||!le.prototype.findChild,me=I&&U(function(){return X(rn({},"a",{get:function(){return rn(this,"a",{value:7}).a}})).a!=7})?function(rt,gt,wt){var Mt=Ct(xt,gt);Mt&&delete xt[gt],rn(rt,gt,wt),Mt&&rt!==xt&&rn(xt,gt,Mt)}:rn,We=function(rt,gt){var wt=mn[rt]=X(ke);return Ot(wt,{type:Xe,tag:rt,description:gt}),I||(wt.description=gt),wt},Ve=function(rt,gt,wt){rt===xt&&Ve(Dt,gt,wt),se(rt);var Mt=W(gt);return se(wt),z(mn,Mt)?(wt.enumerable?(z(rt,De)&&rt[De][Mt]&&(rt[De][Mt]=!1),wt=X(wt,{enumerable:H(0,!1)})):(z(rt,De)||rn(rt,De,H(1,{})),rt[De][Mt]=!0),me(rt,Mt,wt)):rn(rt,Mt,wt)},st=function(rt,gt){se(rt);var wt=re(gt),Mt=$(wt).concat(Nn(wt));return de(Mt,function(sn){I&&!S(Ft,wt,sn)||Ve(rt,sn,wt[sn])}),rt},Ft=function(rt){var gt=W(rt),wt=S(Kt,this,gt);return!(this===xt&&z(mn,gt)&&!z(Dt,gt))&&(!(wt||!z(this,gt)||!z(mn,gt)||z(this,De)&&this[De][gt])||wt)},Hn=function(rt,gt){var wt=re(rt),Mt=W(gt);if(wt!==xt||!z(mn,Mt)||z(Dt,Mt)){var sn=Ct(wt,Mt);return!sn||!z(mn,Mt)||z(wt,De)&&wt[De][Mt]||(sn.enumerable=!0),sn}},er=function(rt){var gt=Rt(re(rt)),wt=[];return de(gt,function(Mt){z(mn,Mt)||z(tt,Mt)||fn(wt,Mt)}),wt},Nn=function(rt){var gt=rt===xt,wt=Rt(gt?Dt:re(rt)),Mt=[];return de(wt,function(sn){!z(mn,sn)||gt&&!z(xt,sn)||fn(Mt,mn[sn])}),Mt};if(C||(ht=function(){if(ce(ke,this))throw at("Symbol is not a constructor");var rt=arguments.length&&arguments[0]!==void 0?L(arguments[0]):void 0,gt=mt(rt),wt=function(Mt){this===xt&&S(wt,Dt,Mt),z(this,De)&&z(this[De],gt)&&(this[De][gt]=!1),me(this,gt,H(1,Mt))};return I&&ne&&me(xt,gt,{configurable:!0,set:wt}),We(gt,rt)},Se(ke=ht.prototype,"toString",function(){return Pt(this).tag}),Se(ht,"withoutSetter",function(rt){return We(mt(rt),rt)}),je.f=Ft,ze.f=Ve,Pe.f=Hn,ie.f=Ee.f=er,be.f=Nn,Ke.f=function(rt){return We(Ye(rt),rt)},I&&(rn(ke,"description",{configurable:!0,get:function(){return Pt(this).description}}),M||Se(xt,"propertyIsEnumerable",Ft,{unsafe:!0}))),d({global:!0,wrap:!0,forced:!C,sham:!C},{Symbol:ht}),de($(pe),function(rt){vt(rt)}),d({target:Xe,stat:!0,forced:!C},{for:function(rt){var gt=L(rt);if(z(Mn,gt))return Mn[gt];var wt=ht(gt);return Mn[gt]=wt,K[wt]=gt,wt},keyFor:function(rt){if(!he(rt))throw at(rt+" is not a symbol");if(z(K,rt))return K[rt]},useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),d({target:"Object",stat:!0,forced:!C,sham:!I},{create:function(rt,gt){return gt===void 0?X(rt):st(X(rt),gt)},defineProperty:Ve,defineProperties:st,getOwnPropertyDescriptor:Hn}),d({target:"Object",stat:!0,forced:!C},{getOwnPropertyNames:er,getOwnPropertySymbols:Nn}),d({target:"Object",stat:!0,forced:U(function(){be.f(1)})},{getOwnPropertySymbols:function(rt){return be.f(Q(rt))}}),nt&&d({target:"JSON",stat:!0,forced:!C||U(function(){var rt=ht();return nt([rt])!="[null]"||nt({a:rt})!="{}"||nt(Object(rt))!="{}"})},{stringify:function(rt,gt,wt){var Mt=ve(arguments),sn=gt;if((J(gt)||rt!==void 0)&&!he(rt))return G(gt)||(gt=function(jn,ho){if(q(sn)&&(ho=S(sn,this,jn,ho)),!he(ho))return ho}),Mt[1]=gt,g(nt,null,Mt)}}),!ke[Ie]){var zn=ke.valueOf;Se(ke,Ie,function(rt){return S(zn,this)})}ue(ht,Xe),tt[De]=!0},function(h,b,u){var d=u(7),f=u(152),_=u(153),g=u(3),S=u(57),T=u(28),M=T("iterator"),I=T("toStringTag"),C=g.values,U=function(G,q){if(G){if(G[M]!==C)try{S(G,M,C)}catch{G[M]=C}if(G[I]||S(G,I,q),f[q]){for(var J in g)if(G[J]!==g[J])try{S(G,J,g[J])}catch{G[J]=g[J]}}}};for(var z in f)U(d[z]&&d[z].prototype,z);U(_,"DOMTokenList")},function(h,b,u){var d=u(151).charAt,f=u(39),_=u(58),g=u(116),S="String Iterator",T=_.set,M=_.getterFor(S);g(String,"String",function(I){T(this,{type:S,string:f(I),index:0})},function(){var I,C=M(this),U=C.string,z=C.index;return z>=U.length?{value:void 0,done:!0}:(I=d(U,z),C.index+=I.length,{value:I,done:!1})})},function(h,b,u){(function(d){var f=function(_){return _&&_.Math==Math&&_};h.exports=f(typeof globalThis=="object"&&globalThis)||f(typeof window=="object"&&window)||f(typeof self=="object"&&self)||f(typeof d=="object"&&d)||function(){return this}()||Function("return this")()}).call(this,u(68))},function(h,b,u){var d=u(16),f=u(36),_=u(7),g=u(15),S=u(35),T=u(30),M=u(54),I=u(39),C=u(38).f,U=u(134),z=_.Symbol,G=z&&z.prototype;if(f&&T(z)&&(!("description"in G)||z().description!==void 0)){var q={},J=function(){var L=arguments.length<1||arguments[0]===void 0?void 0:I(arguments[0]),H=M(G,this)?new z(L):L===void 0?z():z(L);return L===""&&(q[H]=!0),H};U(J,z),J.prototype=G,G.constructor=J;var ce=String(z("test"))=="Symbol(test)",he=g(G.toString),se=g(G.valueOf),Q=/^Symbol\((.*)\)[^)]+$/,re=g("".replace),W=g("".slice);C(G,"description",{configurable:!0,get:function(){var L=se(this),H=he(L);if(S(q,L))return"";var X=ce?W(H,7,-1):re(H,Q,"$1");return X===""?void 0:X}}),d({global:!0,forced:!0},{Symbol:J})}},function(h,b,u){u(141)("iterator")},function(h,b,u){u.d(b,"a",function(){return g.a}),u.d(b,"c",function(){return g.e}),u.d(b,"h",function(){return Q}),u.d(b,"i",function(){return ce}),u.d(b,"j",function(){return q}),u.d(b,"b",function(){return Pe}),u.d(b,"e",function(){return Se}),u.d(b,"f",function(){return ze}),u.d(b,"g",function(){return mn});var d,f,_,g=u(0),S=0,T=[],M=g.i.__b,I=g.i.__r,C=g.i.diffed,U=g.i.__c,z=g.i.unmount;function G(K,pe){g.i.__h&&g.i.__h(f,K,S||pe),S=0;var ne=f.__H||(f.__H={__:[],__h:[]});return K>=ne.__.length&&ne.__.push({}),ne.__[K]}function q(K){return S=1,J(ie,K)}function J(K,pe,ne){var me=G(d++,2);return me.t=K,me.__c||(me.__=[ne?ne(pe):ie(void 0,pe),function(We){var Ve=me.t(me.__[0],We);me.__[0]!==Ve&&(me.__=[Ve,me.__[1]],me.__c.setState({}))}],me.__c=f),me.__}function ce(K,pe){var ne=G(d++,3);!g.i.__s&&$(ne.__H,pe)&&(ne.__=K,ne.__H=pe,f.__H.__h.push(ne))}function he(K,pe){var ne=G(d++,4);!g.i.__s&&$(ne.__H,pe)&&(ne.__=K,ne.__H=pe,f.__h.push(ne))}function se(K,pe){var ne=G(d++,7);return $(ne.__H,pe)&&(ne.__=K(),ne.__H=pe,ne.__h=K),ne.__}function Q(K,pe){return S=8,se(function(){return K},pe)}function re(){var K;for(T.sort(function(pe,ne){return pe.__v.__b-ne.__v.__b});K=T.pop();)if(K.__P)try{K.__H.__h.forEach(H),K.__H.__h.forEach(X),K.__H.__h=[]}catch(pe){K.__H.__h=[],g.i.__e(pe,K.__v)}}g.i.__b=function(K){f=null,M&&M(K)},g.i.__r=function(K){I&&I(K),d=0;var pe=(f=K.__c).__H;pe&&(pe.__h.forEach(H),pe.__h.forEach(X),pe.__h=[])},g.i.diffed=function(K){C&&C(K);var pe=K.__c;pe&&pe.__H&&pe.__H.__h.length&&(T.push(pe)!==1&&_===g.i.requestAnimationFrame||((_=g.i.requestAnimationFrame)||L)(re)),f=null},g.i.__c=function(K,pe){pe.some(function(ne){try{ne.__h.forEach(H),ne.__h=ne.__h.filter(function(me){return!me.__||X(me)})}catch(me){pe.some(function(We){We.__h&&(We.__h=[])}),pe=[],g.i.__e(me,ne.__v)}}),U&&U(K,pe)},g.i.unmount=function(K){z&&z(K);var pe,ne=K.__c;ne&&ne.__H&&(ne.__H.__.forEach(function(me){try{H(me)}catch(We){pe=We}}),pe&&g.i.__e(pe,ne.__v))};var W=typeof requestAnimationFrame=="function";function L(K){var pe,ne=function(){clearTimeout(me),W&&cancelAnimationFrame(pe),setTimeout(K)},me=setTimeout(ne,100);W&&(pe=requestAnimationFrame(ne))}function H(K){var pe=f,ne=K.__c;typeof ne=="function"&&(K.__c=void 0,ne()),f=pe}function X(K){var pe=f;K.__c=K.__(),f=pe}function $(K,pe){return!K||K.length!==pe.length||pe.some(function(ne,me){return ne!==K[me]})}function ie(K,pe){return typeof pe=="function"?pe(K):pe}function Ee(K,pe){for(var ne in pe)K[ne]=pe[ne];return K}function be(K,pe){for(var ne in K)if(ne!=="__source"&&!(ne in pe))return!0;for(var me in pe)if(me!=="__source"&&K[me]!==pe[me])return!0;return!1}function Pe(K){this.props=K}function ze(K,pe){function ne(We){var Ve=this.props.ref,st=Ve==We.ref;return!st&&Ve&&(Ve.call?Ve(null):Ve.current=null),pe?!pe(this.props,We)||!st:be(this.props,We)}function me(We){return this.shouldComponentUpdate=ne,Object(g.e)(K,We)}return me.displayName="Memo("+(K.displayName||K.name)+")",me.prototype.isReactComponent=!0,me.__f=!0,me}(Pe.prototype=new g.a).isPureReactComponent=!0,Pe.prototype.shouldComponentUpdate=function(K,pe){return be(this.props,K)||be(this.state,pe)};var je=g.i.__b;g.i.__b=function(K){K.type&&K.type.__f&&K.ref&&(K.props.ref=K.ref,K.ref=null),je&&je(K)};var ve=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Se(K){function pe(ne,me){var We=Ee({},ne);return delete We.ref,K(We,!(me=ne.ref||me)||typeof me=="object"&&!("current"in me)?null:me)}return pe.$$typeof=ve,pe.render=pe,pe.prototype.isReactComponent=pe.__f=!0,pe.displayName="ForwardRef("+(K.displayName||K.name)+")",pe}var Ae=function(K,pe){return K==null?null:Object(g.k)(Object(g.k)(K).map(pe))},Fe={map:Ae,forEach:Ae,count:function(K){return K?Object(g.k)(K).length:0},only:function(K){var pe=Object(g.k)(K);if(pe.length!==1)throw"Children.only";return pe[0]},toArray:g.k},tt=g.i.__e;g.i.__e=function(K,pe,ne){if(K.then){for(var me,We=pe;We=We.__;)if((me=We.__c)&&me.__c)return pe.__e==null&&(pe.__e=ne.__e,pe.__k=ne.__k),me.__c(K,pe)}tt(K,pe,ne)};var mt=g.i.unmount;function Ye(K,pe,ne){return K&&(K.__c&&K.__c.__H&&(K.__c.__H.__.forEach(function(me){typeof me.__c=="function"&&me.__c()}),K.__c.__H=null),(K=Ee({},K)).__c!=null&&(K.__c.__P===ne&&(K.__c.__P=pe),K.__c=null),K.__k=K.__k&&K.__k.map(function(me){return Ye(me,pe,ne)})),K}function Ke(K,pe,ne){return K&&(K.__v=null,K.__k=K.__k&&K.__k.map(function(me){return Ke(me,pe,ne)}),K.__c&&K.__c.__P===pe&&(K.__e&&ne.insertBefore(K.__e,K.__d),K.__c.__e=!0,K.__c.__P=ne)),K}function vt(){this.__u=0,this.t=null,this.__b=null}function ue(K){var pe=K.__.__c;return pe&&pe.__e&&pe.__e(K)}function oe(){this.u=null,this.o=null}g.i.unmount=function(K){var pe=K.__c;pe&&pe.__R&&pe.__R(),pe&&K.__h===!0&&(K.type=null),mt&&mt(K)},(vt.prototype=new g.a).__c=function(K,pe){var ne=pe.__c,me=this;me.t==null&&(me.t=[]),me.t.push(ne);var We=ue(me.__v),Ve=!1,st=function(){Ve||(Ve=!0,ne.__R=null,We?We(Ft):Ft())};ne.__R=st;var Ft=function(){if(!--me.__u){if(me.state.__e){var er=me.state.__e;me.__v.__k[0]=Ke(er,er.__c.__P,er.__c.__O)}var Nn;for(me.setState({__e:me.__b=null});Nn=me.t.pop();)Nn.forceUpdate()}},Hn=pe.__h===!0;me.__u++||Hn||me.setState({__e:me.__b=me.__v.__k[0]}),K.then(st,st)},vt.prototype.componentWillUnmount=function(){this.t=[]},vt.prototype.render=function(K,pe){if(this.__b){if(this.__v.__k){var ne=document.createElement("div"),me=this.__v.__k[0].__c;this.__v.__k[0]=Ye(this.__b,ne,me.__O=me.__P)}this.__b=null}var We=pe.__e&&Object(g.e)(g.b,null,K.fallback);return We&&(We.__h=null),[Object(g.e)(g.b,null,pe.__e?null:K.children),We]};var de=function(K,pe,ne){if(++ne[1]===ne[0]&&K.o.delete(pe),K.props.revealOrder&&(K.props.revealOrder[0]!=="t"||!K.o.size))for(ne=K.u;ne;){for(;ne.length>3;)ne.pop()();if(ne[1]<ne[0])break;K.u=ne=ne[2]}};function De(K){return this.getChildContext=function(){return K.context},K.children}function Xe(K){var pe=this,ne=K.i;pe.componentWillUnmount=function(){Object(g.j)(null,pe.l),pe.l=null,pe.i=null},pe.i&&pe.i!==ne&&pe.componentWillUnmount(),K.__v?(pe.l||(pe.i=ne,pe.l={nodeType:1,parentNode:ne,childNodes:[],appendChild:function(me){this.childNodes.push(me),pe.i.appendChild(me)},insertBefore:function(me,We){this.childNodes.push(me),pe.i.appendChild(me)},removeChild:function(me){this.childNodes.splice(this.childNodes.indexOf(me)>>>1,1),pe.i.removeChild(me)}}),Object(g.j)(Object(g.e)(De,{context:pe.context},K.__v),pe.l)):pe.l&&pe.componentWillUnmount()}(oe.prototype=new g.a).__e=function(K){var pe=this,ne=ue(pe.__v),me=pe.o.get(K);return me[0]++,function(We){var Ve=function(){pe.props.revealOrder?(me.push(We),de(pe,K,me)):We()};ne?ne(Ve):Ve()}},oe.prototype.render=function(K){this.u=null,this.o=new Map;var pe=Object(g.k)(K.children);K.revealOrder&&K.revealOrder[0]==="b"&&pe.reverse();for(var ne=pe.length;ne--;)this.o.set(pe[ne],this.u=[1,0,this.u]);return K.children},oe.prototype.componentDidUpdate=oe.prototype.componentDidMount=function(){var K=this;this.o.forEach(function(pe,ne){de(K,ne,pe)})};var Ie=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Ot=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Pt=typeof document<"u",xt=function(K){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(K)};g.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(K){Object.defineProperty(g.a.prototype,K,{configurable:!0,get:function(){return this["UNSAFE_"+K]},set:function(pe){Object.defineProperty(this,K,{configurable:!0,writable:!0,value:pe})}})});var ht=g.i.event;function ke(){}function at(){return this.cancelBubble}function le(){return this.defaultPrevented}g.i.event=function(K){return ht&&(K=ht(K)),K.persist=ke,K.isPropagationStopped=at,K.isDefaultPrevented=le,K.nativeEvent=K};var nt,Ct={configurable:!0,get:function(){return this.class}},rn=g.i.vnode;g.i.vnode=function(K){var pe=K.type,ne=K.props,me=ne;if(typeof pe=="string"){var We=pe.indexOf("-")===-1;for(var Ve in me={},ne){var st=ne[Ve];Pt&&Ve==="children"&&pe==="noscript"||Ve==="value"&&"defaultValue"in ne&&st==null||(Ve==="defaultValue"&&"value"in ne&&ne.value==null?Ve="value":Ve==="download"&&st===!0?st="":/ondoubleclick/i.test(Ve)?Ve="ondblclick":/^onchange(textarea|input)/i.test(Ve+pe)&&!xt(ne.type)?Ve="oninput":/^onfocus$/i.test(Ve)?Ve="onfocusin":/^onblur$/i.test(Ve)?Ve="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(Ve)?Ve=Ve.toLowerCase():We&&Ot.test(Ve)?Ve=Ve.replace(/[A-Z0-9]/,"-$&").toLowerCase():st===null&&(st=void 0),me[Ve]=st)}pe=="select"&&me.multiple&&Array.isArray(me.value)&&(me.value=Object(g.k)(ne.children).forEach(function(Ft){Ft.props.selected=me.value.indexOf(Ft.props.value)!=-1})),pe=="select"&&me.defaultValue!=null&&(me.value=Object(g.k)(ne.children).forEach(function(Ft){Ft.props.selected=me.multiple?me.defaultValue.indexOf(Ft.props.value)!=-1:me.defaultValue==Ft.props.value})),K.props=me,ne.class!=ne.className&&(Ct.enumerable="className"in ne,ne.className!=null&&(me.class=ne.className),Object.defineProperty(me,"className",Ct))}K.$$typeof=Ie,rn&&rn(K)};var Rt=g.i.__r;g.i.__r=function(K){Rt&&Rt(K),nt=K.__c};var Kt={ReactCurrentDispatcher:{current:{readContext:function(K){return nt.__n[K.__c].props.value}}}};function fn(K){return!!K&&K.$$typeof===Ie}var mn=function(K,pe){return K(pe)},Dt=g.b,Mn={useState:q,useReducer:J,useEffect:ce,useLayoutEffect:he,useRef:function(K){return S=5,se(function(){return{current:K}},[])},useImperativeHandle:function(K,pe,ne){S=6,he(function(){typeof K=="function"?K(pe()):K&&(K.current=pe())},ne==null?ne:ne.concat(K))},useMemo:se,useCallback:Q,useContext:function(K){var pe=f.context[K.__c],ne=G(d++,9);return ne.c=K,pe?(ne.__==null&&(ne.__=!0,pe.sub(f)),pe.props.value):K.__},useDebugValue:function(K,pe){g.i.useDebugValue&&g.i.useDebugValue(pe?pe(K):K)},version:"17.0.2",Children:Fe,render:function(K,pe,ne){return pe.__k==null&&(pe.textContent=""),Object(g.j)(K,pe),typeof ne=="function"&&ne(),K?K.__c:null},hydrate:function(K,pe,ne){return Object(g.h)(K,pe),typeof ne=="function"&&ne(),K?K.__c:null},unmountComponentAtNode:function(K){return!!K.__k&&(Object(g.j)(null,K),!0)},createPortal:function(K,pe){return Object(g.e)(Xe,{__v:K,i:pe})},createElement:g.e,createContext:g.d,createFactory:function(K){return g.e.bind(null,K)},cloneElement:function(K){return fn(K)?g.c.apply(null,arguments):K},createRef:g.f,Fragment:g.b,isValidElement:fn,findDOMNode:function(K){return K&&(K.base||K.nodeType===1&&K)||null},Component:g.a,PureComponent:Pe,memo:ze,forwardRef:Se,flushSync:function(K,pe){return K(pe)},unstable_batchedUpdates:mn,StrictMode:Dt,Suspense:vt,SuspenseList:oe,lazy:function(K){var pe,ne,me;function We(Ve){if(pe||(pe=K()).then(function(st){ne=st.default||st},function(st){me=st}),me)throw me;if(!ne)throw pe;return Object(g.e)(ne,Ve)}return We.displayName="Lazy",We.__f=!0,We},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Kt};b.d=Mn},function(h,b,u){var d=u(7),f=u(152),_=u(153),g=u(187),S=u(57),T=function(I){if(I&&I.forEach!==g)try{S(I,"forEach",g)}catch{I.forEach=g}};for(var M in f)f[M]&&T(d[M]&&d[M].prototype);T(_)},function(h,b,u){u(16)({target:"Object",stat:!0},{setPrototypeOf:u(102)})},function(h,b,u){var d=u(16),f=u(18),_=u(40),g=u(101),S=u(143);d({target:"Object",stat:!0,forced:f(function(){g(1)}),sham:!S},{getPrototypeOf:function(T){return g(_(T))}})},function(h,b,u){var d=u(16),f=u(46),_=u(76),g=u(203),S=u(165),T=u(32),M=u(33),I=u(60),C=u(18),U=f("Reflect","construct"),z=Object.prototype,G=[].push,q=C(function(){function he(){}return!(U(function(){},[],he)instanceof he)}),J=!C(function(){U(function(){})}),ce=q||J;d({target:"Reflect",stat:!0,forced:ce,sham:ce},{construct:function(he,se){S(he),T(se);var Q=arguments.length<3?he:S(arguments[2]);if(J&&!q)return U(he,se,Q);if(he==Q){switch(se.length){case 0:return new he;case 1:return new he(se[0]);case 2:return new he(se[0],se[1]);case 3:return new he(se[0],se[1],se[2]);case 4:return new he(se[0],se[1],se[2],se[3])}var re=[null];return _(G,re,se),new(_(g,he,re))}var W=Q.prototype,L=I(M(W)?W:z),H=_(he,L,se);return M(H)?H:L}})},function(h,b){var u=Function.prototype,d=u.bind,f=u.call,_=d&&d.bind(f);h.exports=d?function(g){return g&&_(f,g)}:function(g){return g&&function(){return f.apply(g,arguments)}}},function(h,b,u){var d=u(7),f=u(50).f,_=u(57),g=u(42),S=u(110),T=u(134),M=u(95);h.exports=function(I,C){var U,z,G,q,J,ce=I.target,he=I.global,se=I.stat;if(U=he?d:se?d[ce]||S(ce,{}):(d[ce]||{}).prototype)for(z in C){if(q=C[z],G=I.noTargetGet?(J=f(U,z))&&J.value:U[z],!M(he?z:ce+(se?".":"#")+z,I.forced)&&G!==void 0){if(typeof q==typeof G)continue;T(q,G)}(I.sham||G&&G.sham)&&_(q,"sham",!0),g(U,z,q,I)}}},function(h,b,u){var d=u(16),f=u(7),_=u(96),g=u(99),S=u(33),T=u(75),M=u(45),I=u(41),C=u(63),U=u(28),z=u(81),G=u(98),q=z("slice"),J=U("species"),ce=f.Array,he=Math.max;d({target:"Array",proto:!0,forced:!q},{slice:function(se,Q){var re,W,L,H=I(this),X=M(H),$=T(se,X),ie=T(Q===void 0?X:Q,X);if(_(H)&&(re=H.constructor,(g(re)&&(re===ce||_(re.prototype))||S(re)&&(re=re[J])===null)&&(re=void 0),re===ce||re===void 0))return G(H,$,ie);for(W=new(re===void 0?ce:re)(he(ie-$,0)),L=0;$<ie;$++,L++)$ in H&&C(W,L,H[$]);return W.length=L,W}})},function(h,b){h.exports=function(u){try{return!!u()}catch{return!0}}},function(h,b,u){var d=u(16),f=u(103);d({target:"RegExp",proto:!0,forced:/./.exec!==f},{exec:f})},function(h,b,u){var d=u(16),f=u(40),_=u(77);d({target:"Object",stat:!0,forced:u(18)(function(){_(1)})},{keys:function(g){return _(f(g))}})},function(h,b,u){var d=u(36),f=u(73).EXISTS,_=u(15),g=u(38).f,S=Function.prototype,T=_(S.toString),M=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,I=_(M.exec);d&&!f&&g(S,"name",{configurable:!0,get:function(){try{return I(M,T(this))[1]}catch{return""}}})},function(h,b,u){var d=u(16),f=u(18),_=u(41),g=u(50).f,S=u(36),T=f(function(){g(1)});d({target:"Object",stat:!0,forced:!S||T,sham:!S},{getOwnPropertyDescriptor:function(M,I){return g(_(M),I)}})},function(h,b,u){var d=u(16),f=u(188);d({target:"Array",stat:!0,forced:!u(120)(function(_){Array.from(_)})},{from:f})},function(h,b,u){var d=u(16),f=u(79).filter;d({target:"Array",proto:!0,forced:!u(81)("filter")},{filter:function(_){return f(this,_,arguments.length>1?arguments[1]:void 0)}})},function(h,b,u){var d=u(16),f=u(36),_=u(135),g=u(41),S=u(50),T=u(63);d({target:"Object",stat:!0,sham:!f},{getOwnPropertyDescriptors:function(M){for(var I,C,U=g(M),z=S.f,G=_(U),q={},J=0;G.length>J;)(C=z(U,I=G[J++]))!==void 0&&T(q,I,C);return q}})},function(h,b,u){var d=u(16),f=u(7),_=u(18),g=u(96),S=u(33),T=u(40),M=u(45),I=u(63),C=u(115),U=u(81),z=u(28),G=u(70),q=z("isConcatSpreadable"),J=9007199254740991,ce="Maximum allowed index exceeded",he=f.TypeError,se=G>=51||!_(function(){var W=[];return W[q]=!1,W.concat()[0]!==W}),Q=U("concat"),re=function(W){if(!S(W))return!1;var L=W[q];return L!==void 0?!!L:g(W)};d({target:"Array",proto:!0,forced:!se||!Q},{concat:function(W){var L,H,X,$,ie,Ee=T(this),be=C(Ee,0),Pe=0;for(L=-1,X=arguments.length;L<X;L++)if(re(ie=L===-1?Ee:arguments[L])){if(Pe+($=M(ie))>J)throw he(ce);for(H=0;H<$;H++,Pe++)H in ie&&I(be,Pe,ie[H])}else{if(Pe>=J)throw he(ce);I(be,Pe++,ie)}return be.length=Pe,be}})},,function(h,b,u){var d=u(7),f=u(89),_=u(35),g=u(90),S=u(108),T=u(132),M=f("wks"),I=d.Symbol,C=I&&I.for,U=T?I:I&&I.withoutSetter||g;h.exports=function(z){if(!_(M,z)||!S&&typeof M[z]!="string"){var G="Symbol."+z;S&&_(I,z)?M[z]=I[z]:M[z]=T&&C?C(G):U(G)}return M[z]}},function(h,b,u){var d=u(16),f=u(202);d({target:"Object",stat:!0,forced:Object.assign!==f},{assign:f})},function(h,b){h.exports=function(u){return typeof u=="function"}},function(h,b,u){var d=u(106),f=typeof self=="object"&&self&&self.Object===Object&&self,_=d.a||f||Function("return this")();b.a=_},function(h,b,u){var d=u(7),f=u(33),_=d.String,g=d.TypeError;h.exports=function(S){if(f(S))return S;throw g(_(S)+" is not an object")}},function(h,b,u){var d=u(30);h.exports=function(f){return typeof f=="object"?f!==null:d(f)}},function(h,b){var u=Function.prototype.call;h.exports=u.bind?u.bind(u):function(){return u.apply(u,arguments)}},function(h,b,u){var d=u(15),f=u(40),_=d({}.hasOwnProperty);h.exports=Object.hasOwn||function(g,S){return _(f(g),S)}},function(h,b,u){var d=u(18);h.exports=!d(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(h,b,u){var d=u(16),f=u(79).map;d({target:"Array",proto:!0,forced:!u(81)("map")},{map:function(_){return f(this,_,arguments.length>1?arguments[1]:void 0)}})},function(h,b,u){var d=u(7),f=u(36),_=u(133),g=u(32),S=u(86),T=d.TypeError,M=Object.defineProperty;b.f=f?M:function(I,C,U){if(g(I),C=S(C),g(U),_)try{return M(I,C,U)}catch{}if("get"in U||"set"in U)throw T("Accessors not supported");return"value"in U&&(I[C]=U.value),I}},function(h,b,u){var d=u(7),f=u(97),_=d.String;h.exports=function(g){if(f(g)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return _(g)}},function(h,b,u){var d=u(7),f=u(44),_=d.Object;h.exports=function(g){return _(f(g))}},function(h,b,u){var d=u(85),f=u(44);h.exports=function(_){return d(f(_))}},function(h,b,u){var d=u(7),f=u(30),_=u(35),g=u(57),S=u(110),T=u(92),M=u(58),I=u(73).CONFIGURABLE,C=M.get,U=M.enforce,z=String(String).split("String");(h.exports=function(G,q,J,ce){var he,se=!!ce&&!!ce.unsafe,Q=!!ce&&!!ce.enumerable,re=!!ce&&!!ce.noTargetGet,W=ce&&ce.name!==void 0?ce.name:q;f(J)&&(String(W).slice(0,7)==="Symbol("&&(W="["+String(W).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!_(J,"name")||I&&J.name!==W)&&g(J,"name",W),(he=U(J)).source||(he.source=z.join(typeof W=="string"?W:""))),G!==d?(se?!re&&G[q]&&(Q=!0):delete G[q],Q?G[q]=J:g(G,q,J)):Q?G[q]=J:S(q,J)})(Function.prototype,"toString",function(){return f(this)&&C(this).source||T(this)})},function(h,b,u){(function(d){u.d(b,"d",function(){return g}),u.d(b,"c",function(){return S}),u.d(b,"b",function(){return T}),u.d(b,"a",function(){return I});var f=u(10),_=function(C,U){var z=typeof Symbol=="function"&&C[Symbol.iterator];if(!z)return C;var G,q,J=z.call(C),ce=[];try{for(;(U===void 0||U-- >0)&&!(G=J.next()).done;)ce.push(G.value)}catch(he){q={error:he}}finally{try{G&&!G.done&&(z=J.return)&&z.call(J)}finally{if(q)throw q.error}}return ce};function g(){var C=_(Object(f.j)(0),2)[1];return Object(f.h)(function(){C(function(U){return U+1})},[])}function S(C){if(!C||typeof C!="object")return!1;var U=Object.getPrototypeOf(C);return!U||U===Object.prototype}function T(C){return typeof Symbol=="function"?Symbol.for(C):"__$mobx-react "+C+"__"}var M={};function I(){return typeof window<"u"?window:d!==void 0?d:typeof self<"u"?self:M}}).call(this,u(68))},function(h,b,u){var d=u(7).TypeError;h.exports=function(f){if(f==null)throw d("Can't call method on "+f);return f}},function(h,b,u){var d=u(94);h.exports=function(f){return d(f.length)}},function(h,b,u){var d=u(7),f=u(30),_=function(g){return f(g)?g:void 0};h.exports=function(g,S){return arguments.length<2?_(d[g]):d[g]&&d[g][S]}},function(h,b,u){var d=u(16),f=u(34),_=u(33),g=u(32),S=u(204),T=u(50),M=u(101);d({target:"Reflect",stat:!0},{get:function I(C,U){var z,G,q=arguments.length<3?C:arguments[2];return g(C)===q?C[U]:(z=T.f(C,U))?S(z)?z.value:z.get===void 0?void 0:f(z.get,q):_(G=M(C))?I(G,U,q):void 0}})},function(h,b,u){(function(d){var f=u(31),_=u(171),g=j&&!j.nodeType&&j,S=g&&typeof d=="object"&&d&&!d.nodeType&&d,T=S&&S.exports===g?f.a.Buffer:void 0,M=(T?T.isBuffer:void 0)||_.a;b.a=M}).call(this,u(122)(h))},function(h,b,u){(function(d){var f=u(106),_=j&&!j.nodeType&&j,g=_&&typeof d=="object"&&d&&!d.nodeType&&d,S=g&&g.exports===_&&f.a.process,T=function(){try{var M=g&&g.require&&g.require("util").types;return M||S&&S.binding&&S.binding("util")}catch{}}();b.a=T}).call(this,u(122)(h))},function(h,b,u){var d=u(36),f=u(34),_=u(84),g=u(69),S=u(41),T=u(86),M=u(35),I=u(133),C=Object.getOwnPropertyDescriptor;b.f=d?C:function(U,z){if(U=S(U),z=T(z),I)try{return C(U,z)}catch{}if(M(U,z))return g(!f(_.f,U,z),U[z])}},function(h,b,u){var d=u(15),f=d({}.toString),_=d("".slice);h.exports=function(g){return _(f(g),8,-1)}},function(h,b,u){u(182)("Map",function(d){return function(){return d(this,arguments.length?arguments[0]:void 0)}},u(186))},function(h,b,u){var d=u(16),f=u(220).entries;d({target:"Object",stat:!0},{entries:function(_){return f(_)}})},function(h,b,u){var d=u(15);h.exports=d({}.isPrototypeOf)},function(h,b,u){var d=u(46);h.exports=d("navigator","userAgent")||""},function(h,b,u){var d=u(7),f=u(30),_=u(88),g=d.TypeError;h.exports=function(S){if(f(S))return S;throw g(_(S)+" is not a function")}},function(h,b,u){var d=u(36),f=u(38),_=u(69);h.exports=d?function(g,S,T){return f.f(g,S,_(1,T))}:function(g,S,T){return g[S]=T,g}},function(h,b,u){var d,f,_,g=u(175),S=u(7),T=u(15),M=u(33),I=u(57),C=u(35),U=u(109),z=u(93),G=u(72),q="Object already initialized",J=S.TypeError,ce=S.WeakMap;if(g||U.state){var he=U.state||(U.state=new ce),se=T(he.get),Q=T(he.has),re=T(he.set);d=function(L,H){if(Q(he,L))throw new J(q);return H.facade=L,re(he,L,H),H},f=function(L){return se(he,L)||{}},_=function(L){return Q(he,L)}}else{var W=z("state");G[W]=!0,d=function(L,H){if(C(L,W))throw new J(q);return H.facade=L,I(L,W,H),H},f=function(L){return C(L,W)?L[W]:{}},_=function(L){return C(L,W)}}h.exports={set:d,get:f,has:_,enforce:function(L){return _(L)?f(L):d(L,{})},getterFor:function(L){return function(H){var X;if(!M(H)||(X=f(H)).type!==L)throw J("Incompatible receiver, "+L+" required");return X}}}},function(h,b){var u=Math.ceil,d=Math.floor;h.exports=function(f){var _=+f;return _!=_||_===0?0:(_>0?d:u)(_)}},function(h,b,u){var d,f=u(32),_=u(176),g=u(111),S=u(72),T=u(138),M=u(91),I=u(93),C=I("IE_PROTO"),U=function(){},z=function(J){return"<script>"+J+"<\/script>"},G=function(J){J.write(z("")),J.close();var ce=J.parentWindow.Object;return J=null,ce},q=function(){try{d=new ActiveXObject("htmlfile")}catch{}var J,ce;q=typeof document<"u"?document.domain&&d?G(d):((ce=M("iframe")).style.display="none",T.appendChild(ce),ce.src="javascript:",(J=ce.contentWindow.document).open(),J.write(z("document.F=Object")),J.close(),J.F):G(d);for(var he=g.length;he--;)delete q.prototype[g[he]];return q()};S[C]=!0,h.exports=Object.create||function(J,ce){var he;return J!==null?(U.prototype=f(J),he=new U,U.prototype=null,he[C]=J):he=q(),ce===void 0?he:_(he,ce)}},function(h,b,u){var d=u(36),f=u(7),_=u(15),g=u(95),S=u(42),T=u(35),M=u(148),I=u(54),C=u(87),U=u(131),z=u(18),G=u(74).f,q=u(50).f,J=u(38).f,ce=u(160),he=u(161).trim,se="Number",Q=f.Number,re=Q.prototype,W=f.TypeError,L=_("".slice),H=_("".charCodeAt),X=function(ze){var je=U(ze,"number");return typeof je=="bigint"?je:$(je)},$=function(ze){var je,ve,Se,Ae,Fe,tt,mt,Ye,Ke=U(ze,"number");if(C(Ke))throw W("Cannot convert a Symbol value to a number");if(typeof Ke=="string"&&Ke.length>2){if(Ke=he(Ke),(je=H(Ke,0))===43||je===45){if((ve=H(Ke,2))===88||ve===120)return NaN}else if(je===48){switch(H(Ke,1)){case 66:case 98:Se=2,Ae=49;break;case 79:case 111:Se=8,Ae=55;break;default:return+Ke}for(tt=(Fe=L(Ke,2)).length,mt=0;mt<tt;mt++)if((Ye=H(Fe,mt))<48||Ye>Ae)return NaN;return parseInt(Fe,Se)}}return+Ke};if(g(se,!Q(" 0o1")||!Q("0b1")||Q("+0x1"))){for(var ie,Ee=function(ze){var je=arguments.length<1?0:Q(X(ze)),ve=this;return I(re,ve)&&z(function(){ce(ve)})?M(Object(je),ve,Ee):je},be=d?G(Q):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Pe=0;be.length>Pe;Pe++)T(Q,ie=be[Pe])&&!T(Ee,ie)&&J(Ee,ie,q(Q,ie));Ee.prototype=re,re.constructor=Ee,S(f,se,Ee)}},function(h,b,u){var d=u(56);h.exports=function(f,_){var g=f[_];return g==null?void 0:d(g)}},function(h,b,u){var d=u(86),f=u(38),_=u(69);h.exports=function(g,S,T){var M=d(S);M in g?f.f(g,M,_(0,T)):g[M]=T}},function(h,b,u){var d=u(15),f=u(56),_=d(d.bind);h.exports=function(g,S){return f(g),S===void 0?g:_?_(g,S):function(){return g.apply(S,arguments)}}},function(h,b,u){var d=u(16),f=u(15),_=u(85),g=u(41),S=u(121),T=f([].join),M=_!=Object,I=S("join",",");d({target:"Array",proto:!0,forced:M||!I},{join:function(C){return T(g(this),C===void 0?",":C)}})},function(h,b,u){var d=u(15),f=u(73).PROPER,_=u(42),g=u(32),S=u(54),T=u(39),M=u(18),I=u(154),C="toString",U=RegExp.prototype,z=U.toString,G=d(I),q=M(function(){return z.call({source:"a",flags:"b"})!="/a/b"}),J=f&&z.name!=C;(q||J)&&_(RegExp.prototype,C,function(){var ce=g(this),he=T(ce.source),se=ce.flags;return"/"+he+"/"+T(se===void 0&&S(U,ce)&&!("flags"in U)?G(ce):se)},{unsafe:!0})},function(h,b,u){var d=u(16),f=u(217),_=u(100);d({target:"Array",proto:!0},{fill:f}),_("fill")},function(h,b){var u;u=function(){return this}();try{u=u||new Function("return this")()}catch{typeof window=="object"&&(u=window)}h.exports=u},function(h,b){h.exports=function(u,d){return{enumerable:!(1&u),configurable:!(2&u),writable:!(4&u),value:d}}},function(h,b,u){var d,f,_=u(7),g=u(55),S=_.process,T=_.Deno,M=S&&S.versions||T&&T.version,I=M&&M.v8;I&&(f=(d=I.split("."))[0]>0&&d[0]<4?1:+(d[0]+d[1])),!f&&g&&(!(d=g.match(/Edge\/(\d+)/))||d[1]>=74)&&(d=g.match(/Chrome\/(\d+)/))&&(f=+d[1]),h.exports=f},function(h,b){h.exports=!1},function(h,b){h.exports={}},function(h,b,u){var d=u(36),f=u(35),_=Function.prototype,g=d&&Object.getOwnPropertyDescriptor,S=f(_,"name"),T=S&&function(){}.name==="something",M=S&&(!d||d&&g(_,"name").configurable);h.exports={EXISTS:S,PROPER:T,CONFIGURABLE:M}},function(h,b,u){var d=u(136),f=u(111).concat("length","prototype");b.f=Object.getOwnPropertyNames||function(_){return d(_,f)}},function(h,b,u){var d=u(59),f=Math.max,_=Math.min;h.exports=function(g,S){var T=d(g);return T<0?f(T+S,0):_(T,S)}},function(h,b){var u=Function.prototype,d=u.apply,f=u.bind,_=u.call;h.exports=typeof Reflect=="object"&&Reflect.apply||(f?_.bind(d):function(){return _.apply(d,arguments)})},function(h,b,u){var d=u(136),f=u(111);h.exports=Object.keys||function(_){return d(_,f)}},function(h,b,u){var d=u(38).f,f=u(35),_=u(28)("toStringTag");h.exports=function(g,S,T){g&&!f(g=T?g:g.prototype,_)&&d(g,_,{configurable:!0,value:S})}},function(h,b,u){var d=u(64),f=u(15),_=u(85),g=u(40),S=u(45),T=u(115),M=f([].push),I=function(C){var U=C==1,z=C==2,G=C==3,q=C==4,J=C==6,ce=C==7,he=C==5||J;return function(se,Q,re,W){for(var L,H,X=g(se),$=_(X),ie=d(Q,re),Ee=S($),be=0,Pe=W||T,ze=U?Pe(se,Ee):z||ce?Pe(se,0):void 0;Ee>be;be++)if((he||be in $)&&(H=ie(L=$[be],be,X),C))if(U)ze[be]=H;else if(H)switch(C){case 3:return!0;case 5:return L;case 6:return be;case 2:M(ze,L)}else switch(C){case 4:return!1;case 7:M(ze,L)}return J?-1:G||q?q:ze}};h.exports={forEach:I(0),map:I(1),filter:I(2),some:I(3),every:I(4),find:I(5),findIndex:I(6),filterReject:I(7)}},function(h,b){h.exports={}},function(h,b,u){var d=u(18),f=u(28),_=u(70),g=f("species");h.exports=function(S){return _>=51||!d(function(){var T=[];return(T.constructor={})[g]=function(){return{foo:1}},T[S](Boolean).foo!==1})}},function(h,b,u){var d=u(76),f=u(34),_=u(15),g=u(123),S=u(159),T=u(32),M=u(44),I=u(164),C=u(124),U=u(94),z=u(39),G=u(62),q=u(114),J=u(125),ce=u(103),he=u(155),se=u(18),Q=he.UNSUPPORTED_Y,re=4294967295,W=Math.min,L=[].push,H=_(/./.exec),X=_(L),$=_("".slice),ie=!se(function(){var Ee=/(?:)/,be=Ee.exec;Ee.exec=function(){return be.apply(this,arguments)};var Pe="ab".split(Ee);return Pe.length!==2||Pe[0]!=="a"||Pe[1]!=="b"});g("split",function(Ee,be,Pe){var ze;return ze="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(je,ve){var Se=z(M(this)),Ae=ve===void 0?re:ve>>>0;if(Ae===0)return[];if(je===void 0)return[Se];if(!S(je))return f(be,Se,je,Ae);for(var Fe,tt,mt,Ye=[],Ke=(je.ignoreCase?"i":"")+(je.multiline?"m":"")+(je.unicode?"u":"")+(je.sticky?"y":""),vt=0,ue=new RegExp(je.source,Ke+"g");(Fe=f(ce,ue,Se))&&!((tt=ue.lastIndex)>vt&&(X(Ye,$(Se,vt,Fe.index)),Fe.length>1&&Fe.index<Se.length&&d(L,Ye,q(Fe,1)),mt=Fe[0].length,vt=tt,Ye.length>=Ae));)ue.lastIndex===Fe.index&&ue.lastIndex++;return vt===Se.length?!mt&&H(ue,"")||X(Ye,""):X(Ye,$(Se,vt)),Ye.length>Ae?q(Ye,0,Ae):Ye}:"0".split(void 0,0).length?function(je,ve){return je===void 0&&ve===0?[]:f(be,this,je,ve)}:be,[function(je,ve){var Se=M(this),Ae=je==null?void 0:G(je,Ee);return Ae?f(Ae,je,Se,ve):f(ze,z(Se),je,ve)},function(je,ve){var Se=T(this),Ae=z(je),Fe=Pe(ze,Se,Ae,ve,ze!==be);if(Fe.done)return Fe.value;var tt=I(Se,RegExp),mt=Se.unicode,Ye=(Se.ignoreCase?"i":"")+(Se.multiline?"m":"")+(Se.unicode?"u":"")+(Q?"g":"y"),Ke=new tt(Q?"^(?:"+Se.source+")":Se,Ye),vt=ve===void 0?re:ve>>>0;if(vt===0)return[];if(Ae.length===0)return J(Ke,Ae)===null?[Ae]:[];for(var ue=0,oe=0,de=[];oe<Ae.length;){Ke.lastIndex=Q?0:oe;var De,Xe=J(Ke,Q?$(Ae,oe):Ae);if(Xe===null||(De=W(U(Ke.lastIndex+(Q?oe:0)),Ae.length))===ue)oe=C(Ae,oe,mt);else{if(X(de,$(Ae,ue,oe)),de.length===vt)return de;for(var Ie=1;Ie<=Xe.length-1;Ie++)if(X(de,Xe[Ie]),de.length===vt)return de;oe=ue=De}}return X(de,$(Ae,ue)),de}]},!ie,Q)},function(h,b,u){u(16)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(h,b,u){var d={}.propertyIsEnumerable,f=Object.getOwnPropertyDescriptor,_=f&&!d.call({1:2},1);b.f=_?function(g){var S=f(this,g);return!!S&&S.enumerable}:d},function(h,b,u){var d=u(7),f=u(15),_=u(18),g=u(51),S=d.Object,T=f("".split);h.exports=_(function(){return!S("z").propertyIsEnumerable(0)})?function(M){return g(M)=="String"?T(M,""):S(M)}:S},function(h,b,u){var d=u(131),f=u(87);h.exports=function(_){var g=d(_,"string");return f(g)?g:g+""}},function(h,b,u){var d=u(7),f=u(46),_=u(30),g=u(54),S=u(132),T=d.Object;h.exports=S?function(M){return typeof M=="symbol"}:function(M){var I=f("Symbol");return _(I)&&g(I.prototype,T(M))}},function(h,b,u){var d=u(7).String;h.exports=function(f){try{return d(f)}catch{return"Object"}}},function(h,b,u){var d=u(71),f=u(109);(h.exports=function(_,g){return f[_]||(f[_]=g!==void 0?g:{})})("versions",[]).push({version:"3.19.3",mode:d?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(h,b,u){var d=u(15),f=0,_=Math.random(),g=d(1 .toString);h.exports=function(S){return"Symbol("+(S===void 0?"":S)+")_"+g(++f+_,36)}},function(h,b,u){var d=u(7),f=u(33),_=d.document,g=f(_)&&f(_.createElement);h.exports=function(S){return g?_.createElement(S):{}}},function(h,b,u){var d=u(15),f=u(30),_=u(109),g=d(Function.toString);f(_.inspectSource)||(_.inspectSource=function(S){return g(S)}),h.exports=_.inspectSource},function(h,b,u){var d=u(89),f=u(90),_=d("keys");h.exports=function(g){return _[g]||(_[g]=f(g))}},function(h,b,u){var d=u(59),f=Math.min;h.exports=function(_){return _>0?f(d(_),9007199254740991):0}},function(h,b,u){var d=u(18),f=u(30),_=/#|\.prototype\./,g=function(C,U){var z=T[S(C)];return z==I||z!=M&&(f(U)?d(U):!!U)},S=g.normalize=function(C){return String(C).replace(_,".").toLowerCase()},T=g.data={},M=g.NATIVE="N",I=g.POLYFILL="P";h.exports=g},function(h,b,u){var d=u(51);h.exports=Array.isArray||function(f){return d(f)=="Array"}},function(h,b,u){var d=u(7),f=u(113),_=u(30),g=u(51),S=u(28)("toStringTag"),T=d.Object,M=g(function(){return arguments}())=="Arguments";h.exports=f?g:function(I){var C,U,z;return I===void 0?"Undefined":I===null?"Null":typeof(U=function(G,q){try{return G[q]}catch{}}(C=T(I),S))=="string"?U:M?g(C):(z=g(C))=="Object"&&_(C.callee)?"Arguments":z}},function(h,b,u){var d=u(15);h.exports=d([].slice)},function(h,b,u){var d=u(15),f=u(18),_=u(30),g=u(97),S=u(46),T=u(92),M=function(){},I=[],C=S("Reflect","construct"),U=/^\s*(?:class|function)\b/,z=d(U.exec),G=!U.exec(M),q=function(J){if(!_(J))return!1;try{return C(M,I,J),!0}catch{return!1}};h.exports=!C||f(function(){var J;return q(q.call)||!q(Object)||!q(function(){J=!0})||J})?function(J){if(!_(J))return!1;switch(g(J)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return G||!!z(U,T(J))}:q},function(h,b,u){var d=u(28),f=u(60),_=u(38),g=d("unscopables"),S=Array.prototype;S[g]==null&&_.f(S,g,{configurable:!0,value:f(null)}),h.exports=function(T){S[g][T]=!0}},function(h,b,u){var d=u(7),f=u(35),_=u(30),g=u(40),S=u(93),T=u(143),M=S("IE_PROTO"),I=d.Object,C=I.prototype;h.exports=T?I.getPrototypeOf:function(U){var z=g(U);if(f(z,M))return z[M];var G=z.constructor;return _(G)&&z instanceof G?G.prototype:z instanceof I?C:null}},function(h,b,u){var d=u(15),f=u(32),_=u(181);h.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var g,S=!1,T={};try{(g=d(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(T,[]),S=T instanceof Array}catch{}return function(M,I){return f(M),_(I),S?g(M,I):M.__proto__=I,M}}():void 0)},function(h,b,u){var d,f,_=u(34),g=u(15),S=u(39),T=u(154),M=u(155),I=u(89),C=u(60),U=u(58).get,z=u(190),G=u(191),q=I("native-string-replace",String.prototype.replace),J=RegExp.prototype.exec,ce=J,he=g("".charAt),se=g("".indexOf),Q=g("".replace),re=g("".slice),W=(f=/b*/g,_(J,d=/a/,"a"),_(J,f,"a"),d.lastIndex!==0||f.lastIndex!==0),L=M.BROKEN_CARET,H=/()??/.exec("")[1]!==void 0;(W||H||L||z||G)&&(ce=function(X){var $,ie,Ee,be,Pe,ze,je,ve=this,Se=U(ve),Ae=S(X),Fe=Se.raw;if(Fe)return Fe.lastIndex=ve.lastIndex,$=_(ce,Fe,Ae),ve.lastIndex=Fe.lastIndex,$;var tt=Se.groups,mt=L&&ve.sticky,Ye=_(T,ve),Ke=ve.source,vt=0,ue=Ae;if(mt&&(Ye=Q(Ye,"y",""),se(Ye,"g")===-1&&(Ye+="g"),ue=re(Ae,ve.lastIndex),ve.lastIndex>0&&(!ve.multiline||ve.multiline&&he(Ae,ve.lastIndex-1)!==`
`)&&(Ke="(?: "+Ke+")",ue=" "+ue,vt++),ie=new RegExp("^(?:"+Ke+")",Ye)),H&&(ie=new RegExp("^"+Ke+"$(?!\\s)",Ye)),W&&(Ee=ve.lastIndex),be=_(J,mt?ie:ve,ue),mt?be?(be.input=re(be.input,vt),be[0]=re(be[0],vt),be.index=ve.lastIndex,ve.lastIndex+=be[0].length):ve.lastIndex=0:W&&be&&(ve.lastIndex=ve.global?be.index+be[0].length:Ee),H&&be&&be.length>1&&_(q,be[0],ie,function(){for(Pe=1;Pe<arguments.length-2;Pe++)arguments[Pe]===void 0&&(be[Pe]=void 0)}),be&&tt)for(be.groups=ze=C(null),Pe=0;Pe<tt.length;Pe++)ze[(je=tt[Pe])[0]]=be[je[1]];return be}),h.exports=ce},function(h,b,u){var d=u(16),f=u(7),_=u(75),g=u(59),S=u(45),T=u(40),M=u(115),I=u(63),C=u(81)("splice"),U=f.TypeError,z=Math.max,G=Math.min,q=9007199254740991,J="Maximum allowed length exceeded";d({target:"Array",proto:!0,forced:!C},{splice:function(ce,he){var se,Q,re,W,L,H,X=T(this),$=S(X),ie=_(ce,$),Ee=arguments.length;if(Ee===0?se=Q=0:Ee===1?(se=0,Q=$-ie):(se=Ee-2,Q=G(z(g(he),0),$-ie)),$+se-Q>q)throw U(J);for(re=M(X,Q),W=0;W<Q;W++)(L=ie+W)in X&&I(re,W,X[L]);if(re.length=Q,se<Q){for(W=ie;W<$-Q;W++)H=W+se,(L=W+Q)in X?X[H]=X[L]:delete X[H];for(W=$;W>$-Q+se;W--)delete X[W-1]}else if(se>Q)for(W=$-Q;W>ie;W--)H=W+se-1,(L=W+Q-1)in X?X[H]=X[L]:delete X[H];for(W=0;W<se;W++)X[W+ie]=arguments[W+2];return X.length=$-Q+se,re}})},function(h,b,u){var d=u(16),f=u(205);d({target:"String",proto:!0,forced:u(206)("anchor")},{anchor:function(_){return f(this,"a","name",_)}})},function(h,b,u){(function(d){var f=typeof d=="object"&&d&&d.Object===Object&&d;b.a=f}).call(this,u(68))},function(h,b,u){(function(d){var f=u(31),_=j&&!j.nodeType&&j,g=_&&typeof d=="object"&&d&&!d.nodeType&&d,S=g&&g.exports===_?f.a.Buffer:void 0,T=S?S.allocUnsafe:void 0;b.a=function(M,I){if(I)return M.slice();var C=M.length,U=T?T(C):new M.constructor(C);return M.copy(U),U}}).call(this,u(122)(h))},function(h,b,u){var d=u(70),f=u(18);h.exports=!!Object.getOwnPropertySymbols&&!f(function(){var _=Symbol();return!String(_)||!(Object(_)instanceof Symbol)||!Symbol.sham&&d&&d<41})},function(h,b,u){var d=u(7),f=u(110),_="__core-js_shared__",g=d[_]||f(_,{});h.exports=g},function(h,b,u){var d=u(7),f=Object.defineProperty;h.exports=function(_,g){try{f(d,_,{value:g,configurable:!0,writable:!0})}catch{d[_]=g}return g}},function(h,b){h.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(h,b){b.f=Object.getOwnPropertySymbols},function(h,b,u){var d={};d[u(28)("toStringTag")]="z",h.exports=String(d)==="[object z]"},function(h,b,u){var d=u(7),f=u(75),_=u(45),g=u(63),S=d.Array,T=Math.max;h.exports=function(M,I,C){for(var U=_(M),z=f(I,U),G=f(C===void 0?U:C,U),q=S(T(G-z,0)),J=0;z<G;z++,J++)g(q,J,M[z]);return q.length=J,q}},function(h,b,u){var d=u(178);h.exports=function(f,_){return new(d(f))(_===0?0:_)}},function(h,b,u){var d=u(16),f=u(34),_=u(71),g=u(73),S=u(30),T=u(180),M=u(101),I=u(102),C=u(78),U=u(57),z=u(42),G=u(28),q=u(80),J=u(142),ce=g.PROPER,he=g.CONFIGURABLE,se=J.IteratorPrototype,Q=J.BUGGY_SAFARI_ITERATORS,re=G("iterator"),W="keys",L="values",H="entries",X=function(){return this};h.exports=function($,ie,Ee,be,Pe,ze,je){T(Ee,ie,be);var ve,Se,Ae,Fe=function(oe){if(oe===Pe&&vt)return vt;if(!Q&&oe in Ye)return Ye[oe];switch(oe){case W:case L:case H:return function(){return new Ee(this,oe)}}return function(){return new Ee(this)}},tt=ie+" Iterator",mt=!1,Ye=$.prototype,Ke=Ye[re]||Ye["@@iterator"]||Pe&&Ye[Pe],vt=!Q&&Ke||Fe(Pe),ue=ie=="Array"&&Ye.entries||Ke;if(ue&&(ve=M(ue.call(new $)))!==Object.prototype&&ve.next&&(_||M(ve)===se||(I?I(ve,se):S(ve[re])||z(ve,re,X)),C(ve,tt,!0,!0),_&&(q[tt]=X)),ce&&Pe==L&&Ke&&Ke.name!==L&&(!_&&he?U(Ye,"name",L):(mt=!0,vt=function(){return f(Ke,this)})),Pe)if(Se={values:Fe(L),keys:ze?vt:Fe(W),entries:Fe(H)},je)for(Ae in Se)(Q||mt||!(Ae in Ye))&&z(Ye,Ae,Se[Ae]);else d({target:ie,proto:!0,forced:Q||mt},Se);return _&&!je||Ye[re]===vt||z(Ye,re,vt,{name:Pe}),q[ie]=vt,Se}},function(h,b,u){var d=u(7),f=u(64),_=u(34),g=u(32),S=u(88),T=u(145),M=u(45),I=u(54),C=u(146),U=u(118),z=u(147),G=d.TypeError,q=function(ce,he){this.stopped=ce,this.result=he},J=q.prototype;h.exports=function(ce,he,se){var Q,re,W,L,H,X,$,ie=se&&se.that,Ee=!(!se||!se.AS_ENTRIES),be=!(!se||!se.IS_ITERATOR),Pe=!(!se||!se.INTERRUPTED),ze=f(he,ie),je=function(Se){return Q&&z(Q,"normal",Se),new q(!0,Se)},ve=function(Se){return Ee?(g(Se),Pe?ze(Se[0],Se[1],je):ze(Se[0],Se[1])):Pe?ze(Se,je):ze(Se)};if(be)Q=ce;else{if(!(re=U(ce)))throw G(S(ce)+" is not iterable");if(T(re)){for(W=0,L=M(ce);L>W;W++)if((H=ve(ce[W]))&&I(J,H))return H;return new q(!1)}Q=C(ce,re)}for(X=Q.next;!($=_(X,Q)).done;){try{H=ve($.value)}catch(Se){z(Q,"throw",Se)}if(typeof H=="object"&&H&&I(J,H))return H}return new q(!1)}},function(h,b,u){var d=u(97),f=u(62),_=u(80),g=u(28)("iterator");h.exports=function(S){if(S!=null)return f(S,g)||f(S,"@@iterator")||_[d(S)]}},function(h,b,u){var d=u(7),f=u(54),_=d.TypeError;h.exports=function(g,S){if(f(S,g))return g;throw _("Incorrect invocation")}},function(h,b,u){var d=u(28)("iterator"),f=!1;try{var _=0,g={next:function(){return{done:!!_++}},return:function(){f=!0}};g[d]=function(){return this},Array.from(g,function(){throw 2})}catch{}h.exports=function(S,T){if(!T&&!f)return!1;var M=!1;try{var I={};I[d]=function(){return{next:function(){return{done:M=!0}}}},S(I)}catch{}return M}},function(h,b,u){var d=u(18);h.exports=function(f,_){var g=[][f];return!!g&&d(function(){g.call(null,_||function(){throw 1},1)})}},function(h,b){h.exports=function(u){if(!u.webpackPolyfill){var d=Object.create(u);d.children||(d.children=[]),Object.defineProperty(d,"loaded",{enumerable:!0,get:function(){return d.l}}),Object.defineProperty(d,"id",{enumerable:!0,get:function(){return d.i}}),Object.defineProperty(d,"exports",{enumerable:!0}),d.webpackPolyfill=1}return d}},function(h,b,u){u(19);var d=u(15),f=u(42),_=u(103),g=u(18),S=u(28),T=u(57),M=S("species"),I=RegExp.prototype;h.exports=function(C,U,z,G){var q=S(C),J=!g(function(){var Q={};return Q[q]=function(){return 7},""[C](Q)!=7}),ce=J&&!g(function(){var Q=!1,re=/a/;return C==="split"&&((re={}).constructor={},re.constructor[M]=function(){return re},re.flags="",re[q]=/./[q]),re.exec=function(){return Q=!0,null},re[q](""),!Q});if(!J||!ce||z){var he=d(/./[q]),se=U(q,""[C],function(Q,re,W,L,H){var X=d(Q),$=re.exec;return $===_||$===I.exec?J&&!H?{done:!0,value:he(re,W,L)}:{done:!0,value:X(W,re,L)}:{done:!1}});f(String.prototype,C,se[0]),f(I,q,se[1])}G&&T(I[q],"sham",!0)}},function(h,b,u){var d=u(151).charAt;h.exports=function(f,_,g){return _+(g?d(f,_).length:1)}},function(h,b,u){var d=u(7),f=u(34),_=u(32),g=u(30),S=u(51),T=u(103),M=d.TypeError;h.exports=function(I,C){var U=I.exec;if(g(U)){var z=f(U,I,C);return z!==null&&_(z),z}if(S(I)==="RegExp")return f(T,I,C);throw M("RegExp#exec called on incompatible receiver")}},function(h,b,u){var d=u(76),f=u(34),_=u(15),g=u(123),S=u(18),T=u(32),M=u(30),I=u(59),C=u(94),U=u(39),z=u(44),G=u(124),q=u(62),J=u(201),ce=u(125),he=u(28)("replace"),se=Math.max,Q=Math.min,re=_([].concat),W=_([].push),L=_("".indexOf),H=_("".slice),X="a".replace(/./,"$0")==="$0",$=!!/./[he]&&/./[he]("a","$0")==="";g("replace",function(ie,Ee,be){var Pe=$?"$":"$0";return[function(ze,je){var ve=z(this),Se=ze==null?void 0:q(ze,he);return Se?f(Se,ze,ve,je):f(Ee,U(ve),ze,je)},function(ze,je){var ve=T(this),Se=U(ze);if(typeof je=="string"&&L(je,Pe)===-1&&L(je,"$<")===-1){var Ae=be(Ee,ve,Se,je);if(Ae.done)return Ae.value}var Fe=M(je);Fe||(je=U(je));var tt=ve.global;if(tt){var mt=ve.unicode;ve.lastIndex=0}for(var Ye=[];;){var Ke=ce(ve,Se);if(Ke===null||(W(Ye,Ke),!tt))break;U(Ke[0])===""&&(ve.lastIndex=G(Se,C(ve.lastIndex),mt))}for(var vt,ue="",oe=0,de=0;de<Ye.length;de++){for(var De=U((Ke=Ye[de])[0]),Xe=se(Q(I(Ke.index),Se.length),0),Ie=[],Ot=1;Ot<Ke.length;Ot++)W(Ie,(vt=Ke[Ot])===void 0?vt:String(vt));var Pt=Ke.groups;if(Fe){var xt=re([De],Ie,Xe,Se);Pt!==void 0&&W(xt,Pt);var ht=U(d(je,void 0,xt))}else ht=J(De,Se,Xe,Ie,Pt,je);Xe>=oe&&(ue+=H(Se,oe,Xe)+ht,oe=Xe+De.length)}return ue+H(Se,oe)}]},!!S(function(){var ie=/./;return ie.exec=function(){var Ee=[];return Ee.groups={a:"7"},Ee},"".replace(ie,"$<a>")!=="7"})||!X||$)},function(h,b,u){var d=u(16),f=Math.hypot,_=Math.abs,g=Math.sqrt;d({target:"Math",stat:!0,forced:!!f&&f(1/0,NaN)!==1/0},{hypot:function(S,T){for(var M,I,C=0,U=0,z=arguments.length,G=0;U<z;)G<(M=_(arguments[U++]))?(C=C*(I=G/M)*I+1,G=M):C+=M>0?(I=M/G)*I:M;return G===1/0?1/0:G*g(C)}})},function(h,b,u){var d=u(51),f=u(7);h.exports=d(f.process)=="process"},function(h,b,u){u(16)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(h,b,u){(function(d,f){var _;/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var g,S="Expected a function",T="__lodash_hash_undefined__",M="__lodash_placeholder__",I=16,C=32,U=64,z=128,G=256,q=1/0,J=9007199254740991,ce=NaN,he=4294967295,se=[["ary",z],["bind",1],["bindKey",2],["curry",8],["curryRight",I],["flip",512],["partial",C],["partialRight",U],["rearg",G]],Q="[object Arguments]",re="[object Array]",W="[object Boolean]",L="[object Date]",H="[object Error]",X="[object Function]",$="[object GeneratorFunction]",ie="[object Map]",Ee="[object Number]",be="[object Object]",Pe="[object Promise]",ze="[object RegExp]",je="[object Set]",ve="[object String]",Se="[object Symbol]",Ae="[object WeakMap]",Fe="[object ArrayBuffer]",tt="[object DataView]",mt="[object Float32Array]",Ye="[object Float64Array]",Ke="[object Int8Array]",vt="[object Int16Array]",ue="[object Int32Array]",oe="[object Uint8Array]",de="[object Uint8ClampedArray]",De="[object Uint16Array]",Xe="[object Uint32Array]",Ie=/\b__p \+= '';/g,Ot=/\b(__p \+=) '' \+/g,Pt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,xt=/&(?:amp|lt|gt|quot|#39);/g,ht=/[&<>"']/g,ke=RegExp(xt.source),at=RegExp(ht.source),le=/<%-([\s\S]+?)%>/g,nt=/<%([\s\S]+?)%>/g,Ct=/<%=([\s\S]+?)%>/g,rn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Rt=/^\w*$/,Kt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,fn=/[\\^$.*+?()[\]{}|]/g,mn=RegExp(fn.source),Dt=/^\s+/,Mn=/\s/,K=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,pe=/\{\n\/\* \[wrapped with (.+)\] \*/,ne=/,? & /,me=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,We=/[()=,{}\[\]\/\s]/,Ve=/\\(\\)?/g,st=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ft=/\w*$/,Hn=/^[-+]0x[0-9a-f]+$/i,er=/^0b[01]+$/i,Nn=/^\[object .+?Constructor\]$/,zn=/^0o[0-7]+$/i,rt=/^(?:0|[1-9]\d*)$/,gt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,wt=/($^)/,Mt=/['\n\r\u2028\u2029\\]/g,sn="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",jn="\\u2700-\\u27bf",ho="a-z\\xdf-\\xf6\\xf8-\\xff",Jr="A-Z\\xc0-\\xd6\\xd8-\\xde",yo="\\ufe0e\\ufe0f",ei="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ts="['’]",Ra="[\\ud800-\\udfff]",Rr="["+ei+"]",xi="["+sn+"]",ut="\\d+",ns="[\\u2700-\\u27bf]",Ia="["+ho+"]",La="[^\\ud800-\\udfff"+ei+ut+jn+ho+Jr+"]",yr="\\ud83c[\\udffb-\\udfff]",Sr="[^\\ud800-\\udfff]",Ki="(?:\\ud83c[\\udde6-\\uddff]){2}",Yr="[\\ud800-\\udbff][\\udc00-\\udfff]",Ir="["+Jr+"]",Wr="(?:"+Ia+"|"+La+")",za="(?:"+Ir+"|"+La+")",Ba="(?:['’](?:d|ll|m|re|s|t|ve))?",zu="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ei="(?:"+xi+"|"+yr+")?",Bu="[\\ufe0e\\ufe0f]?",Fa=Bu+Ei+("(?:\\u200d(?:"+[Sr,Ki,Yr].join("|")+")"+Bu+Ei+")*"),rs="(?:"+[ns,Ki,Yr].join("|")+")"+Fa,No="(?:"+[Sr+xi+"?",xi,Ki,Yr,Ra].join("|")+")",Fu=RegExp(ts,"g"),vo=RegExp(xi,"g"),Ua=RegExp(yr+"(?="+yr+")|"+No+Fa,"g"),Zi=RegExp([Ir+"?"+Ia+"+"+Ba+"(?="+[Rr,Ir,"$"].join("|")+")",za+"+"+zu+"(?="+[Rr,Ir+Wr,"$"].join("|")+")",Ir+"?"+Wr+"+"+Ba,Ir+"+"+zu,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ut,rs].join("|"),"g"),Xa=RegExp("[\\u200d\\ud800-\\udfff"+sn+yo+"]"),Ha=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,os=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Uu=-1,an={};an[mt]=an[Ye]=an[Ke]=an[vt]=an[ue]=an[oe]=an[de]=an[De]=an[Xe]=!0,an[Q]=an[re]=an[Fe]=an[W]=an[tt]=an[L]=an[H]=an[X]=an[ie]=an[Ee]=an[be]=an[ze]=an[je]=an[ve]=an[Ae]=!1;var on={};on[Q]=on[re]=on[Fe]=on[tt]=on[W]=on[L]=on[mt]=on[Ye]=on[Ke]=on[vt]=on[ue]=on[ie]=on[Ee]=on[be]=on[ze]=on[je]=on[ve]=on[Se]=on[oe]=on[de]=on[De]=on[Xe]=!0,on[H]=on[X]=on[Ae]=!1;var Xu={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ti=parseFloat,go=parseInt,Ga=typeof d=="object"&&d&&d.Object===Object&&d,Hu=typeof self=="object"&&self&&self.Object===Object&&self,Tn=Ga||Hu||Function("return this")(),Ya=b&&!b.nodeType&&b,ji=Ya&&typeof f=="object"&&f&&!f.nodeType&&f,Wa=ji&&ji.exports===Ya,qi=Wa&&Ga.process,tr=function(){try{var _e=ji&&ji.require&&ji.require("util").types;return _e||qi&&qi.binding&&qi.binding("util")}catch{}}(),Va=tr&&tr.isArrayBuffer,Gu=tr&&tr.isDate,$a=tr&&tr.isMap,Ji=tr&&tr.isRegExp,ni=tr&&tr.isSet,Qr=tr&&tr.isTypedArray;function dn(_e,Me,Re){switch(Re.length){case 0:return _e.call(Me);case 1:return _e.call(Me,Re[0]);case 2:return _e.call(Me,Re[0],Re[1]);case 3:return _e.call(Me,Re[0],Re[1],Re[2])}return _e.apply(Me,Re)}function Yu(_e,Me,Re,qe){for(var It=-1,Wt=_e==null?0:_e.length;++It<Wt;){var yn=_e[It];Me(qe,yn,Re(yn),_e)}return qe}function vr(_e,Me){for(var Re=-1,qe=_e==null?0:_e.length;++Re<qe&&Me(_e[Re],Re,_e)!==!1;);return _e}function Wu(_e,Me){for(var Re=_e==null?0:_e.length;Re--&&Me(_e[Re],Re,_e)!==!1;);return _e}function Vu(_e,Me){for(var Re=-1,qe=_e==null?0:_e.length;++Re<qe;)if(!Me(_e[Re],Re,_e))return!1;return!0}function cr(_e,Me){for(var Re=-1,qe=_e==null?0:_e.length,It=0,Wt=[];++Re<qe;){var yn=_e[Re];Me(yn,Re,_e)&&(Wt[It++]=yn)}return Wt}function gr(_e,Me){return!!(_e!=null&&_e.length)&&ri(_e,Me,0)>-1}function Ka(_e,Me,Re){for(var qe=-1,It=_e==null?0:_e.length;++qe<It;)if(Re(Me,_e[qe]))return!0;return!1}function Qt(_e,Me){for(var Re=-1,qe=_e==null?0:_e.length,It=Array(qe);++Re<qe;)It[Re]=Me(_e[Re],Re,_e);return It}function Gn(_e,Me){for(var Re=-1,qe=Me.length,It=_e.length;++Re<qe;)_e[It+Re]=Me[Re];return _e}function Qi(_e,Me,Re,qe){var It=-1,Wt=_e==null?0:_e.length;for(qe&&Wt&&(Re=_e[++It]);++It<Wt;)Re=Me(Re,_e[It],It,_e);return Re}function $u(_e,Me,Re,qe){var It=_e==null?0:_e.length;for(qe&&It&&(Re=_e[--It]);It--;)Re=Me(Re,_e[It],It,_e);return Re}function Za(_e,Me){for(var Re=-1,qe=_e==null?0:_e.length;++Re<qe;)if(Me(_e[Re],Re,_e))return!0;return!1}var ea=mr("length");function eo(_e,Me,Re){var qe;return Re(_e,function(It,Wt,yn){if(Me(It,Wt,yn))return qe=Wt,!1}),qe}function bo(_e,Me,Re,qe){for(var It=_e.length,Wt=Re+(qe?1:-1);qe?Wt--:++Wt<It;)if(Me(_e[Wt],Wt,_e))return Wt;return-1}function ri(_e,Me,Re){return Me==Me?function(qe,It,Wt){for(var yn=Wt-1,v=qe.length;++yn<v;)if(qe[yn]===It)return yn;return-1}(_e,Me,Re):bo(_e,mo,Re)}function br(_e,Me,Re,qe){for(var It=Re-1,Wt=_e.length;++It<Wt;)if(qe(_e[It],Me))return It;return-1}function mo(_e){return _e!=_e}function Zt(_e,Me){var Re=_e==null?0:_e.length;return Re?ta(_e,Me)/Re:ce}function mr(_e){return function(Me){return Me==null?g:Me[_e]}}function to(_e){return function(Me){return _e==null?g:_e[Me]}}function Zn(_e,Me,Re,qe,It){return It(_e,function(Wt,yn,v){Re=qe?(qe=!1,Wt):Me(Re,Wt,yn,v)}),Re}function ta(_e,Me){for(var Re,qe=-1,It=_e.length;++qe<It;){var Wt=Me(_e[qe]);Wt!==g&&(Re=Re===g?Wt:Re+Wt)}return Re}function Si(_e,Me){for(var Re=-1,qe=Array(_e);++Re<_e;)qe[Re]=Me(Re);return qe}function qa(_e){return _e&&_e.slice(0,Or(_e)+1).replace(Dt,"")}function Sn(_e){return function(Me){return _e(Me)}}function na(_e,Me){return Qt(Me,function(Re){return _e[Re]})}function Oo(_e,Me){return _e.has(Me)}function Lr(_e,Me){for(var Re=-1,qe=_e.length;++Re<qe&&ri(Me,_e[Re],0)>-1;);return Re}function Ja(_e,Me){for(var Re=_e.length;Re--&&ri(Me,_e[Re],0)>-1;);return Re}function is(_e,Me){for(var Re=_e.length,qe=0;Re--;)_e[Re]===Me&&++qe;return qe}var Qa=to({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),Bn=to({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function oi(_e){return"\\"+Xu[_e]}function no(_e){return Xa.test(_e)}function sr(_e){var Me=-1,Re=Array(_e.size);return _e.forEach(function(qe,It){Re[++Me]=[It,qe]}),Re}function eu(_e,Me){return function(Re){return _e(Me(Re))}}function Pr(_e,Me){for(var Re=-1,qe=_e.length,It=0,Wt=[];++Re<qe;){var yn=_e[Re];yn!==Me&&yn!==M||(_e[Re]=M,Wt[It++]=Re)}return Wt}function Co(_e){var Me=-1,Re=Array(_e.size);return _e.forEach(function(qe){Re[++Me]=qe}),Re}function ra(_e){var Me=-1,Re=Array(_e.size);return _e.forEach(function(qe){Re[++Me]=[qe,qe]}),Re}function ro(_e){return no(_e)?function(Me){for(var Re=Ua.lastIndex=0;Ua.test(Me);)++Re;return Re}(_e):ea(_e)}function Ar(_e){return no(_e)?function(Me){return Me.match(Ua)||[]}(_e):function(Me){return Me.split("")}(_e)}function Or(_e){for(var Me=_e.length;Me--&&Mn.test(_e.charAt(Me)););return Me}var zr=to({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),oo=function _e(Me){var Re,qe=(Me=Me==null?Tn:oo.defaults(Tn.Object(),Me,oo.pick(Tn,os))).Array,It=Me.Date,Wt=Me.Error,yn=Me.Function,v=Me.Math,m=Me.Object,E=Me.RegExp,N=Me.String,Y=Me.TypeError,fe=qe.prototype,xe=yn.prototype,Be=m.prototype,ot=Me["__core-js_shared__"],Ht=xe.toString,Qe=Be.hasOwnProperty,pn=0,Lt=(Re=/[^.]+$/.exec(ot&&ot.keys&&ot.keys.IE_PROTO||""))?"Symbol(src)_1."+Re:"",tn=Be.toString,Br=Ht.call(m),On=Tn._,_r=E("^"+Ht.call(Qe).replace(fn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_o=Wa?Me.Buffer:g,wo=Me.Symbol,Pi=Me.Uint8Array,tu=_o?_o.allocUnsafe:g,Ro=eu(m.getPrototypeOf,m),oa=m.create,lr=Be.propertyIsEnumerable,Ai=fe.splice,ii=wo?wo.isConcatSpreadable:g,Io=wo?wo.iterator:g,Lo=wo?wo.toStringTag:g,nu=function(){try{var a=pi(m,"defineProperty");return a({},"",{}),a}catch{}}(),$p=Me.clearTimeout!==Tn.clearTimeout&&Me.clearTimeout,Kp=It&&It.now!==Tn.Date.now&&It.now,Xl=Me.setTimeout!==Tn.setTimeout&&Me.setTimeout,Ku=v.ceil,ia=v.floor,as=m.getOwnPropertySymbols,Zp=_o?_o.isBuffer:g,Hl=Me.isFinite,qp=fe.join,Gl=eu(m.keys,m),qn=v.max,fr=v.min,Zu=It.now,qu=Me.parseInt,Ju=v.random,Jp=fe.reverse,aa=pi(Me,"DataView"),xo=pi(Me,"Map"),us=pi(Me,"Promise"),ki=pi(Me,"Set"),ua=pi(Me,"WeakMap"),ru=pi(m,"create"),Qu=ua&&new ua,ca={},Qp=Dr(aa),Yl=Dr(xo),eh=Dr(us),th=Dr(ki),Wl=Dr(ua),ec=wo?wo.prototype:g,Jn=ec?ec.valueOf:g,Vl=ec?ec.toString:g;function R(a){if(kn(a)&&!Bt(a)&&!(a instanceof Jt)){if(a instanceof Vr)return a;if(Qe.call(a,"__wrapped__"))return Pf(a)}return new Vr(a)}var sa=function(){function a(){}return function(s){if(!An(s))return{};if(oa)return oa(s);a.prototype=s;var y=new a;return a.prototype=g,y}}();function ou(){}function Vr(a,s){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!s,this.__index__=0,this.__values__=g}function Jt(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=he,this.__views__=[]}function Ti(a){var s=-1,y=a==null?0:a.length;for(this.clear();++s<y;){var x=a[s];this.set(x[0],x[1])}}function hn(a){var s=-1,y=a==null?0:a.length;for(this.clear();++s<y;){var x=a[s];this.set(x[0],x[1])}}function Eo(a){var s=-1,y=a==null?0:a.length;for(this.clear();++s<y;){var x=a[s];this.set(x[0],x[1])}}function ai(a){var s=-1,y=a==null?0:a.length;for(this.__data__=new Eo;++s<y;)this.add(a[s])}function $r(a){var s=this.__data__=new hn(a);this.size=s.size}function cs(a,s){var y=Bt(a),x=!y&&Ii(a),k=!y&&!x&&Ho(a),B=!y&&!x&&!k&&hi(a),ee=y||x||k||B,ae=ee?Si(a.length,N):[],Oe=ae.length;for(var V in a)!s&&!Qe.call(a,V)||ee&&(V=="length"||k&&(V=="offset"||V=="parent")||B&&(V=="buffer"||V=="byteLength"||V=="byteOffset")||ko(V,Oe))||ae.push(V);return ae}function ss(a){var s=a.length;return s?a[gs(0,s-1)]:g}function $l(a,s){return Mi(Tr(a),ui(s,0,a.length))}function Kl(a){return Mi(Tr(a))}function tc(a,s,y){(y!==g&&!En(a[s],y)||y===g&&!(s in a))&&jo(a,s,y)}function la(a,s,y){var x=a[s];Qe.call(a,s)&&En(x,y)&&(y!==g||s in a)||jo(a,s,y)}function iu(a,s){for(var y=a.length;y--;)if(En(a[y][0],s))return y;return-1}function Zl(a,s,y,x){return _n(a,function(k,B,ee){s(x,k,y(k),ee)}),x}function ls(a,s){return a&&So(s,Vn(s),a)}function jo(a,s,y){s=="__proto__"&&nu?nu(a,s,{configurable:!0,enumerable:!0,value:y,writable:!0}):a[s]=y}function nc(a,s){for(var y=-1,x=s.length,k=qe(x),B=a==null;++y<x;)k[y]=B?g:bu(a,s[y]);return k}function ui(a,s,y){return a==a&&(y!==g&&(a=a<=y?a:y),s!==g&&(a=a>=s?a:s)),a}function Fr(a,s,y,x,k,B){var ee,ae=1&s,Oe=2&s,V=4&s;if(y&&(ee=k?y(a,x,k,B):y(a)),ee!==g)return ee;if(!An(a))return a;var Ne=Bt(a);if(Ne){if(ee=function(Le){var He=Le.length,At=new Le.constructor(He);return He&&typeof Le[0]=="string"&&Qe.call(Le,"index")&&(At.index=Le.index,At.input=Le.input),At}(a),!ae)return Tr(a,ee)}else{var Ue=ir(a),ct=Ue==X||Ue==$;if(Ho(a))return Es(a,ae);if(Ue==be||Ue==Q||ct&&!k){if(ee=Oe||ct?{}:Ds(a),!ae)return Oe?function(Le,He){return So(Le,Te(Le),He)}(a,function(Le,He){return Le&&So(He,rr(He),Le)}(ee,a)):function(Le,He){return So(Le,ks(Le),He)}(a,ls(ee,a))}else{if(!on[Ue])return k?a:{};ee=function(Le,He,At){var it=Le.constructor;switch(He){case Fe:return js(Le);case W:case L:return new it(+Le);case tt:return function(Nt,$t){var dt=$t?js(Nt.buffer):Nt.buffer;return new Nt.constructor(dt,Nt.byteOffset,Nt.byteLength)}(Le,At);case mt:case Ye:case Ke:case vt:case ue:case oe:case de:case De:case Xe:return gn(Le,At);case ie:return new it;case Ee:case ve:return new it(Le);case ze:return function(Nt){var $t=new Nt.constructor(Nt.source,Ft.exec(Nt));return $t.lastIndex=Nt.lastIndex,$t}(Le);case je:return new it;case Se:return kt=Le,Jn?m(Jn.call(kt)):{}}var kt}(a,Ue,ae)}}B||(B=new $r);var pt=B.get(a);if(pt)return pt;B.set(a,ee),xa(a)?a.forEach(function(Le){ee.add(Fr(Le,s,y,Le,a,B))}):Bf(a)&&a.forEach(function(Le,He){ee.set(He,Fr(Le,s,y,He,a,B))});var jt=Ne?g:(V?Oe?As:lu:Oe?rr:Vn)(a);return vr(jt||a,function(Le,He){jt&&(Le=a[He=Le]),la(ee,He,Fr(Le,s,y,He,a,B))}),ee}function fs(a,s,y){var x=y.length;if(a==null)return!x;for(a=m(a);x--;){var k=y[x],B=s[k],ee=a[k];if(ee===g&&!(k in a)||!B(ee))return!1}return!0}function ps(a,s,y){if(typeof a!="function")throw new Y(S);return Oa(function(){a.apply(g,y)},s)}function zo(a,s,y,x){var k=-1,B=gr,ee=!0,ae=a.length,Oe=[],V=s.length;if(!ae)return Oe;y&&(s=Qt(s,Sn(y))),x?(B=Ka,ee=!1):s.length>=200&&(B=Oo,ee=!1,s=new ai(s));e:for(;++k<ae;){var Ne=a[k],Ue=y==null?Ne:y(Ne);if(Ne=x||Ne!==0?Ne:0,ee&&Ue==Ue){for(var ct=V;ct--;)if(s[ct]===Ue)continue e;Oe.push(Ne)}else B(s,Ue,x)||Oe.push(Ne)}return Oe}R.templateSettings={escape:le,evaluate:nt,interpolate:Ct,variable:"",imports:{_:R}},R.prototype=ou.prototype,R.prototype.constructor=R,Vr.prototype=sa(ou.prototype),Vr.prototype.constructor=Vr,Jt.prototype=sa(ou.prototype),Jt.prototype.constructor=Jt,Ti.prototype.clear=function(){this.__data__=ru?ru(null):{},this.size=0},Ti.prototype.delete=function(a){var s=this.has(a)&&delete this.__data__[a];return this.size-=s?1:0,s},Ti.prototype.get=function(a){var s=this.__data__;if(ru){var y=s[a];return y===T?g:y}return Qe.call(s,a)?s[a]:g},Ti.prototype.has=function(a){var s=this.__data__;return ru?s[a]!==g:Qe.call(s,a)},Ti.prototype.set=function(a,s){var y=this.__data__;return this.size+=this.has(a)?0:1,y[a]=ru&&s===g?T:s,this},hn.prototype.clear=function(){this.__data__=[],this.size=0},hn.prototype.delete=function(a){var s=this.__data__,y=iu(s,a);return!(y<0)&&(y==s.length-1?s.pop():Ai.call(s,y,1),--this.size,!0)},hn.prototype.get=function(a){var s=this.__data__,y=iu(s,a);return y<0?g:s[y][1]},hn.prototype.has=function(a){return iu(this.__data__,a)>-1},hn.prototype.set=function(a,s){var y=this.__data__,x=iu(y,a);return x<0?(++this.size,y.push([a,s])):y[x][1]=s,this},Eo.prototype.clear=function(){this.size=0,this.__data__={hash:new Ti,map:new(xo||hn),string:new Ti}},Eo.prototype.delete=function(a){var s=ba(this,a).delete(a);return this.size-=s?1:0,s},Eo.prototype.get=function(a){return ba(this,a).get(a)},Eo.prototype.has=function(a){return ba(this,a).has(a)},Eo.prototype.set=function(a,s){var y=ba(this,a),x=y.size;return y.set(a,s),this.size+=y.size==x?0:1,this},ai.prototype.add=ai.prototype.push=function(a){return this.__data__.set(a,T),this},ai.prototype.has=function(a){return this.__data__.has(a)},$r.prototype.clear=function(){this.__data__=new hn,this.size=0},$r.prototype.delete=function(a){var s=this.__data__,y=s.delete(a);return this.size=s.size,y},$r.prototype.get=function(a){return this.__data__.get(a)},$r.prototype.has=function(a){return this.__data__.has(a)},$r.prototype.set=function(a,s){var y=this.__data__;if(y instanceof hn){var x=y.__data__;if(!xo||x.length<199)return x.push([a,s]),this.size=++y.size,this;y=this.__data__=new Eo(x)}return y.set(a,s),this.size=y.size,this};var _n=df(lt),ql=df(vn,!0);function Jl(a,s){var y=!0;return _n(a,function(x,k,B){return y=!!s(x,k,B)}),y}function Cn(a,s,y){for(var x=-1,k=a.length;++x<k;){var B=a[x],ee=s(B);if(ee!=null&&(ae===g?ee==ee&&!ar(ee):y(ee,ae)))var ae=ee,Oe=B}return Oe}function un(a,s){var y=[];return _n(a,function(x,k,B){s(x,k,B)&&y.push(x)}),y}function nr(a,s,y,x,k){var B=-1,ee=a.length;for(y||(y=xf),k||(k=[]);++B<ee;){var ae=a[B];s>0&&y(ae)?s>1?nr(ae,s-1,y,x,k):Gn(k,ae):x||(k[k.length]=ae)}return k}var Gt=yf(),Fn=yf(!0);function lt(a,s){return a&&Gt(a,s,Vn)}function vn(a,s){return a&&Fn(a,s,Vn)}function rc(a,s){return cr(s,function(y){return Go(a[y])})}function Bo(a,s){for(var y=0,x=(s=si(s,a)).length;a!=null&&y<x;)a=a[Yn(s[y++])];return y&&y==x?a:g}function hs(a,s,y){var x=s(a);return Bt(a)?x:Gn(x,y(a))}function Pn(a){return a==null?a===g?"[object Undefined]":"[object Null]":Lo&&Lo in m(a)?function(s){var y=Qe.call(s,Lo),x=s[Lo];try{s[Lo]=g;var k=!0}catch{}var B=tn.call(s);return k&&(y?s[Lo]=x:delete s[Lo]),B}(a):function(s){return tn.call(s)}(a)}function Dn(a,s){return a>s}function Ql(a,s){return a!=null&&Qe.call(a,s)}function ef(a,s){return a!=null&&s in m(a)}function oc(a,s,y){for(var x=y?Ka:gr,k=a[0].length,B=a.length,ee=B,ae=qe(B),Oe=1/0,V=[];ee--;){var Ne=a[ee];ee&&s&&(Ne=Qt(Ne,Sn(s))),Oe=fr(Ne.length,Oe),ae[ee]=!y&&(s||k>=120&&Ne.length>=120)?new ai(ee&&Ne):g}Ne=a[0];var Ue=-1,ct=ae[0];e:for(;++Ue<k&&V.length<Oe;){var pt=Ne[Ue],jt=s?s(pt):pt;if(pt=y||pt!==0?pt:0,!(ct?Oo(ct,jt):x(V,jt,y))){for(ee=B;--ee;){var Le=ae[ee];if(!(Le?Oo(Le,jt):x(a[ee],jt,y)))continue e}ct&&ct.push(jt),V.push(pt)}}return V}function fa(a,s,y){var x=(a=Rs(a,s=si(s,a)))==null?a:a[Yn(bn(s))];return x==null?g:dn(x,a,y)}function ds(a){return kn(a)&&Pn(a)==Q}function pa(a,s,y,x,k){return a===s||(a==null||s==null||!kn(a)&&!kn(s)?a!=a&&s!=s:function(B,ee,ae,Oe,V,Ne){var Ue=Bt(B),ct=Bt(ee),pt=Ue?re:ir(B),jt=ct?re:ir(ee),Le=(pt=pt==Q?be:pt)==be,He=(jt=jt==Q?be:jt)==be,At=pt==jt;if(At&&Ho(B)){if(!Ho(ee))return!1;Ue=!0,Le=!1}if(At&&!Le)return Ne||(Ne=new $r),Ue||hi(B)?wf(B,ee,ae,Oe,V,Ne):function(dt,St,$n,ur,uo,Qn,Do){switch($n){case tt:if(dt.byteLength!=St.byteLength||dt.byteOffset!=St.byteOffset)return!1;dt=dt.buffer,St=St.buffer;case Fe:return!(dt.byteLength!=St.byteLength||!Qn(new Pi(dt),new Pi(St)));case W:case L:case Ee:return En(+dt,+St);case H:return dt.name==St.name&&dt.message==St.message;case ze:case ve:return dt==St+"";case ie:var co=sr;case je:var Vo=1&ur;if(co||(co=Co),dt.size!=St.size&&!Vo)return!1;var $o=Do.get(dt);if($o)return $o==St;ur|=2,Do.set(dt,St);var Bi=wf(co(dt),co(St),ur,uo,Qn,Do);return Do.delete(dt),Bi;case Se:if(Jn)return Jn.call(dt)==Jn.call(St)}return!1}(B,ee,pt,ae,Oe,V,Ne);if(!(1&ae)){var it=Le&&Qe.call(B,"__wrapped__"),kt=He&&Qe.call(ee,"__wrapped__");if(it||kt){var Nt=it?B.value():B,$t=kt?ee.value():ee;return Ne||(Ne=new $r),V(Nt,$t,ae,Oe,Ne)}}return At?(Ne||(Ne=new $r),function(dt,St,$n,ur,uo,Qn){var Do=1&$n,co=lu(dt),Vo=co.length,$o=lu(St).length;if(Vo!=$o&&!Do)return!1;for(var Bi=Vo;Bi--;){var Ko=co[Bi];if(!(Do?Ko in St:Qe.call(St,Ko)))return!1}var ju=Qn.get(dt),Xr=Qn.get(St);if(ju&&Xr)return ju==St&&Xr==dt;var Lc=!0;Qn.set(dt,St),Qn.set(St,dt);for(var Hr=Do;++Bi<Vo;){var yt=dt[Ko=co[Bi]],Su=St[Ko];if(ur)var Sl=Do?ur(Su,yt,Ko,St,dt,Qn):ur(yt,Su,Ko,dt,St,Qn);if(!(Sl===g?yt===Su||uo(yt,Su,$n,ur,Qn):Sl)){Lc=!1;break}Hr||(Hr=Ko=="constructor")}if(Lc&&!Hr){var Pu=dt.constructor,zc=St.constructor;Pu==zc||!("constructor"in dt)||!("constructor"in St)||typeof Pu=="function"&&Pu instanceof Pu&&typeof zc=="function"&&zc instanceof zc||(Lc=!1)}return Qn.delete(dt),Qn.delete(St),Lc}(B,ee,ae,Oe,V,Ne)):!1}(a,s,y,x,pa,k))}function ic(a,s,y,x){var k=y.length,B=k,ee=!x;if(a==null)return!B;for(a=m(a);k--;){var ae=y[k];if(ee&&ae[2]?ae[1]!==a[ae[0]]:!(ae[0]in a))return!1}for(;++k<B;){var Oe=(ae=y[k])[0],V=a[Oe],Ne=ae[1];if(ee&&ae[2]){if(V===g&&!(Oe in a))return!1}else{var Ue=new $r;if(x)var ct=x(V,Ne,Oe,a,s,Ue);if(!(ct===g?pa(Ne,V,3,x,Ue):ct))return!1}}return!0}function ha(a){return!(!An(a)||(s=a,Lt&&Lt in s))&&(Go(a)?_r:Nn).test(Dr(a));var s}function ys(a){return typeof a=="function"?a:a==null?hr:typeof a=="object"?Bt(a)?nf(a[0],a[1]):tf(a):xl(a)}function Fo(a){if(!ma(a))return Gl(a);var s=[];for(var y in m(a))Qe.call(a,y)&&y!="constructor"&&s.push(y);return s}function nh(a){if(!An(a))return function(k){var B=[];if(k!=null)for(var ee in m(k))B.push(ee);return B}(a);var s=ma(a),y=[];for(var x in a)(x!="constructor"||!s&&Qe.call(a,x))&&y.push(x);return y}function Uo(a,s){return a<s}function Kr(a,s){var y=-1,x=wr(a)?qe(a.length):[];return _n(a,function(k,B,ee){x[++y]=s(k,B,ee)}),x}function tf(a){var s=bc(a);return s.length==1&&s[0][2]?Ns(s[0][0],s[0][1]):function(y){return y===a||ic(y,a,s)}}function nf(a,s){return mc(a)&&Ms(s)?Ns(Yn(a),s):function(y){var x=bu(y,a);return x===g&&x===s?mu(y,a):pa(s,x,3)}}function ac(a,s,y,x,k){a!==s&&Gt(s,function(B,ee){if(k||(k=new $r),An(B))(function(Oe,V,Ne,Ue,ct,pt,jt){var Le=_c(Oe,Ne),He=_c(V,Ne),At=jt.get(He);if(At)return void tc(Oe,Ne,At);var it=pt?pt(Le,He,Ne+"",Oe,V,jt):g,kt=it===g;if(kt){var Nt=Bt(He),$t=!Nt&&Ho(He),dt=!Nt&&!$t&&hi(He);it=He,Nt||$t||dt?Bt(Le)?it=Le:Rn(Le)?it=Tr(Le):$t?(kt=!1,it=Es(He,!0)):dt?(kt=!1,it=gn(He,!0)):it=[]:Yo(He)||Ii(He)?(it=Le,Ii(Le)?it=il(Le):An(Le)&&!Go(Le)||(it=Ds(He))):kt=!1}kt&&(jt.set(He,it),ct(it,He,Ue,pt,jt),jt.delete(He)),tc(Oe,Ne,it)})(a,s,ee,y,ac,x,k);else{var ae=x?x(_c(a,ee),B,ee+"",a,s,k):g;ae===g&&(ae=B),tc(a,ee,ae)}},rr)}function rf(a,s){var y=a.length;if(y)return ko(s+=s<0?y:0,y)?a[s]:g}function of(a,s,y){s=s.length?Qt(s,function(B){return Bt(B)?function(ee){return Bo(ee,B.length===1?B[0]:B)}:B}):[hr];var x=-1;s=Qt(s,Sn(_t()));var k=Kr(a,function(B,ee,ae){var Oe=Qt(s,function(V){return V(B)});return{criteria:Oe,index:++x,value:B}});return function(B,ee){var ae=B.length;for(B.sort(ee);ae--;)B[ae]=B[ae].value;return B}(k,function(B,ee){return function(ae,Oe,V){for(var Ne=-1,Ue=ae.criteria,ct=Oe.criteria,pt=Ue.length,jt=V.length;++Ne<pt;){var Le=hf(Ue[Ne],ct[Ne]);if(Le)return Ne>=jt?Le:Le*(V[Ne]=="desc"?-1:1)}return ae.index-Oe.index}(B,ee,y)})}function af(a,s,y){for(var x=-1,k=s.length,B={};++x<k;){var ee=s[x],ae=Bo(a,ee);y(ae,ee)&&ya(B,si(ee,a),ae)}return B}function vs(a,s,y,x){var k=x?br:ri,B=-1,ee=s.length,ae=a;for(a===s&&(s=Tr(s)),y&&(ae=Qt(a,Sn(y)));++B<ee;)for(var Oe=0,V=s[B],Ne=y?y(V):V;(Oe=k(ae,Ne,Oe,x))>-1;)ae!==a&&Ai.call(ae,Oe,1),Ai.call(a,Oe,1);return a}function da(a,s){for(var y=a?s.length:0,x=y-1;y--;){var k=s[y];if(y==x||k!==B){var B=k;ko(k)?Ai.call(a,k,1):sc(a,k)}}return a}function gs(a,s){return a+ia(Ju()*(s-a+1))}function uc(a,s){var y="";if(!a||s<1||s>J)return y;do s%2&&(y+=a),(s=ia(s/2))&&(a+=a);while(s);return y}function Yt(a,s){return wc(Cs(a,s,hr),a+"")}function rh(a){return ss(yi(a))}function bs(a,s){var y=yi(a);return Mi(y,ui(s,0,y.length))}function ya(a,s,y,x){if(!An(a))return a;for(var k=-1,B=(s=si(s,a)).length,ee=B-1,ae=a;ae!=null&&++k<B;){var Oe=Yn(s[k]),V=y;if(Oe==="__proto__"||Oe==="constructor"||Oe==="prototype")return a;if(k!=ee){var Ne=ae[Oe];(V=x?x(Ne,Oe,ae):g)===g&&(V=An(Ne)?Ne:ko(s[k+1])?[]:{})}la(ae,Oe,V),ae=ae[Oe]}return a}var uf=Qu?function(a,s){return Qu.set(a,s),a}:hr,oh=nu?function(a,s){return nu(a,"toString",{configurable:!0,enumerable:!1,value:Nc(s),writable:!0})}:hr;function ih(a){return Mi(yi(a))}function Zr(a,s,y){var x=-1,k=a.length;s<0&&(s=-s>k?0:k+s),(y=y>k?k:y)<0&&(y+=k),k=s>y?0:y-s>>>0,s>>>=0;for(var B=qe(k);++x<k;)B[x]=a[x+s];return B}function ms(a,s){var y;return _n(a,function(x,k,B){return!(y=s(x,k,B))}),!!y}function cc(a,s,y){var x=0,k=a==null?x:a.length;if(typeof s=="number"&&s==s&&k<=2147483647){for(;x<k;){var B=x+k>>>1,ee=a[B];ee!==null&&!ar(ee)&&(y?ee<=s:ee<s)?x=B+1:k=B}return k}return Os(a,s,hr,y)}function Os(a,s,y,x){var k=0,B=a==null?0:a.length;if(B===0)return 0;for(var ee=(s=y(s))!=s,ae=s===null,Oe=ar(s),V=s===g;k<B;){var Ne=ia((k+B)/2),Ue=y(a[Ne]),ct=Ue!==g,pt=Ue===null,jt=Ue==Ue,Le=ar(Ue);if(ee)var He=x||jt;else He=V?jt&&(x||ct):ae?jt&&ct&&(x||!pt):Oe?jt&&ct&&!pt&&(x||!Le):!pt&&!Le&&(x?Ue<=s:Ue<s);He?k=Ne+1:B=Ne}return fr(B,4294967294)}function cf(a,s){for(var y=-1,x=a.length,k=0,B=[];++y<x;){var ee=a[y],ae=s?s(ee):ee;if(!y||!En(ae,Oe)){var Oe=ae;B[k++]=ee===0?0:ee}}return B}function _s(a){return typeof a=="number"?a:ar(a)?ce:+a}function kr(a){if(typeof a=="string")return a;if(Bt(a))return Qt(a,kr)+"";if(ar(a))return Vl?Vl.call(a):"";var s=a+"";return s=="0"&&1/a==-1/0?"-0":s}function ci(a,s,y){var x=-1,k=gr,B=a.length,ee=!0,ae=[],Oe=ae;if(y)ee=!1,k=Ka;else if(B>=200){var V=s?null:Ps(a);if(V)return Co(V);ee=!1,k=Oo,Oe=new ai}else Oe=s?[]:ae;e:for(;++x<B;){var Ne=a[x],Ue=s?s(Ne):Ne;if(Ne=y||Ne!==0?Ne:0,ee&&Ue==Ue){for(var ct=Oe.length;ct--;)if(Oe[ct]===Ue)continue e;s&&Oe.push(Ue),ae.push(Ne)}else k(Oe,Ue,y)||(Oe!==ae&&Oe.push(Ue),ae.push(Ne))}return ae}function sc(a,s){return(a=Rs(a,s=si(s,a)))==null||delete a[Yn(bn(s))]}function sf(a,s,y,x){return ya(a,s,y(Bo(a,s)),x)}function au(a,s,y,x){for(var k=a.length,B=x?k:-1;(x?B--:++B<k)&&s(a[B],B,a););return y?Zr(a,x?0:B,x?B+1:k):Zr(a,x?B+1:0,x?k:B)}function lf(a,s){var y=a;return y instanceof Jt&&(y=y.value()),Qi(s,function(x,k){return k.func.apply(k.thisArg,Gn([x],k.args))},y)}function lc(a,s,y){var x=a.length;if(x<2)return x?ci(a[0]):[];for(var k=-1,B=qe(x);++k<x;)for(var ee=a[k],ae=-1;++ae<x;)ae!=k&&(B[k]=zo(B[k]||ee,a[ae],s,y));return ci(nr(B,1),s,y)}function ff(a,s,y){for(var x=-1,k=a.length,B=s.length,ee={};++x<k;){var ae=x<B?s[x]:g;y(ee,a[x],ae)}return ee}function fc(a){return Rn(a)?a:[]}function ws(a){return typeof a=="function"?a:hr}function si(a,s){return Bt(a)?a:mc(a,s)?[a]:Sf(cn(a))}var pf=Yt;function li(a,s,y){var x=a.length;return y=y===g?x:y,!s&&y>=x?a:Zr(a,s,y)}var xs=$p||function(a){return Tn.clearTimeout(a)};function Es(a,s){if(s)return a.slice();var y=a.length,x=tu?tu(y):new a.constructor(y);return a.copy(x),x}function js(a){var s=new a.constructor(a.byteLength);return new Pi(s).set(new Pi(a)),s}function gn(a,s){var y=s?js(a.buffer):a.buffer;return new a.constructor(y,a.byteOffset,a.length)}function hf(a,s){if(a!==s){var y=a!==g,x=a===null,k=a==a,B=ar(a),ee=s!==g,ae=s===null,Oe=s==s,V=ar(s);if(!ae&&!V&&!B&&a>s||B&&ee&&Oe&&!ae&&!V||x&&ee&&Oe||!y&&Oe||!k)return 1;if(!x&&!B&&!V&&a<s||V&&y&&k&&!x&&!B||ae&&y&&k||!ee&&k||!Oe)return-1}return 0}function wn(a,s,y,x){for(var k=-1,B=a.length,ee=y.length,ae=-1,Oe=s.length,V=qn(B-ee,0),Ne=qe(Oe+V),Ue=!x;++ae<Oe;)Ne[ae]=s[ae];for(;++k<ee;)(Ue||k<B)&&(Ne[y[k]]=a[k]);for(;V--;)Ne[ae++]=a[k++];return Ne}function pc(a,s,y,x){for(var k=-1,B=a.length,ee=-1,ae=y.length,Oe=-1,V=s.length,Ne=qn(B-ae,0),Ue=qe(Ne+V),ct=!x;++k<Ne;)Ue[k]=a[k];for(var pt=k;++Oe<V;)Ue[pt+Oe]=s[Oe];for(;++ee<ae;)(ct||k<B)&&(Ue[pt+y[ee]]=a[k++]);return Ue}function Tr(a,s){var y=-1,x=a.length;for(s||(s=qe(x));++y<x;)s[y]=a[y];return s}function So(a,s,y,x){var k=!y;y||(y={});for(var B=-1,ee=s.length;++B<ee;){var ae=s[B],Oe=x?x(y[ae],a[ae],ae,y,a):g;Oe===g&&(Oe=a[ae]),k?jo(y,ae,Oe):la(y,ae,Oe)}return y}function hc(a,s){return function(y,x){var k=Bt(y)?Yu:Zl,B=s?s():{};return k(y,a,_t(x,2),B)}}function Di(a){return Yt(function(s,y){var x=-1,k=y.length,B=k>1?y[k-1]:g,ee=k>2?y[2]:g;for(B=a.length>3&&typeof B=="function"?(k--,B):g,ee&&pr(y[0],y[1],ee)&&(B=k<3?g:B,k=1),s=m(s);++x<k;){var ae=y[x];ae&&a(s,ae,x,B)}return s})}function df(a,s){return function(y,x){if(y==null)return y;if(!wr(y))return a(y,x);for(var k=y.length,B=s?k:-1,ee=m(y);(s?B--:++B<k)&&x(ee[B],B,ee)!==!1;);return y}}function yf(a){return function(s,y,x){for(var k=-1,B=m(s),ee=x(s),ae=ee.length;ae--;){var Oe=ee[a?ae:++k];if(y(B[Oe],Oe,B)===!1)break}return s}}function vf(a){return function(s){var y=no(s=cn(s))?Ar(s):g,x=y?y[0]:s.charAt(0),k=y?li(y,1).join(""):s.slice(1);return x[a]()+k}}function fi(a){return function(s){return Qi(ao(Dc(s).replace(Fu,"")),a,"")}}function uu(a){return function(){var s=arguments;switch(s.length){case 0:return new a;case 1:return new a(s[0]);case 2:return new a(s[0],s[1]);case 3:return new a(s[0],s[1],s[2]);case 4:return new a(s[0],s[1],s[2],s[3]);case 5:return new a(s[0],s[1],s[2],s[3],s[4]);case 6:return new a(s[0],s[1],s[2],s[3],s[4],s[5]);case 7:return new a(s[0],s[1],s[2],s[3],s[4],s[5],s[6])}var y=sa(a.prototype),x=a.apply(y,s);return An(x)?x:y}}function gf(a){return function(s,y,x){var k=m(s);if(!wr(s)){var B=_t(y,3);s=Vn(s),y=function(ae){return B(k[ae],ae,k)}}var ee=a(s,y,x);return ee>-1?k[B?s[ee]:ee]:g}}function bf(a){return xn(function(s){var y=s.length,x=y,k=Vr.prototype.thru;for(a&&s.reverse();x--;){var B=s[x];if(typeof B!="function")throw new Y(S);if(k&&!ee&&io(B)=="wrapper")var ee=new Vr([],!0)}for(x=ee?x:y;++x<y;){var ae=io(B=s[x]),Oe=ae=="wrapper"?fu(B):g;ee=Oe&&Oc(Oe[0])&&Oe[1]==424&&!Oe[4].length&&Oe[9]==1?ee[io(Oe[0])].apply(ee,Oe[3]):B.length==1&&Oc(B)?ee[ae]():ee.thru(B)}return function(){var V=arguments,Ne=V[0];if(ee&&V.length==1&&Bt(Ne))return ee.plant(Ne).value();for(var Ue=0,ct=y?s[Ue].apply(this,V):Ne;++Ue<y;)ct=s[Ue].call(this,ct);return ct}})}function cu(a,s,y,x,k,B,ee,ae,Oe,V){var Ne=s&z,Ue=1&s,ct=2&s,pt=24&s,jt=512&s,Le=ct?g:uu(a);return function He(){for(var At=arguments.length,it=qe(At),kt=At;kt--;)it[kt]=arguments[kt];if(pt)var Nt=ga(He),$t=is(it,Nt);if(x&&(it=wn(it,x,k,pt)),B&&(it=pc(it,B,ee,pt)),At-=$t,pt&&At<V){var dt=Pr(it,Nt);return yc(a,s,cu,He.placeholder,y,it,dt,ae,Oe,V-At)}var St=Ue?y:this,$n=ct?St[a]:a;return At=it.length,ae?it=jf(it,ae):jt&&At>1&&it.reverse(),Ne&&Oe<At&&(it.length=Oe),this&&this!==Tn&&this instanceof He&&($n=Le||uu($n)),$n.apply(St,it)}}function mf(a,s){return function(y,x){return function(k,B,ee,ae){return lt(k,function(Oe,V,Ne){B(ae,ee(Oe),V,Ne)}),ae}(y,a,s(x),{})}}function su(a,s){return function(y,x){var k;if(y===g&&x===g)return s;if(y!==g&&(k=y),x!==g){if(k===g)return x;typeof y=="string"||typeof x=="string"?(y=kr(y),x=kr(x)):(y=_s(y),x=_s(x)),k=a(y,x)}return k}}function Ss(a){return xn(function(s){return s=Qt(s,Sn(_t())),Yt(function(y){var x=this;return a(s,function(k){return dn(k,x,y)})})})}function dc(a,s){var y=(s=s===g?" ":kr(s)).length;if(y<2)return y?uc(s,a):s;var x=uc(s,Ku(a/ro(s)));return no(s)?li(Ar(x),0,a).join(""):x.slice(0,a)}function Po(a){return function(s,y,x){return x&&typeof x!="number"&&pr(s,y,x)&&(y=x=g),s=To(s),y===g?(y=s,s=0):y=To(y),function(k,B,ee,ae){for(var Oe=-1,V=qn(Ku((B-k)/(ee||1)),0),Ne=qe(V);V--;)Ne[ae?V:++Oe]=k,k+=ee;return Ne}(s,y,x=x===g?s<y?1:-1:To(x),a)}}function va(a){return function(s,y){return typeof s=="string"&&typeof y=="string"||(s=xr(s),y=xr(y)),a(s,y)}}function yc(a,s,y,x,k,B,ee,ae,Oe,V){var Ne=8&s;s|=Ne?C:U,4&(s&=~(Ne?U:C))||(s&=-4);var Ue=[a,s,k,Ne?B:g,Ne?ee:g,Ne?g:B,Ne?g:ee,ae,Oe,V],ct=y.apply(g,Ue);return Oc(a)&&Is(ct,Ue),ct.placeholder=x,Ls(ct,a,s)}function vc(a){var s=v[a];return function(y,x){if(y=xr(y),(x=x==null?0:fr(Ut(x),292))&&Hl(y)){var k=(cn(y)+"e").split("e");return+((k=(cn(s(k[0]+"e"+(+k[1]+x)))+"e").split("e"))[0]+"e"+(+k[1]-x))}return s(y)}}var Ps=ki&&1/Co(new ki([,-0]))[1]==q?function(a){return new ki(a)}:Cc;function gc(a){return function(s){var y=ir(s);return y==ie?sr(s):y==je?ra(s):function(x,k){return Qt(k,function(B){return[B,x[B]]})}(s,a(s))}}function Ao(a,s,y,x,k,B,ee,ae){var Oe=2&s;if(!Oe&&typeof a!="function")throw new Y(S);var V=x?x.length:0;if(V||(s&=-97,x=k=g),ee=ee===g?ee:qn(Ut(ee),0),ae=ae===g?ae:Ut(ae),V-=k?k.length:0,s&U){var Ne=x,Ue=k;x=k=g}var ct=Oe?g:fu(a),pt=[a,s,y,x,k,Ne,Ue,B,ee,ae];if(ct&&function(Le,He){var At=Le[1],it=He[1],kt=At|it,Nt=kt<131,$t=it==z&&At==8||it==z&&At==G&&Le[7].length<=He[8]||it==384&&He[7].length<=He[8]&&At==8;if(!Nt&&!$t)return Le;1&it&&(Le[2]=He[2],kt|=1&At?0:4);var dt=He[3];if(dt){var St=Le[3];Le[3]=St?wn(St,dt,He[4]):dt,Le[4]=St?Pr(Le[3],M):He[4]}(dt=He[5])&&(St=Le[5],Le[5]=St?pc(St,dt,He[6]):dt,Le[6]=St?Pr(Le[5],M):He[6]),(dt=He[7])&&(Le[7]=dt),it&z&&(Le[8]=Le[8]==null?He[8]:fr(Le[8],He[8])),Le[9]==null&&(Le[9]=He[9]),Le[0]=He[0],Le[1]=kt}(pt,ct),a=pt[0],s=pt[1],y=pt[2],x=pt[3],k=pt[4],!(ae=pt[9]=pt[9]===g?Oe?0:a.length:qn(pt[9]-V,0))&&24&s&&(s&=-25),s&&s!=1)jt=s==8||s==I?function(Le,He,At){var it=uu(Le);return function kt(){for(var Nt=arguments.length,$t=qe(Nt),dt=Nt,St=ga(kt);dt--;)$t[dt]=arguments[dt];var $n=Nt<3&&$t[0]!==St&&$t[Nt-1]!==St?[]:Pr($t,St);return(Nt-=$n.length)<At?yc(Le,He,cu,kt.placeholder,g,$t,$n,g,g,At-Nt):dn(this&&this!==Tn&&this instanceof kt?it:Le,this,$t)}}(a,s,ae):s!=C&&s!=33||k.length?cu.apply(g,pt):function(Le,He,At,it){var kt=1&He,Nt=uu(Le);return function $t(){for(var dt=-1,St=arguments.length,$n=-1,ur=it.length,uo=qe(ur+St),Qn=this&&this!==Tn&&this instanceof $t?Nt:Le;++$n<ur;)uo[$n]=it[$n];for(;St--;)uo[$n++]=arguments[++dt];return dn(Qn,kt?At:this,uo)}}(a,s,y,x);else var jt=function(Le,He,At){var it=1&He,kt=uu(Le);return function Nt(){return(this&&this!==Tn&&this instanceof Nt?kt:Le).apply(it?At:this,arguments)}}(a,s,y);return Ls((ct?uf:Is)(jt,pt),a,s)}function Of(a,s,y,x){return a===g||En(a,Be[y])&&!Qe.call(x,y)?s:a}function _f(a,s,y,x,k,B){return An(a)&&An(s)&&(B.set(s,a),ac(a,s,g,_f,B),B.delete(s)),a}function ah(a){return Yo(a)?g:a}function wf(a,s,y,x,k,B){var ee=1&y,ae=a.length,Oe=s.length;if(ae!=Oe&&!(ee&&Oe>ae))return!1;var V=B.get(a),Ne=B.get(s);if(V&&Ne)return V==s&&Ne==a;var Ue=-1,ct=!0,pt=2&y?new ai:g;for(B.set(a,s),B.set(s,a);++Ue<ae;){var jt=a[Ue],Le=s[Ue];if(x)var He=ee?x(Le,jt,Ue,s,a,B):x(jt,Le,Ue,a,s,B);if(He!==g){if(He)continue;ct=!1;break}if(pt){if(!Za(s,function(At,it){if(!Oo(pt,it)&&(jt===At||k(jt,At,y,x,B)))return pt.push(it)})){ct=!1;break}}else if(jt!==Le&&!k(jt,Le,y,x,B)){ct=!1;break}}return B.delete(a),B.delete(s),ct}function xn(a){return wc(Cs(a,g,Us),a+"")}function lu(a){return hs(a,Vn,ks)}function As(a){return hs(a,rr,Te)}var fu=Qu?function(a){return Qu.get(a)}:Cc;function io(a){for(var s=a.name+"",y=ca[s],x=Qe.call(ca,s)?y.length:0;x--;){var k=y[x],B=k.func;if(B==null||B==a)return k.name}return s}function ga(a){return(Qe.call(R,"placeholder")?R:a).placeholder}function _t(){var a=R.iteratee||Ol;return a=a===Ol?ys:a,arguments.length?a(arguments[0],arguments[1]):a}function ba(a,s){var y,x,k=a.__data__;return((x=typeof(y=s))=="string"||x=="number"||x=="symbol"||x=="boolean"?y!=="__proto__":y===null)?k[typeof s=="string"?"string":"hash"]:k.map}function bc(a){for(var s=Vn(a),y=s.length;y--;){var x=s[y],k=a[x];s[y]=[x,k,Ms(k)]}return s}function pi(a,s){var y=function(x,k){return x==null?g:x[k]}(a,s);return ha(y)?y:g}var ks=as?function(a){return a==null?[]:(a=m(a),cr(as(a),function(s){return lr.call(a,s)}))}:Sa,Te=as?function(a){for(var s=[];a;)Gn(s,ks(a)),a=Ro(a);return s}:Sa,ir=Pn;function Ts(a,s,y){for(var x=-1,k=(s=si(s,a)).length,B=!1;++x<k;){var ee=Yn(s[x]);if(!(B=a!=null&&y(a,ee)))break;a=a[ee]}return B||++x!=k?B:!!(k=a==null?0:a.length)&&Li(k)&&ko(ee,k)&&(Bt(a)||Ii(a))}function Ds(a){return typeof a.constructor!="function"||ma(a)?{}:sa(Ro(a))}function xf(a){return Bt(a)||Ii(a)||!!(ii&&a&&a[ii])}function ko(a,s){var y=typeof a;return!!(s=s??J)&&(y=="number"||y!="symbol"&&rt.test(a))&&a>-1&&a%1==0&&a<s}function pr(a,s,y){if(!An(y))return!1;var x=typeof s;return!!(x=="number"?wr(y)&&ko(s,y.length):x=="string"&&s in y)&&En(y[s],a)}function mc(a,s){if(Bt(a))return!1;var y=typeof a;return!(y!="number"&&y!="symbol"&&y!="boolean"&&a!=null&&!ar(a))||Rt.test(a)||!rn.test(a)||s!=null&&a in m(s)}function Oc(a){var s=io(a),y=R[s];if(typeof y!="function"||!(s in Jt.prototype))return!1;if(a===y)return!0;var x=fu(y);return!!x&&a===x[0]}(aa&&ir(new aa(new ArrayBuffer(1)))!=tt||xo&&ir(new xo)!=ie||us&&ir(us.resolve())!=Pe||ki&&ir(new ki)!=je||ua&&ir(new ua)!=Ae)&&(ir=function(a){var s=Pn(a),y=s==be?a.constructor:g,x=y?Dr(y):"";if(x)switch(x){case Qp:return tt;case Yl:return ie;case eh:return Pe;case th:return je;case Wl:return Ae}return s});var Ef=ot?Go:Eu;function ma(a){var s=a&&a.constructor;return a===(typeof s=="function"&&s.prototype||Be)}function Ms(a){return a==a&&!An(a)}function Ns(a,s){return function(y){return y!=null&&y[a]===s&&(s!==g||a in m(y))}}function Cs(a,s,y){return s=qn(s===g?a.length-1:s,0),function(){for(var x=arguments,k=-1,B=qn(x.length-s,0),ee=qe(B);++k<B;)ee[k]=x[s+k];k=-1;for(var ae=qe(s+1);++k<s;)ae[k]=x[k];return ae[s]=y(ee),dn(a,this,ae)}}function Rs(a,s){return s.length<2?a:Bo(a,Zr(s,0,-1))}function jf(a,s){for(var y=a.length,x=fr(s.length,y),k=Tr(a);x--;){var B=s[x];a[x]=ko(B,y)?k[B]:g}return a}function _c(a,s){if((s!=="constructor"||typeof a[s]!="function")&&s!="__proto__")return a[s]}var Is=xc(uf),Oa=Xl||function(a,s){return Tn.setTimeout(a,s)},wc=xc(oh);function Ls(a,s,y){var x=s+"";return wc(a,function(k,B){var ee=B.length;if(!ee)return k;var ae=ee-1;return B[ae]=(ee>1?"& ":"")+B[ae],B=B.join(ee>2?", ":" "),k.replace(K,`{
/* [wrapped with `+B+`] */
`)}(x,function(k,B){return vr(se,function(ee){var ae="_."+ee[0];B&ee[1]&&!gr(k,ae)&&k.push(ae)}),k.sort()}(function(k){var B=k.match(pe);return B?B[1].split(ne):[]}(x),y)))}function xc(a){var s=0,y=0;return function(){var x=Zu(),k=16-(x-y);if(y=x,k>0){if(++s>=800)return arguments[0]}else s=0;return a.apply(g,arguments)}}function Mi(a,s){var y=-1,x=a.length,k=x-1;for(s=s===g?x:s;++y<s;){var B=gs(y,k),ee=a[B];a[B]=a[y],a[y]=ee}return a.length=s,a}var Sf=function(a){var s=wa(a,function(x){return y.size===500&&y.clear(),x}),y=s.cache;return s}(function(a){var s=[];return a.charCodeAt(0)===46&&s.push(""),a.replace(Kt,function(y,x,k,B){s.push(k?B.replace(Ve,"$1"):x||y)}),s});function Yn(a){if(typeof a=="string"||ar(a))return a;var s=a+"";return s=="0"&&1/a==-1/0?"-0":s}function Dr(a){if(a!=null){try{return Ht.call(a)}catch{}try{return a+""}catch{}}return""}function Pf(a){if(a instanceof Jt)return a.clone();var s=new Vr(a.__wrapped__,a.__chain__);return s.__actions__=Tr(a.__actions__),s.__index__=a.__index__,s.__values__=a.__values__,s}var Ur=Yt(function(a,s){return Rn(a)?zo(a,nr(s,1,Rn,!0)):[]}),Af=Yt(function(a,s){var y=bn(s);return Rn(y)&&(y=g),Rn(a)?zo(a,nr(s,1,Rn,!0),_t(y,2)):[]}),zs=Yt(function(a,s){var y=bn(s);return Rn(y)&&(y=g),Rn(a)?zo(a,nr(s,1,Rn,!0),g,y):[]});function Bs(a,s,y){var x=a==null?0:a.length;if(!x)return-1;var k=y==null?0:Ut(y);return k<0&&(k=qn(x+k,0)),bo(a,_t(s,3),k)}function Fs(a,s,y){var x=a==null?0:a.length;if(!x)return-1;var k=x-1;return y!==g&&(k=Ut(y),k=y<0?qn(x+k,0):fr(k,x-1)),bo(a,_t(s,3),k,!0)}function Us(a){return a!=null&&a.length?nr(a,1):[]}function Xs(a){return a&&a.length?a[0]:g}var kf=Yt(function(a){var s=Qt(a,fc);return s.length&&s[0]===a[0]?oc(s):[]}),Hs=Yt(function(a){var s=bn(a),y=Qt(a,fc);return s===bn(y)?s=g:y.pop(),y.length&&y[0]===a[0]?oc(y,_t(s,2)):[]}),pu=Yt(function(a){var s=bn(a),y=Qt(a,fc);return(s=typeof s=="function"?s:g)&&y.pop(),y.length&&y[0]===a[0]?oc(y,g,s):[]});function bn(a){var s=a==null?0:a.length;return s?a[s-1]:g}var uh=Yt(Tf);function Tf(a,s){return a&&a.length&&s&&s.length?vs(a,s):a}var Gs=xn(function(a,s){var y=a==null?0:a.length,x=nc(a,s);return da(a,Qt(s,function(k){return ko(k,y)?+k:k}).sort(hf)),x});function Ec(a){return a==null?a:Jp.call(a)}var Mr=Yt(function(a){return ci(nr(a,1,Rn,!0))}),Wn=Yt(function(a){var s=bn(a);return Rn(s)&&(s=g),ci(nr(a,1,Rn,!0),_t(s,2))}),ch=Yt(function(a){var s=bn(a);return s=typeof s=="function"?s:g,ci(nr(a,1,Rn,!0),g,s)});function Nr(a){if(!a||!a.length)return[];var s=0;return a=cr(a,function(y){if(Rn(y))return s=qn(y.length,s),!0}),Si(s,function(y){return Qt(a,mr(y))})}function Et(a,s){if(!a||!a.length)return[];var y=Nr(a);return s==null?y:Qt(y,function(x){return dn(s,g,x)})}var Ys=Yt(function(a,s){return Rn(a)?zo(a,s):[]}),Ws=Yt(function(a){return lc(cr(a,Rn))}),Vs=Yt(function(a){var s=bn(a);return Rn(s)&&(s=g),lc(cr(a,Rn),_t(s,2))}),Df=Yt(function(a){var s=bn(a);return s=typeof s=="function"?s:g,lc(cr(a,Rn),g,s)}),Mf=Yt(Nr),sh=Yt(function(a){var s=a.length,y=s>1?a[s-1]:g;return y=typeof y=="function"?(a.pop(),y):g,Et(a,y)});function Nf(a){var s=R(a);return s.__chain__=!0,s}function _a(a,s){return s(a)}var lh=xn(function(a){var s=a.length,y=s?a[0]:0,x=this.__wrapped__,k=function(B){return nc(B,a)};return!(s>1||this.__actions__.length)&&x instanceof Jt&&ko(y)?((x=x.slice(y,+y+(s?1:0))).__actions__.push({func:_a,args:[k],thisArg:g}),new Vr(x,this.__chain__).thru(function(B){return s&&!B.length&&B.push(g),B})):this.thru(k)}),$s=hc(function(a,s,y){Qe.call(a,y)?++a[y]:jo(a,y,1)}),fh=gf(Bs),ph=gf(Fs);function Ks(a,s){return(Bt(a)?vr:_n)(a,_t(s,3))}function Ni(a,s){return(Bt(a)?Wu:ql)(a,_t(s,3))}var Cf=hc(function(a,s,y){Qe.call(a,y)?a[y].push(s):jo(a,y,[s])}),zt=Yt(function(a,s,y){var x=-1,k=typeof s=="function",B=wr(a)?qe(a.length):[];return _n(a,function(ee){B[++x]=k?dn(s,ee,y):fa(ee,s,y)}),B}),Rf=hc(function(a,s,y){jo(a,y,s)});function Ci(a,s){return(Bt(a)?Qt:Kr)(a,_t(s,3))}var Zs=hc(function(a,s,y){a[y?0:1].push(s)},function(){return[[],[]]}),hh=Yt(function(a,s){if(a==null)return[];var y=s.length;return y>1&&pr(a,s[0],s[1])?s=[]:y>2&&pr(s[0],s[1],s[2])&&(s=[s[0]]),of(a,nr(s,1),[])}),hu=Kp||function(){return Tn.Date.now()};function qs(a,s,y){return s=y?g:s,s=a&&s==null?a.length:s,Ao(a,z,g,g,g,g,s)}function Js(a,s){var y;if(typeof s!="function")throw new Y(S);return a=Ut(a),function(){return--a>0&&(y=s.apply(this,arguments)),a<=1&&(s=g),y}}var Qs=Yt(function(a,s,y){var x=1;if(y.length){var k=Pr(y,ga(Qs));x|=C}return Ao(a,x,s,y,k)}),If=Yt(function(a,s,y){var x=3;if(y.length){var k=Pr(y,ga(If));x|=C}return Ao(s,x,a,y,k)});function Lf(a,s,y){var x,k,B,ee,ae,Oe,V=0,Ne=!1,Ue=!1,ct=!0;if(typeof a!="function")throw new Y(S);function pt(kt){var Nt=x,$t=k;return x=k=g,V=kt,ee=a.apply($t,Nt)}function jt(kt){return V=kt,ae=Oa(He,s),Ne?pt(kt):ee}function Le(kt){var Nt=kt-Oe;return Oe===g||Nt>=s||Nt<0||Ue&&kt-V>=B}function He(){var kt=hu();if(Le(kt))return At(kt);ae=Oa(He,function(Nt){var $t=s-(Nt-Oe);return Ue?fr($t,B-(Nt-V)):$t}(kt))}function At(kt){return ae=g,ct&&x?pt(kt):(x=k=g,ee)}function it(){var kt=hu(),Nt=Le(kt);if(x=arguments,k=this,Oe=kt,Nt){if(ae===g)return jt(Oe);if(Ue)return xs(ae),ae=Oa(He,s),pt(Oe)}return ae===g&&(ae=Oa(He,s)),ee}return s=xr(s)||0,An(y)&&(Ne=!!y.leading,B=(Ue="maxWait"in y)?qn(xr(y.maxWait)||0,s):B,ct="trailing"in y?!!y.trailing:ct),it.cancel=function(){ae!==g&&xs(ae),V=0,x=Oe=k=ae=g},it.flush=function(){return ae===g?ee:At(hu())},it}var du=Yt(function(a,s){return ps(a,1,s)}),dh=Yt(function(a,s,y){return ps(a,xr(s)||0,y)});function wa(a,s){if(typeof a!="function"||s!=null&&typeof s!="function")throw new Y(S);var y=function(){var x=arguments,k=s?s.apply(this,x):x[0],B=y.cache;if(B.has(k))return B.get(k);var ee=a.apply(this,x);return y.cache=B.set(k,ee)||B,ee};return y.cache=new(wa.Cache||Eo),y}function jc(a){if(typeof a!="function")throw new Y(S);return function(){var s=arguments;switch(s.length){case 0:return!a.call(this);case 1:return!a.call(this,s[0]);case 2:return!a.call(this,s[0],s[1]);case 3:return!a.call(this,s[0],s[1],s[2])}return!a.apply(this,s)}}wa.Cache=Eo;var yh=pf(function(a,s){var y=(s=s.length==1&&Bt(s[0])?Qt(s[0],Sn(_t())):Qt(nr(s,1),Sn(_t()))).length;return Yt(function(x){for(var k=-1,B=fr(x.length,y);++k<B;)x[k]=s[k].call(this,x[k]);return dn(a,this,x)})}),Ri=Yt(function(a,s){var y=Pr(s,ga(Ri));return Ao(a,C,g,s,y)}),Xo=Yt(function(a,s){var y=Pr(s,ga(Xo));return Ao(a,U,g,s,y)}),el=xn(function(a,s){return Ao(a,G,g,g,g,s)});function En(a,s){return a===s||a!=a&&s!=s}var Sc=va(Dn),yu=va(function(a,s){return a>=s}),Ii=ds(function(){return arguments}())?ds:function(a){return kn(a)&&Qe.call(a,"callee")&&!lr.call(a,"callee")},Bt=qe.isArray,zf=Va?Sn(Va):function(a){return kn(a)&&Pn(a)==Fe};function wr(a){return a!=null&&Li(a.length)&&!Go(a)}function Rn(a){return kn(a)&&wr(a)}var Ho=Zp||Eu,Pc=Gu?Sn(Gu):function(a){return kn(a)&&Pn(a)==L};function tl(a){if(!kn(a))return!1;var s=Pn(a);return s==H||s=="[object DOMException]"||typeof a.message=="string"&&typeof a.name=="string"&&!Yo(a)}function Go(a){if(!An(a))return!1;var s=Pn(a);return s==X||s==$||s=="[object AsyncFunction]"||s=="[object Proxy]"}function Ac(a){return typeof a=="number"&&a==Ut(a)}function Li(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=J}function An(a){var s=typeof a;return a!=null&&(s=="object"||s=="function")}function kn(a){return a!=null&&typeof a=="object"}var Bf=$a?Sn($a):function(a){return kn(a)&&ir(a)==ie};function nl(a){return typeof a=="number"||kn(a)&&Pn(a)==Ee}function Yo(a){if(!kn(a)||Pn(a)!=be)return!1;var s=Ro(a);if(s===null)return!0;var y=Qe.call(s,"constructor")&&s.constructor;return typeof y=="function"&&y instanceof y&&Ht.call(y)==Br}var rl=Ji?Sn(Ji):function(a){return kn(a)&&Pn(a)==ze},xa=ni?Sn(ni):function(a){return kn(a)&&ir(a)==je};function vu(a){return typeof a=="string"||!Bt(a)&&kn(a)&&Pn(a)==ve}function ar(a){return typeof a=="symbol"||kn(a)&&Pn(a)==Se}var hi=Qr?Sn(Qr):function(a){return kn(a)&&Li(a.length)&&!!an[Pn(a)]},Ea=va(Uo),gu=va(function(a,s){return a<=s});function ja(a){if(!a)return[];if(wr(a))return vu(a)?Ar(a):Tr(a);if(Io&&a[Io])return function(y){for(var x,k=[];!(x=y.next()).done;)k.push(x.value);return k}(a[Io]());var s=ir(a);return(s==ie?sr:s==je?Co:yi)(a)}function To(a){return a?(a=xr(a))===q||a===-1/0?17976931348623157e292*(a<0?-1:1):a==a?a:0:a===0?a:0}function Ut(a){var s=To(a),y=s%1;return s==s?y?s-y:s:0}function ol(a){return a?ui(Ut(a),0,he):0}function xr(a){if(typeof a=="number")return a;if(ar(a))return ce;if(An(a)){var s=typeof a.valueOf=="function"?a.valueOf():a;a=An(s)?s+"":s}if(typeof a!="string")return a===0?a:+a;a=qa(a);var y=er.test(a);return y||zn.test(a)?go(a.slice(2),y?2:8):Hn.test(a)?ce:+a}function il(a){return So(a,rr(a))}function cn(a){return a==null?"":kr(a)}var Ff=Di(function(a,s){if(ma(s)||wr(s))So(s,Vn(s),a);else for(var y in s)Qe.call(s,y)&&la(a,y,s[y])}),al=Di(function(a,s){So(s,rr(s),a)}),Wo=Di(function(a,s,y,x){So(s,rr(s),a,x)}),ul=Di(function(a,s,y,x){So(s,Vn(s),a,x)}),Uf=xn(nc),Xf=Yt(function(a,s){a=m(a);var y=-1,x=s.length,k=x>2?s[2]:g;for(k&&pr(s[0],s[1],k)&&(x=1);++y<x;)for(var B=s[y],ee=rr(B),ae=-1,Oe=ee.length;++ae<Oe;){var V=ee[ae],Ne=a[V];(Ne===g||En(Ne,Be[V])&&!Qe.call(a,V))&&(a[V]=B[V])}return a}),cl=Yt(function(a){return a.push(g,_f),dn(fl,g,a)});function bu(a,s,y){var x=a==null?g:Bo(a,s);return x===g?y:x}function mu(a,s){return a!=null&&Ts(a,s,ef)}var Hf=mf(function(a,s,y){s!=null&&typeof s.toString!="function"&&(s=tn.call(s)),a[s]=y},Nc(hr)),sl=mf(function(a,s,y){s!=null&&typeof s.toString!="function"&&(s=tn.call(s)),Qe.call(a,s)?a[s].push(y):a[s]=[y]},_t),ll=Yt(fa);function Vn(a){return wr(a)?cs(a):Fo(a)}function rr(a){return wr(a)?cs(a,!0):nh(a)}var di=Di(function(a,s,y){ac(a,s,y)}),fl=Di(function(a,s,y,x){ac(a,s,y,x)}),Gf=xn(function(a,s){var y={};if(a==null)return y;var x=!1;s=Qt(s,function(B){return B=si(B,a),x||(x=B.length>1),B}),So(a,As(a),y),x&&(y=Fr(y,7,ah));for(var k=s.length;k--;)sc(y,s[k]);return y}),pl=xn(function(a,s){return a==null?{}:function(y,x){return af(y,x,function(k,B){return mu(y,B)})}(a,s)});function kc(a,s){if(a==null)return{};var y=Qt(As(a),function(x){return[x]});return s=_t(s),af(a,y,function(x,k){return s(x,k[0])})}var Yf=gc(Vn),hl=gc(rr);function yi(a){return a==null?[]:na(a,Vn(a))}var Tc=fi(function(a,s,y){return s=s.toLowerCase(),a+(y?Ou(s):s)});function Ou(a){return In(cn(a).toLowerCase())}function Dc(a){return(a=cn(a))&&a.replace(gt,Qa).replace(vo,"")}var dl=fi(function(a,s,y){return a+(y?"-":"")+s.toLowerCase()}),Wf=fi(function(a,s,y){return a+(y?" ":"")+s.toLowerCase()}),yl=vf("toLowerCase"),Vf=fi(function(a,s,y){return a+(y?"_":"")+s.toLowerCase()}),vl=fi(function(a,s,y){return a+(y?" ":"")+In(s)}),vh=fi(function(a,s,y){return a+(y?" ":"")+s.toUpperCase()}),In=vf("toUpperCase");function ao(a,s,y){return a=cn(a),(s=y?g:s)===g?function(x){return Ha.test(x)}(a)?function(x){return x.match(Zi)||[]}(a):function(x){return x.match(me)||[]}(a):a.match(s)||[]}var Mc=Yt(function(a,s){try{return dn(a,g,s)}catch(y){return tl(y)?y:new Wt(y)}}),gl=xn(function(a,s){return vr(s,function(y){y=Yn(y),jo(a,y,Qs(a[y],a))}),a});function Nc(a){return function(){return a}}var bl=bf(),ml=bf(!0);function hr(a){return a}function Ol(a){return ys(typeof a=="function"?a:Fr(a,1))}var zi=Yt(function(a,s){return function(y){return fa(y,a,s)}}),_l=Yt(function(a,s){return function(y){return fa(a,y,s)}});function _u(a,s,y){var x=Vn(s),k=rc(s,x);y!=null||An(s)&&(k.length||!x.length)||(y=s,s=a,a=this,k=rc(s,Vn(s)));var B=!(An(y)&&"chain"in y&&!y.chain),ee=Go(a);return vr(k,function(ae){var Oe=s[ae];a[ae]=Oe,ee&&(a.prototype[ae]=function(){var V=this.__chain__;if(B||V){var Ne=a(this.__wrapped__),Ue=Ne.__actions__=Tr(this.__actions__);return Ue.push({func:Oe,args:arguments,thisArg:a}),Ne.__chain__=V,Ne}return Oe.apply(a,Gn([this.value()],arguments))})}),a}function Cc(){}var wu=Ss(Qt),xu=Ss(Vu),wl=Ss(Za);function xl(a){return mc(a)?mr(Yn(a)):function(s){return function(y){return Bo(y,s)}}(a)}var $f=Po(),or=Po(!0);function Sa(){return[]}function Eu(){return!1}var El=su(function(a,s){return a+s},0),Kf=vc("ceil"),Zf=su(function(a,s){return a/s},1),jl=vc("floor"),Pa,qf=su(function(a,s){return a*s},1),Rc=vc("round"),Ic=su(function(a,s){return a-s},0);return R.after=function(a,s){if(typeof s!="function")throw new Y(S);return a=Ut(a),function(){if(--a<1)return s.apply(this,arguments)}},R.ary=qs,R.assign=Ff,R.assignIn=al,R.assignInWith=Wo,R.assignWith=ul,R.at=Uf,R.before=Js,R.bind=Qs,R.bindAll=gl,R.bindKey=If,R.castArray=function(){if(!arguments.length)return[];var a=arguments[0];return Bt(a)?a:[a]},R.chain=Nf,R.chunk=function(a,s,y){s=(y?pr(a,s,y):s===g)?1:qn(Ut(s),0);var x=a==null?0:a.length;if(!x||s<1)return[];for(var k=0,B=0,ee=qe(Ku(x/s));k<x;)ee[B++]=Zr(a,k,k+=s);return ee},R.compact=function(a){for(var s=-1,y=a==null?0:a.length,x=0,k=[];++s<y;){var B=a[s];B&&(k[x++]=B)}return k},R.concat=function(){var a=arguments.length;if(!a)return[];for(var s=qe(a-1),y=arguments[0],x=a;x--;)s[x-1]=arguments[x];return Gn(Bt(y)?Tr(y):[y],nr(s,1))},R.cond=function(a){var s=a==null?0:a.length,y=_t();return a=s?Qt(a,function(x){if(typeof x[1]!="function")throw new Y(S);return[y(x[0]),x[1]]}):[],Yt(function(x){for(var k=-1;++k<s;){var B=a[k];if(dn(B[0],this,x))return dn(B[1],this,x)}})},R.conforms=function(a){return function(s){var y=Vn(s);return function(x){return fs(x,s,y)}}(Fr(a,1))},R.constant=Nc,R.countBy=$s,R.create=function(a,s){var y=sa(a);return s==null?y:ls(y,s)},R.curry=function a(s,y,x){var k=Ao(s,8,g,g,g,g,g,y=x?g:y);return k.placeholder=a.placeholder,k},R.curryRight=function a(s,y,x){var k=Ao(s,I,g,g,g,g,g,y=x?g:y);return k.placeholder=a.placeholder,k},R.debounce=Lf,R.defaults=Xf,R.defaultsDeep=cl,R.defer=du,R.delay=dh,R.difference=Ur,R.differenceBy=Af,R.differenceWith=zs,R.drop=function(a,s,y){var x=a==null?0:a.length;return x?Zr(a,(s=y||s===g?1:Ut(s))<0?0:s,x):[]},R.dropRight=function(a,s,y){var x=a==null?0:a.length;return x?Zr(a,0,(s=x-(s=y||s===g?1:Ut(s)))<0?0:s):[]},R.dropRightWhile=function(a,s){return a&&a.length?au(a,_t(s,3),!0,!0):[]},R.dropWhile=function(a,s){return a&&a.length?au(a,_t(s,3),!0):[]},R.fill=function(a,s,y,x){var k=a==null?0:a.length;return k?(y&&typeof y!="number"&&pr(a,s,y)&&(y=0,x=k),function(B,ee,ae,Oe){var V=B.length;for((ae=Ut(ae))<0&&(ae=-ae>V?0:V+ae),(Oe=Oe===g||Oe>V?V:Ut(Oe))<0&&(Oe+=V),Oe=ae>Oe?0:ol(Oe);ae<Oe;)B[ae++]=ee;return B}(a,s,y,x)):[]},R.filter=function(a,s){return(Bt(a)?cr:un)(a,_t(s,3))},R.flatMap=function(a,s){return nr(Ci(a,s),1)},R.flatMapDeep=function(a,s){return nr(Ci(a,s),q)},R.flatMapDepth=function(a,s,y){return y=y===g?1:Ut(y),nr(Ci(a,s),y)},R.flatten=Us,R.flattenDeep=function(a){return a!=null&&a.length?nr(a,q):[]},R.flattenDepth=function(a,s){return a!=null&&a.length?nr(a,s=s===g?1:Ut(s)):[]},R.flip=function(a){return Ao(a,512)},R.flow=bl,R.flowRight=ml,R.fromPairs=function(a){for(var s=-1,y=a==null?0:a.length,x={};++s<y;){var k=a[s];x[k[0]]=k[1]}return x},R.functions=function(a){return a==null?[]:rc(a,Vn(a))},R.functionsIn=function(a){return a==null?[]:rc(a,rr(a))},R.groupBy=Cf,R.initial=function(a){return a!=null&&a.length?Zr(a,0,-1):[]},R.intersection=kf,R.intersectionBy=Hs,R.intersectionWith=pu,R.invert=Hf,R.invertBy=sl,R.invokeMap=zt,R.iteratee=Ol,R.keyBy=Rf,R.keys=Vn,R.keysIn=rr,R.map=Ci,R.mapKeys=function(a,s){var y={};return s=_t(s,3),lt(a,function(x,k,B){jo(y,s(x,k,B),x)}),y},R.mapValues=function(a,s){var y={};return s=_t(s,3),lt(a,function(x,k,B){jo(y,k,s(x,k,B))}),y},R.matches=function(a){return tf(Fr(a,1))},R.matchesProperty=function(a,s){return nf(a,Fr(s,1))},R.memoize=wa,R.merge=di,R.mergeWith=fl,R.method=zi,R.methodOf=_l,R.mixin=_u,R.negate=jc,R.nthArg=function(a){return a=Ut(a),Yt(function(s){return rf(s,a)})},R.omit=Gf,R.omitBy=function(a,s){return kc(a,jc(_t(s)))},R.once=function(a){return Js(2,a)},R.orderBy=function(a,s,y,x){return a==null?[]:(Bt(s)||(s=s==null?[]:[s]),Bt(y=x?g:y)||(y=y==null?[]:[y]),of(a,s,y))},R.over=wu,R.overArgs=yh,R.overEvery=xu,R.overSome=wl,R.partial=Ri,R.partialRight=Xo,R.partition=Zs,R.pick=pl,R.pickBy=kc,R.property=xl,R.propertyOf=function(a){return function(s){return a==null?g:Bo(a,s)}},R.pull=uh,R.pullAll=Tf,R.pullAllBy=function(a,s,y){return a&&a.length&&s&&s.length?vs(a,s,_t(y,2)):a},R.pullAllWith=function(a,s,y){return a&&a.length&&s&&s.length?vs(a,s,g,y):a},R.pullAt=Gs,R.range=$f,R.rangeRight=or,R.rearg=el,R.reject=function(a,s){return(Bt(a)?cr:un)(a,jc(_t(s,3)))},R.remove=function(a,s){var y=[];if(!a||!a.length)return y;var x=-1,k=[],B=a.length;for(s=_t(s,3);++x<B;){var ee=a[x];s(ee,x,a)&&(y.push(ee),k.push(x))}return da(a,k),y},R.rest=function(a,s){if(typeof a!="function")throw new Y(S);return Yt(a,s=s===g?s:Ut(s))},R.reverse=Ec,R.sampleSize=function(a,s,y){return s=(y?pr(a,s,y):s===g)?1:Ut(s),(Bt(a)?$l:bs)(a,s)},R.set=function(a,s,y){return a==null?a:ya(a,s,y)},R.setWith=function(a,s,y,x){return x=typeof x=="function"?x:g,a==null?a:ya(a,s,y,x)},R.shuffle=function(a){return(Bt(a)?Kl:ih)(a)},R.slice=function(a,s,y){var x=a==null?0:a.length;return x?(y&&typeof y!="number"&&pr(a,s,y)?(s=0,y=x):(s=s==null?0:Ut(s),y=y===g?x:Ut(y)),Zr(a,s,y)):[]},R.sortBy=hh,R.sortedUniq=function(a){return a&&a.length?cf(a):[]},R.sortedUniqBy=function(a,s){return a&&a.length?cf(a,_t(s,2)):[]},R.split=function(a,s,y){return y&&typeof y!="number"&&pr(a,s,y)&&(s=y=g),(y=y===g?he:y>>>0)?(a=cn(a))&&(typeof s=="string"||s!=null&&!rl(s))&&!(s=kr(s))&&no(a)?li(Ar(a),0,y):a.split(s,y):[]},R.spread=function(a,s){if(typeof a!="function")throw new Y(S);return s=s==null?0:qn(Ut(s),0),Yt(function(y){var x=y[s],k=li(y,0,s);return x&&Gn(k,x),dn(a,this,k)})},R.tail=function(a){var s=a==null?0:a.length;return s?Zr(a,1,s):[]},R.take=function(a,s,y){return a&&a.length?Zr(a,0,(s=y||s===g?1:Ut(s))<0?0:s):[]},R.takeRight=function(a,s,y){var x=a==null?0:a.length;return x?Zr(a,(s=x-(s=y||s===g?1:Ut(s)))<0?0:s,x):[]},R.takeRightWhile=function(a,s){return a&&a.length?au(a,_t(s,3),!1,!0):[]},R.takeWhile=function(a,s){return a&&a.length?au(a,_t(s,3)):[]},R.tap=function(a,s){return s(a),a},R.throttle=function(a,s,y){var x=!0,k=!0;if(typeof a!="function")throw new Y(S);return An(y)&&(x="leading"in y?!!y.leading:x,k="trailing"in y?!!y.trailing:k),Lf(a,s,{leading:x,maxWait:s,trailing:k})},R.thru=_a,R.toArray=ja,R.toPairs=Yf,R.toPairsIn=hl,R.toPath=function(a){return Bt(a)?Qt(a,Yn):ar(a)?[a]:Tr(Sf(cn(a)))},R.toPlainObject=il,R.transform=function(a,s,y){var x=Bt(a),k=x||Ho(a)||hi(a);if(s=_t(s,4),y==null){var B=a&&a.constructor;y=k?x?new B:[]:An(a)&&Go(B)?sa(Ro(a)):{}}return(k?vr:lt)(a,function(ee,ae,Oe){return s(y,ee,ae,Oe)}),y},R.unary=function(a){return qs(a,1)},R.union=Mr,R.unionBy=Wn,R.unionWith=ch,R.uniq=function(a){return a&&a.length?ci(a):[]},R.uniqBy=function(a,s){return a&&a.length?ci(a,_t(s,2)):[]},R.uniqWith=function(a,s){return s=typeof s=="function"?s:g,a&&a.length?ci(a,g,s):[]},R.unset=function(a,s){return a==null||sc(a,s)},R.unzip=Nr,R.unzipWith=Et,R.update=function(a,s,y){return a==null?a:sf(a,s,ws(y))},R.updateWith=function(a,s,y,x){return x=typeof x=="function"?x:g,a==null?a:sf(a,s,ws(y),x)},R.values=yi,R.valuesIn=function(a){return a==null?[]:na(a,rr(a))},R.without=Ys,R.words=ao,R.wrap=function(a,s){return Ri(ws(s),a)},R.xor=Ws,R.xorBy=Vs,R.xorWith=Df,R.zip=Mf,R.zipObject=function(a,s){return ff(a||[],s||[],la)},R.zipObjectDeep=function(a,s){return ff(a||[],s||[],ya)},R.zipWith=sh,R.entries=Yf,R.entriesIn=hl,R.extend=al,R.extendWith=Wo,_u(R,R),R.add=El,R.attempt=Mc,R.camelCase=Tc,R.capitalize=Ou,R.ceil=Kf,R.clamp=function(a,s,y){return y===g&&(y=s,s=g),y!==g&&(y=(y=xr(y))==y?y:0),s!==g&&(s=(s=xr(s))==s?s:0),ui(xr(a),s,y)},R.clone=function(a){return Fr(a,4)},R.cloneDeep=function(a){return Fr(a,5)},R.cloneDeepWith=function(a,s){return Fr(a,5,s=typeof s=="function"?s:g)},R.cloneWith=function(a,s){return Fr(a,4,s=typeof s=="function"?s:g)},R.conformsTo=function(a,s){return s==null||fs(a,s,Vn(s))},R.deburr=Dc,R.defaultTo=function(a,s){return a==null||a!=a?s:a},R.divide=Zf,R.endsWith=function(a,s,y){a=cn(a),s=kr(s);var x=a.length,k=y=y===g?x:ui(Ut(y),0,x);return(y-=s.length)>=0&&a.slice(y,k)==s},R.eq=En,R.escape=function(a){return(a=cn(a))&&at.test(a)?a.replace(ht,Bn):a},R.escapeRegExp=function(a){return(a=cn(a))&&mn.test(a)?a.replace(fn,"\\$&"):a},R.every=function(a,s,y){var x=Bt(a)?Vu:Jl;return y&&pr(a,s,y)&&(s=g),x(a,_t(s,3))},R.find=fh,R.findIndex=Bs,R.findKey=function(a,s){return eo(a,_t(s,3),lt)},R.findLast=ph,R.findLastIndex=Fs,R.findLastKey=function(a,s){return eo(a,_t(s,3),vn)},R.floor=jl,R.forEach=Ks,R.forEachRight=Ni,R.forIn=function(a,s){return a==null?a:Gt(a,_t(s,3),rr)},R.forInRight=function(a,s){return a==null?a:Fn(a,_t(s,3),rr)},R.forOwn=function(a,s){return a&&lt(a,_t(s,3))},R.forOwnRight=function(a,s){return a&&vn(a,_t(s,3))},R.get=bu,R.gt=Sc,R.gte=yu,R.has=function(a,s){return a!=null&&Ts(a,s,Ql)},R.hasIn=mu,R.head=Xs,R.identity=hr,R.includes=function(a,s,y,x){a=wr(a)?a:yi(a),y=y&&!x?Ut(y):0;var k=a.length;return y<0&&(y=qn(k+y,0)),vu(a)?y<=k&&a.indexOf(s,y)>-1:!!k&&ri(a,s,y)>-1},R.indexOf=function(a,s,y){var x=a==null?0:a.length;if(!x)return-1;var k=y==null?0:Ut(y);return k<0&&(k=qn(x+k,0)),ri(a,s,k)},R.inRange=function(a,s,y){return s=To(s),y===g?(y=s,s=0):y=To(y),function(x,k,B){return x>=fr(k,B)&&x<qn(k,B)}(a=xr(a),s,y)},R.invoke=ll,R.isArguments=Ii,R.isArray=Bt,R.isArrayBuffer=zf,R.isArrayLike=wr,R.isArrayLikeObject=Rn,R.isBoolean=function(a){return a===!0||a===!1||kn(a)&&Pn(a)==W},R.isBuffer=Ho,R.isDate=Pc,R.isElement=function(a){return kn(a)&&a.nodeType===1&&!Yo(a)},R.isEmpty=function(a){if(a==null)return!0;if(wr(a)&&(Bt(a)||typeof a=="string"||typeof a.splice=="function"||Ho(a)||hi(a)||Ii(a)))return!a.length;var s=ir(a);if(s==ie||s==je)return!a.size;if(ma(a))return!Fo(a).length;for(var y in a)if(Qe.call(a,y))return!1;return!0},R.isEqual=function(a,s){return pa(a,s)},R.isEqualWith=function(a,s,y){var x=(y=typeof y=="function"?y:g)?y(a,s):g;return x===g?pa(a,s,g,y):!!x},R.isError=tl,R.isFinite=function(a){return typeof a=="number"&&Hl(a)},R.isFunction=Go,R.isInteger=Ac,R.isLength=Li,R.isMap=Bf,R.isMatch=function(a,s){return a===s||ic(a,s,bc(s))},R.isMatchWith=function(a,s,y){return y=typeof y=="function"?y:g,ic(a,s,bc(s),y)},R.isNaN=function(a){return nl(a)&&a!=+a},R.isNative=function(a){if(Ef(a))throw new Wt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return ha(a)},R.isNil=function(a){return a==null},R.isNull=function(a){return a===null},R.isNumber=nl,R.isObject=An,R.isObjectLike=kn,R.isPlainObject=Yo,R.isRegExp=rl,R.isSafeInteger=function(a){return Ac(a)&&a>=-9007199254740991&&a<=J},R.isSet=xa,R.isString=vu,R.isSymbol=ar,R.isTypedArray=hi,R.isUndefined=function(a){return a===g},R.isWeakMap=function(a){return kn(a)&&ir(a)==Ae},R.isWeakSet=function(a){return kn(a)&&Pn(a)=="[object WeakSet]"},R.join=function(a,s){return a==null?"":qp.call(a,s)},R.kebabCase=dl,R.last=bn,R.lastIndexOf=function(a,s,y){var x=a==null?0:a.length;if(!x)return-1;var k=x;return y!==g&&(k=(k=Ut(y))<0?qn(x+k,0):fr(k,x-1)),s==s?function(B,ee,ae){for(var Oe=ae+1;Oe--;)if(B[Oe]===ee)return Oe;return Oe}(a,s,k):bo(a,mo,k,!0)},R.lowerCase=Wf,R.lowerFirst=yl,R.lt=Ea,R.lte=gu,R.max=function(a){return a&&a.length?Cn(a,hr,Dn):g},R.maxBy=function(a,s){return a&&a.length?Cn(a,_t(s,2),Dn):g},R.mean=function(a){return Zt(a,hr)},R.meanBy=function(a,s){return Zt(a,_t(s,2))},R.min=function(a){return a&&a.length?Cn(a,hr,Uo):g},R.minBy=function(a,s){return a&&a.length?Cn(a,_t(s,2),Uo):g},R.stubArray=Sa,R.stubFalse=Eu,R.stubObject=function(){return{}},R.stubString=function(){return""},R.stubTrue=function(){return!0},R.multiply=qf,R.nth=function(a,s){return a&&a.length?rf(a,Ut(s)):g},R.noConflict=function(){return Tn._===this&&(Tn._=On),this},R.noop=Cc,R.now=hu,R.pad=function(a,s,y){a=cn(a);var x=(s=Ut(s))?ro(a):0;if(!s||x>=s)return a;var k=(s-x)/2;return dc(ia(k),y)+a+dc(Ku(k),y)},R.padEnd=function(a,s,y){a=cn(a);var x=(s=Ut(s))?ro(a):0;return s&&x<s?a+dc(s-x,y):a},R.padStart=function(a,s,y){a=cn(a);var x=(s=Ut(s))?ro(a):0;return s&&x<s?dc(s-x,y)+a:a},R.parseInt=function(a,s,y){return y||s==null?s=0:s&&(s=+s),qu(cn(a).replace(Dt,""),s||0)},R.random=function(a,s,y){if(y&&typeof y!="boolean"&&pr(a,s,y)&&(s=y=g),y===g&&(typeof s=="boolean"?(y=s,s=g):typeof a=="boolean"&&(y=a,a=g)),a===g&&s===g?(a=0,s=1):(a=To(a),s===g?(s=a,a=0):s=To(s)),a>s){var x=a;a=s,s=x}if(y||a%1||s%1){var k=Ju();return fr(a+k*(s-a+ti("1e-"+((k+"").length-1))),s)}return gs(a,s)},R.reduce=function(a,s,y){var x=Bt(a)?Qi:Zn,k=arguments.length<3;return x(a,_t(s,4),y,k,_n)},R.reduceRight=function(a,s,y){var x=Bt(a)?$u:Zn,k=arguments.length<3;return x(a,_t(s,4),y,k,ql)},R.repeat=function(a,s,y){return s=(y?pr(a,s,y):s===g)?1:Ut(s),uc(cn(a),s)},R.replace=function(){var a=arguments,s=cn(a[0]);return a.length<3?s:s.replace(a[1],a[2])},R.result=function(a,s,y){var x=-1,k=(s=si(s,a)).length;for(k||(k=1,a=g);++x<k;){var B=a==null?g:a[Yn(s[x])];B===g&&(x=k,B=y),a=Go(B)?B.call(a):B}return a},R.round=Rc,R.runInContext=_e,R.sample=function(a){return(Bt(a)?ss:rh)(a)},R.size=function(a){if(a==null)return 0;if(wr(a))return vu(a)?ro(a):a.length;var s=ir(a);return s==ie||s==je?a.size:Fo(a).length},R.snakeCase=Vf,R.some=function(a,s,y){var x=Bt(a)?Za:ms;return y&&pr(a,s,y)&&(s=g),x(a,_t(s,3))},R.sortedIndex=function(a,s){return cc(a,s)},R.sortedIndexBy=function(a,s,y){return Os(a,s,_t(y,2))},R.sortedIndexOf=function(a,s){var y=a==null?0:a.length;if(y){var x=cc(a,s);if(x<y&&En(a[x],s))return x}return-1},R.sortedLastIndex=function(a,s){return cc(a,s,!0)},R.sortedLastIndexBy=function(a,s,y){return Os(a,s,_t(y,2),!0)},R.sortedLastIndexOf=function(a,s){if(a!=null&&a.length){var y=cc(a,s,!0)-1;if(En(a[y],s))return y}return-1},R.startCase=vl,R.startsWith=function(a,s,y){return a=cn(a),y=y==null?0:ui(Ut(y),0,a.length),s=kr(s),a.slice(y,y+s.length)==s},R.subtract=Ic,R.sum=function(a){return a&&a.length?ta(a,hr):0},R.sumBy=function(a,s){return a&&a.length?ta(a,_t(s,2)):0},R.template=function(a,s,y){var x=R.templateSettings;y&&pr(a,s,y)&&(s=g),a=cn(a),s=Wo({},s,x,Of);var k,B,ee=Wo({},s.imports,x.imports,Of),ae=Vn(ee),Oe=na(ee,ae),V=0,Ne=s.interpolate||wt,Ue="__p += '",ct=E((s.escape||wt).source+"|"+Ne.source+"|"+(Ne===Ct?st:wt).source+"|"+(s.evaluate||wt).source+"|$","g"),pt="//# sourceURL="+(Qe.call(s,"sourceURL")?(s.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Uu+"]")+`
`;a.replace(ct,function(He,At,it,kt,Nt,$t){return it||(it=kt),Ue+=a.slice(V,$t).replace(Mt,oi),At&&(k=!0,Ue+=`' +
__e(`+At+`) +
'`),Nt&&(B=!0,Ue+=`';
`+Nt+`;
__p += '`),it&&(Ue+=`' +
((__t = (`+it+`)) == null ? '' : __t) +
'`),V=$t+He.length,He}),Ue+=`';
`;var jt=Qe.call(s,"variable")&&s.variable;if(jt){if(We.test(jt))throw new Wt("Invalid `variable` option passed into `_.template`")}else Ue=`with (obj) {
`+Ue+`
}
`;Ue=(B?Ue.replace(Ie,""):Ue).replace(Ot,"$1").replace(Pt,"$1;"),Ue="function("+(jt||"obj")+`) {
`+(jt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(k?", __e = _.escape":"")+(B?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ue+`return __p
}`;var Le=Mc(function(){return yn(ae,pt+"return "+Ue).apply(g,Oe)});if(Le.source=Ue,tl(Le))throw Le;return Le},R.times=function(a,s){if((a=Ut(a))<1||a>J)return[];var y=he,x=fr(a,he);s=_t(s),a-=he;for(var k=Si(x,s);++y<a;)s(y);return k},R.toFinite=To,R.toInteger=Ut,R.toLength=ol,R.toLower=function(a){return cn(a).toLowerCase()},R.toNumber=xr,R.toSafeInteger=function(a){return a?ui(Ut(a),-9007199254740991,J):a===0?a:0},R.toString=cn,R.toUpper=function(a){return cn(a).toUpperCase()},R.trim=function(a,s,y){if((a=cn(a))&&(y||s===g))return qa(a);if(!a||!(s=kr(s)))return a;var x=Ar(a),k=Ar(s);return li(x,Lr(x,k),Ja(x,k)+1).join("")},R.trimEnd=function(a,s,y){if((a=cn(a))&&(y||s===g))return a.slice(0,Or(a)+1);if(!a||!(s=kr(s)))return a;var x=Ar(a);return li(x,0,Ja(x,Ar(s))+1).join("")},R.trimStart=function(a,s,y){if((a=cn(a))&&(y||s===g))return a.replace(Dt,"");if(!a||!(s=kr(s)))return a;var x=Ar(a);return li(x,Lr(x,Ar(s))).join("")},R.truncate=function(a,s){var y=30,x="...";if(An(s)){var k="separator"in s?s.separator:k;y="length"in s?Ut(s.length):y,x="omission"in s?kr(s.omission):x}var B=(a=cn(a)).length;if(no(a)){var ee=Ar(a);B=ee.length}if(y>=B)return a;var ae=y-ro(x);if(ae<1)return x;var Oe=ee?li(ee,0,ae).join(""):a.slice(0,ae);if(k===g)return Oe+x;if(ee&&(ae+=Oe.length-ae),rl(k)){if(a.slice(ae).search(k)){var V,Ne=Oe;for(k.global||(k=E(k.source,cn(Ft.exec(k))+"g")),k.lastIndex=0;V=k.exec(Ne);)var Ue=V.index;Oe=Oe.slice(0,Ue===g?ae:Ue)}}else if(a.indexOf(kr(k),ae)!=ae){var ct=Oe.lastIndexOf(k);ct>-1&&(Oe=Oe.slice(0,ct))}return Oe+x},R.unescape=function(a){return(a=cn(a))&&ke.test(a)?a.replace(xt,zr):a},R.uniqueId=function(a){var s=++pn;return cn(a)+s},R.upperCase=vh,R.upperFirst=In,R.each=Ks,R.eachRight=Ni,R.first=Xs,_u(R,(Pa={},lt(R,function(a,s){Qe.call(R.prototype,s)||(Pa[s]=a)}),Pa),{chain:!1}),R.VERSION="4.17.21",vr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){R[a].placeholder=R}),vr(["drop","take"],function(a,s){Jt.prototype[a]=function(y){y=y===g?1:qn(Ut(y),0);var x=this.__filtered__&&!s?new Jt(this):this.clone();return x.__filtered__?x.__takeCount__=fr(y,x.__takeCount__):x.__views__.push({size:fr(y,he),type:a+(x.__dir__<0?"Right":"")}),x},Jt.prototype[a+"Right"]=function(y){return this.reverse()[a](y).reverse()}}),vr(["filter","map","takeWhile"],function(a,s){var y=s+1,x=y==1||y==3;Jt.prototype[a]=function(k){var B=this.clone();return B.__iteratees__.push({iteratee:_t(k,3),type:y}),B.__filtered__=B.__filtered__||x,B}}),vr(["head","last"],function(a,s){var y="take"+(s?"Right":"");Jt.prototype[a]=function(){return this[y](1).value()[0]}}),vr(["initial","tail"],function(a,s){var y="drop"+(s?"":"Right");Jt.prototype[a]=function(){return this.__filtered__?new Jt(this):this[y](1)}}),Jt.prototype.compact=function(){return this.filter(hr)},Jt.prototype.find=function(a){return this.filter(a).head()},Jt.prototype.findLast=function(a){return this.reverse().find(a)},Jt.prototype.invokeMap=Yt(function(a,s){return typeof a=="function"?new Jt(this):this.map(function(y){return fa(y,a,s)})}),Jt.prototype.reject=function(a){return this.filter(jc(_t(a)))},Jt.prototype.slice=function(a,s){a=Ut(a);var y=this;return y.__filtered__&&(a>0||s<0)?new Jt(y):(a<0?y=y.takeRight(-a):a&&(y=y.drop(a)),s!==g&&(y=(s=Ut(s))<0?y.dropRight(-s):y.take(s-a)),y)},Jt.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},Jt.prototype.toArray=function(){return this.take(he)},lt(Jt.prototype,function(a,s){var y=/^(?:filter|find|map|reject)|While$/.test(s),x=/^(?:head|last)$/.test(s),k=R[x?"take"+(s=="last"?"Right":""):s],B=x||/^find/.test(s);k&&(R.prototype[s]=function(){var ee=this.__wrapped__,ae=x?[1]:arguments,Oe=ee instanceof Jt,V=ae[0],Ne=Oe||Bt(ee),Ue=function(At){var it=k.apply(R,Gn([At],ae));return x&&ct?it[0]:it};Ne&&y&&typeof V=="function"&&V.length!=1&&(Oe=Ne=!1);var ct=this.__chain__,pt=!!this.__actions__.length,jt=B&&!ct,Le=Oe&&!pt;if(!B&&Ne){ee=Le?ee:new Jt(this);var He=a.apply(ee,ae);return He.__actions__.push({func:_a,args:[Ue],thisArg:g}),new Vr(He,ct)}return jt&&Le?a.apply(this,ae):(He=this.thru(Ue),jt?x?He.value()[0]:He.value():He)})}),vr(["pop","push","shift","sort","splice","unshift"],function(a){var s=fe[a],y=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",x=/^(?:pop|shift)$/.test(a);R.prototype[a]=function(){var k=arguments;if(x&&!this.__chain__){var B=this.value();return s.apply(Bt(B)?B:[],k)}return this[y](function(ee){return s.apply(Bt(ee)?ee:[],k)})}}),lt(Jt.prototype,function(a,s){var y=R[s];if(y){var x=y.name+"";Qe.call(ca,x)||(ca[x]=[]),ca[x].push({name:s,func:y})}}),ca[cu(g,2).name]=[{name:"wrapper",func:g}],Jt.prototype.clone=function(){var a=new Jt(this.__wrapped__);return a.__actions__=Tr(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=Tr(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=Tr(this.__views__),a},Jt.prototype.reverse=function(){if(this.__filtered__){var a=new Jt(this);a.__dir__=-1,a.__filtered__=!0}else(a=this.clone()).__dir__*=-1;return a},Jt.prototype.value=function(){var a=this.__wrapped__.value(),s=this.__dir__,y=Bt(a),x=s<0,k=y?a.length:0,B=function($t,dt,St){for(var $n=-1,ur=St.length;++$n<ur;){var uo=St[$n],Qn=uo.size;switch(uo.type){case"drop":$t+=Qn;break;case"dropRight":dt-=Qn;break;case"take":dt=fr(dt,$t+Qn);break;case"takeRight":$t=qn($t,dt-Qn)}}return{start:$t,end:dt}}(0,k,this.__views__),ee=B.start,ae=B.end,Oe=ae-ee,V=x?ae:ee-1,Ne=this.__iteratees__,Ue=Ne.length,ct=0,pt=fr(Oe,this.__takeCount__);if(!y||!x&&k==Oe&&pt==Oe)return lf(a,this.__actions__);var jt=[];e:for(;Oe--&&ct<pt;){for(var Le=-1,He=a[V+=s];++Le<Ue;){var At=Ne[Le],it=At.iteratee,kt=At.type,Nt=it(He);if(kt==2)He=Nt;else if(!Nt){if(kt==1)continue e;break e}}jt[ct++]=He}return jt},R.prototype.at=lh,R.prototype.chain=function(){return Nf(this)},R.prototype.commit=function(){return new Vr(this.value(),this.__chain__)},R.prototype.next=function(){this.__values__===g&&(this.__values__=ja(this.value()));var a=this.__index__>=this.__values__.length;return{done:a,value:a?g:this.__values__[this.__index__++]}},R.prototype.plant=function(a){for(var s,y=this;y instanceof ou;){var x=Pf(y);x.__index__=0,x.__values__=g,s?k.__wrapped__=x:s=x;var k=x;y=y.__wrapped__}return k.__wrapped__=a,s},R.prototype.reverse=function(){var a=this.__wrapped__;if(a instanceof Jt){var s=a;return this.__actions__.length&&(s=new Jt(this)),(s=s.reverse()).__actions__.push({func:_a,args:[Ec],thisArg:g}),new Vr(s,this.__chain__)}return this.thru(Ec)},R.prototype.toJSON=R.prototype.valueOf=R.prototype.value=function(){return lf(this.__wrapped__,this.__actions__)},R.prototype.first=R.prototype.head,Io&&(R.prototype[Io]=function(){return this}),R}();Tn._=oo,(_=function(){return oo}.call(b,u,b,f))===g||(f.exports=_)}).call(this)}).call(this,u(68),u(221)(h))},function(h,b,u){var d=u(7),f=u(34),_=u(33),g=u(87),S=u(62),T=u(174),M=u(28),I=d.TypeError,C=M("toPrimitive");h.exports=function(U,z){if(!_(U)||g(U))return U;var G,q=S(U,C);if(q){if(z===void 0&&(z="default"),G=f(q,U,z),!_(G)||g(G))return G;throw I("Can't convert object to primitive value")}return z===void 0&&(z="number"),T(U,z)}},function(h,b,u){var d=u(108);h.exports=d&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(h,b,u){var d=u(36),f=u(18),_=u(91);h.exports=!d&&!f(function(){return Object.defineProperty(_("div"),"a",{get:function(){return 7}}).a!=7})},function(h,b,u){var d=u(35),f=u(135),_=u(50),g=u(38);h.exports=function(S,T){for(var M=f(T),I=g.f,C=_.f,U=0;U<M.length;U++){var z=M[U];d(S,z)||I(S,z,C(T,z))}}},function(h,b,u){var d=u(46),f=u(15),_=u(74),g=u(112),S=u(32),T=f([].concat);h.exports=d("Reflect","ownKeys")||function(M){var I=_.f(S(M)),C=g.f;return C?T(I,C(M)):I}},function(h,b,u){var d=u(15),f=u(35),_=u(41),g=u(137).indexOf,S=u(72),T=d([].push);h.exports=function(M,I){var C,U=_(M),z=0,G=[];for(C in U)!f(S,C)&&f(U,C)&&T(G,C);for(;I.length>z;)f(U,C=I[z++])&&(~g(G,C)||T(G,C));return G}},function(h,b,u){var d=u(41),f=u(75),_=u(45),g=function(S){return function(T,M,I){var C,U=d(T),z=_(U),G=f(I,z);if(S&&M!=M){for(;z>G;)if((C=U[G++])!=C)return!0}else for(;z>G;G++)if((S||G in U)&&U[G]===M)return S||G||0;return!S&&-1}};h.exports={includes:g(!0),indexOf:g(!1)}},function(h,b,u){var d=u(46);h.exports=d("document","documentElement")},function(h,b,u){var d=u(51),f=u(41),_=u(74).f,g=u(114),S=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];h.exports.f=function(T){return S&&d(T)=="Window"?function(M){try{return _(M)}catch{return g(S)}}(T):_(f(T))}},function(h,b,u){var d=u(28);b.f=d},function(h,b,u){var d=u(177),f=u(35),_=u(140),g=u(38).f;h.exports=function(S){var T=d.Symbol||(d.Symbol={});f(T,S)||g(T,S,{value:_.f(S)})}},function(h,b,u){var d,f,_,g=u(18),S=u(30),T=u(60),M=u(101),I=u(42),C=u(28),U=u(71),z=C("iterator"),G=!1;[].keys&&("next"in(_=[].keys())?(f=M(M(_)))!==Object.prototype&&(d=f):G=!0),d==null||g(function(){var q={};return d[z].call(q)!==q})?d={}:U&&(d=T(d)),S(d[z])||I(d,z,function(){return this}),h.exports={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:G}},function(h,b,u){var d=u(18);h.exports=!d(function(){function f(){}return f.prototype.constructor=null,Object.getPrototypeOf(new f)!==f.prototype})},function(h,b,u){var d=u(16),f=u(15),_=u(72),g=u(33),S=u(35),T=u(38).f,M=u(74),I=u(139),C=u(183),U=u(90),z=u(185),G=!1,q=U("meta"),J=0,ce=function(se){T(se,q,{value:{objectID:"O"+J++,weakData:{}}})},he=h.exports={enable:function(){he.enable=function(){},G=!0;var se=M.f,Q=f([].splice),re={};re[q]=1,se(re).length&&(M.f=function(W){for(var L=se(W),H=0,X=L.length;H<X;H++)if(L[H]===q){Q(L,H,1);break}return L},d({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:I.f}))},fastKey:function(se,Q){if(!g(se))return typeof se=="symbol"?se:(typeof se=="string"?"S":"P")+se;if(!S(se,q)){if(!C(se))return"F";if(!Q)return"E";ce(se)}return se[q].objectID},getWeakData:function(se,Q){if(!S(se,q)){if(!C(se))return!0;if(!Q)return!1;ce(se)}return se[q].weakData},onFreeze:function(se){return z&&G&&C(se)&&!S(se,q)&&ce(se),se}};_[q]=!0},function(h,b,u){var d=u(28),f=u(80),_=d("iterator"),g=Array.prototype;h.exports=function(S){return S!==void 0&&(f.Array===S||g[_]===S)}},function(h,b,u){var d=u(7),f=u(34),_=u(56),g=u(32),S=u(88),T=u(118),M=d.TypeError;h.exports=function(I,C){var U=arguments.length<2?T(I):C;if(_(U))return g(f(U,I));throw M(S(I)+" is not iterable")}},function(h,b,u){var d=u(34),f=u(32),_=u(62);h.exports=function(g,S,T){var M,I;f(g);try{if(!(M=_(g,"return"))){if(S==="throw")throw T;return T}M=d(M,g)}catch(C){I=!0,M=C}if(S==="throw")throw T;if(I)throw M;return f(M),T}},function(h,b,u){var d=u(30),f=u(33),_=u(102);h.exports=function(g,S,T){var M,I;return _&&d(M=S.constructor)&&M!==T&&f(I=M.prototype)&&I!==T.prototype&&_(g,I),g}},function(h,b,u){var d=u(42);h.exports=function(f,_,g){for(var S in _)d(f,S,_[S],g);return f}},function(h,b,u){var d=u(46),f=u(38),_=u(28),g=u(36),S=_("species");h.exports=function(T){var M=d(T),I=f.f;g&&M&&!M[S]&&I(M,S,{configurable:!0,get:function(){return this}})}},function(h,b,u){var d=u(15),f=u(59),_=u(39),g=u(44),S=d("".charAt),T=d("".charCodeAt),M=d("".slice),I=function(C){return function(U,z){var G,q,J=_(g(U)),ce=f(z),he=J.length;return ce<0||ce>=he?C?"":void 0:(G=T(J,ce))<55296||G>56319||ce+1===he||(q=T(J,ce+1))<56320||q>57343?C?S(J,ce):G:C?M(J,ce,ce+2):q-56320+(G-55296<<10)+65536}};h.exports={codeAt:I(!1),charAt:I(!0)}},function(h,b){h.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(h,b,u){var d=u(91)("span").classList,f=d&&d.constructor&&d.constructor.prototype;h.exports=f===Object.prototype?void 0:f},function(h,b,u){var d=u(32);h.exports=function(){var f=d(this),_="";return f.global&&(_+="g"),f.ignoreCase&&(_+="i"),f.multiline&&(_+="m"),f.dotAll&&(_+="s"),f.unicode&&(_+="u"),f.sticky&&(_+="y"),_}},function(h,b,u){var d=u(18),f=u(7).RegExp,_=d(function(){var T=f("a","y");return T.lastIndex=2,T.exec("abcd")!=null}),g=_||d(function(){return!f("a","y").sticky}),S=_||d(function(){var T=f("^r","gy");return T.lastIndex=2,T.exec("str")!=null});h.exports={BROKEN_CARET:S,MISSED_STICKY:g,UNSUPPORTED_Y:_}},function(h,b,u){var d=u(16),f=u(79).find,_=u(100),g="find",S=!0;g in[]&&Array(1).find(function(){S=!1}),d({target:"Array",proto:!0,forced:S},{find:function(T){return f(this,T,arguments.length>1?arguments[1]:void 0)}}),_(g)},function(h,b,u){var d=u(16),f=u(137).includes,_=u(100);d({target:"Array",proto:!0},{includes:function(g){return f(this,g,arguments.length>1?arguments[1]:void 0)}}),_("includes")},function(h,b,u){var d=u(16),f=u(15),_=u(197),g=u(44),S=u(39),T=u(198),M=f("".indexOf);d({target:"String",proto:!0,forced:!T("includes")},{includes:function(I){return!!~M(S(g(this)),S(_(I)),arguments.length>1?arguments[1]:void 0)}})},function(h,b,u){var d=u(33),f=u(51),_=u(28)("match");h.exports=function(g){var S;return d(g)&&((S=g[_])!==void 0?!!S:f(g)=="RegExp")}},function(h,b,u){var d=u(15);h.exports=d(1 .valueOf)},function(h,b,u){var d=u(15),f=u(44),_=u(39),g=u(162),S=d("".replace),T="["+g+"]",M=RegExp("^"+T+T+"*"),I=RegExp(T+T+"*$"),C=function(U){return function(z){var G=_(f(z));return 1&U&&(G=S(G,M,"")),2&U&&(G=S(G,I,"")),G}};h.exports={start:C(1),end:C(2),trim:C(3)}},function(h,b){h.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},function(h,b){var u,d,f=h.exports={};function _(){throw new Error("setTimeout has not been defined")}function g(){throw new Error("clearTimeout has not been defined")}function S(J){if(u===setTimeout)return setTimeout(J,0);if((u===_||!u)&&setTimeout)return u=setTimeout,setTimeout(J,0);try{return u(J,0)}catch{try{return u.call(null,J,0)}catch{return u.call(this,J,0)}}}(function(){try{u=typeof setTimeout=="function"?setTimeout:_}catch{u=_}try{d=typeof clearTimeout=="function"?clearTimeout:g}catch{d=g}})();var T,M=[],I=!1,C=-1;function U(){I&&T&&(I=!1,T.length?M=T.concat(M):C=-1,M.length&&z())}function z(){if(!I){var J=S(U);I=!0;for(var ce=M.length;ce;){for(T=M,M=[];++C<ce;)T&&T[C].run();C=-1,ce=M.length}T=null,I=!1,function(he){if(d===clearTimeout)return clearTimeout(he);if((d===g||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(he);try{d(he)}catch{try{return d.call(null,he)}catch{return d.call(this,he)}}}(J)}}function G(J,ce){this.fun=J,this.array=ce}function q(){}f.nextTick=function(J){var ce=new Array(arguments.length-1);if(arguments.length>1)for(var he=1;he<arguments.length;he++)ce[he-1]=arguments[he];M.push(new G(J,ce)),M.length!==1||I||S(z)},G.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=q,f.addListener=q,f.once=q,f.off=q,f.removeListener=q,f.removeAllListeners=q,f.emit=q,f.prependListener=q,f.prependOnceListener=q,f.listeners=function(J){return[]},f.binding=function(J){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(J){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(h,b,u){var d=u(32),f=u(165),_=u(28)("species");h.exports=function(g,S){var T,M=d(g).constructor;return M===void 0||(T=d(M)[_])==null?S:f(T)}},function(h,b,u){var d=u(7),f=u(99),_=u(88),g=d.TypeError;h.exports=function(S){if(f(S))return S;throw g(_(S)+" is not a constructor")}},function(h,b,u){var d=u(16),f=u(161).trim;d({target:"String",proto:!0,forced:u(200)("trim")},{trim:function(){return f(this)}})},function(h,b,u){var d=u(34),f=u(123),_=u(32),g=u(94),S=u(39),T=u(44),M=u(62),I=u(124),C=u(125);f("match",function(U,z,G){return[function(q){var J=T(this),ce=q==null?void 0:M(q,U);return ce?d(ce,q,J):new RegExp(q)[U](S(J))},function(q){var J=_(this),ce=S(q),he=G(z,J,ce);if(he.done)return he.value;if(!J.global)return C(J,ce);var se=J.unicode;J.lastIndex=0;for(var Q,re=[],W=0;(Q=C(J,ce))!==null;){var L=S(Q[0]);re[W]=L,L===""&&(J.lastIndex=I(ce,g(J.lastIndex),se)),W++}return W===0?null:re}]})},function(h,b,u){var d,f,_,g,S=u(7),T=u(76),M=u(64),I=u(30),C=u(35),U=u(18),z=u(138),G=u(98),q=u(91),J=u(169),ce=u(128),he=S.setImmediate,se=S.clearImmediate,Q=S.process,re=S.Dispatch,W=S.Function,L=S.MessageChannel,H=S.String,X=0,$={},ie="onreadystatechange";try{d=S.location}catch{}var Ee=function(je){if(C($,je)){var ve=$[je];delete $[je],ve()}},be=function(je){return function(){Ee(je)}},Pe=function(je){Ee(je.data)},ze=function(je){S.postMessage(H(je),d.protocol+"//"+d.host)};he&&se||(he=function(je){var ve=G(arguments,1);return $[++X]=function(){T(I(je)?je:W(je),void 0,ve)},f(X),X},se=function(je){delete $[je]},ce?f=function(je){Q.nextTick(be(je))}:re&&re.now?f=function(je){re.now(be(je))}:L&&!J?(g=(_=new L).port2,_.port1.onmessage=Pe,f=M(g.postMessage,g)):S.addEventListener&&I(S.postMessage)&&!S.importScripts&&d&&d.protocol!=="file:"&&!U(ze)?(f=ze,S.addEventListener("message",Pe,!1)):f=ie in q("script")?function(je){z.appendChild(q("script")).onreadystatechange=function(){z.removeChild(this),Ee(je)}}:function(je){setTimeout(be(je),0)}),h.exports={set:he,clear:se}},function(h,b,u){var d=u(55);h.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(d)},function(h,b,u){var d=u(56),f=function(_){var g,S;this.promise=new _(function(T,M){if(g!==void 0||S!==void 0)throw TypeError("Bad Promise constructor");g=T,S=M}),this.resolve=d(g),this.reject=d(S)};h.exports.f=function(_){return new f(_)}},function(h,b,u){b.a=function(){return!1}},function(h,b,u){(function(d){u.d(b,"a",function(){return Q});var f=u(1);function _(L){throw new Error("[mobx-utils] "+L)}function g(L,H){H===void 0&&(H="Illegal state"),L||_(H)}var S=function(L){return L&&L!==Object.prototype&&Object.getOwnPropertyNames(L).concat(S(Object.getPrototypeOf(L))||[])},T=function(L){return function(H){var X=S(H);return X.filter(function($,ie){return X.indexOf($)===ie})}(L).filter(function(H){return H!=="constructor"&&!~H.indexOf("__")})},M="pending",I="fulfilled",C="rejected";function U(L){switch(this.state){case M:return L.pending&&L.pending(this.value);case C:return L.rejected&&L.rejected(this.value);case I:return L.fulfilled?L.fulfilled(this.value):this.value}}function z(L,H){if(g(arguments.length<=2,"fromPromise expects up to two arguments"),g(typeof L=="function"||typeof L=="object"&&L&&typeof L.then=="function","Please pass a promise or function to fromPromise"),L.isPromiseBasedObservable===!0)return L;typeof L=="function"&&(L=new Promise(L));var X=L;L.then(Object(f.k)("observableFromPromise-resolve",function(ie){X.value=ie,X.state=I}),Object(f.k)("observableFromPromise-reject",function(ie){X.value=ie,X.state=C})),X.isPromiseBasedObservable=!0,X.case=U;var $=H&&H.state===I?H.value:void 0;return Object(f.q)(X,{value:$,state:M},{},{deep:!1}),X}(function(L){L.reject=Object(f.k)("fromPromise.reject",function(H){var X=L(Promise.reject(H));return X.state=C,X.value=H,X}),L.resolve=Object(f.k)("fromPromise.resolve",function(H){H===void 0&&(H=void 0);var X=L(Promise.resolve(H));return X.state=I,X.value=H,X})})(z||(z={}));var G=function(L,H,X,$){var ie,Ee=arguments.length,be=Ee<3?H:$===null?$=Object.getOwnPropertyDescriptor(H,X):$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")be=Reflect.decorate(L,H,X,$);else for(var Pe=L.length-1;Pe>=0;Pe--)(ie=L[Pe])&&(be=(Ee<3?ie(be):Ee>3?ie(H,X,be):ie(H,X))||be);return Ee>3&&be&&Object.defineProperty(H,X,be),be};(function(){function L(H,X){var $=this;Object(f.G)(function(){$.current=X,$.subscription=H.subscribe($)})}L.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},L.prototype.next=function(H){this.current=H},L.prototype.complete=function(){this.dispose()},L.prototype.error=function(H){this.current=H,this.dispose()},G([f.C.ref],L.prototype,"current",void 0),G([f.k.bound],L.prototype,"next",null),G([f.k.bound],L.prototype,"complete",null),G([f.k.bound],L.prototype,"error",null)})();var q=function(){return q=Object.assign||function(L){for(var H,X=1,$=arguments.length;X<$;X++)for(var ie in H=arguments[X])Object.prototype.hasOwnProperty.call(H,ie)&&(L[ie]=H[ie]);return L},q.apply(this,arguments)},J=function(L,H,X,$){var ie,Ee=arguments.length,be=Ee<3?H:$===null?$=Object.getOwnPropertyDescriptor(H,X):$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")be=Reflect.decorate(L,H,X,$);else for(var Pe=L.length-1;Pe>=0;Pe--)(ie=L[Pe])&&(be=(Ee<3?ie(be):Ee>3?ie(H,X,be):ie(H,X))||be);return Ee>3&&be&&Object.defineProperty(H,X,be),be},ce=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function L(H){var X=this;this.model=H,this.localValues=f.C.map({}),this.localComputedValues=f.C.map({}),this.isPropertyDirty=function($){return X.localValues.has($)},g(Object(f.A)(H),"createViewModel expects an observable object"),T(H).forEach(function($){if($!==f.a&&$!=="__mobxDidRunLazyInitializers"){if(g(ce.indexOf($)===-1,"The propertyname "+$+" is reserved and cannot be used with viewModels"),Object(f.w)(H,$)){var ie=Object(f.h)(H,$).derivation;X.localComputedValues.set($,Object(f.m)(ie.bind(X)))}var Ee=Object.getOwnPropertyDescriptor(H,$),be=Ee?{enumerable:Ee.enumerable}:{};Object.defineProperty(X,$,q(q({},be),{configurable:!0,get:function(){return Object(f.w)(H,$)?X.localComputedValues.get($).get():X.isPropertyDirty($)?X.localValues.get($):X.model[$]},set:Object(f.k)(function(Pe){Pe!==X.model[$]?X.localValues.set($,Pe):X.localValues.delete($)})}))}})}Object.defineProperty(L.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),L.prototype.submit=function(){var H=this;Object(f.B)(this.localValues).forEach(function(X){var $=H.localValues.get(X),ie=H.model[X];Object(f.y)(ie)?ie.replace($):Object(f.z)(ie)?(ie.clear(),ie.merge($)):Object(f.v)($)||(H.model[X]=$)}),this.localValues.clear()},L.prototype.reset=function(){this.localValues.clear()},L.prototype.resetProperty=function(H){this.localValues.delete(H)},J([f.m],L.prototype,"isDirty",null),J([f.m],L.prototype,"changedValues",null),J([f.k.bound],L.prototype,"submit",null),J([f.k.bound],L.prototype,"reset",null),J([f.k.bound],L.prototype,"resetProperty",null)})();function he(L){if(!L)return"ROOT";for(var H=[];L.parent;)H.push(L.path),L=L.parent;return H.reverse().join("/")}function se(L){return Object(f.A)(L)||Object(f.y)(L)||Object(f.z)(L)}function Q(L,H){var X=new WeakMap;function $(be){var Pe=X.get(be.object);(function(ze,je){switch(ze.type){case"add":ie(ze.newValue,je,ze.name);break;case"update":Ee(ze.oldValue),ie(ze.newValue,je,ze.name||""+ze.index);break;case"remove":case"delete":Ee(ze.oldValue);break;case"splice":ze.removed.map(Ee),ze.added.forEach(function(Ae,Fe){return ie(Ae,je,""+(ze.index+Fe))});for(var ve=ze.index+ze.addedCount;ve<ze.object.length;ve++)if(se(ze.object[ve])){var Se=X.get(ze.object[ve]);Se&&(Se.path=""+ve)}}})(be,Pe),H(be,he(Pe),L)}function ie(be,Pe,ze){if(se(be)){var je=X.get(be);if(je){if(je.parent!==Pe||je.path!==ze)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+he(Pe)+"/"+ze+"', but it already exists at '"+he(je.parent)+"/"+je.path+"'")}else{var ve={parent:Pe,path:ze,dispose:Object(f.D)(be,$)};X.set(be,ve),Object(f.p)(be).forEach(function(Se){var Ae=Se[0];return ie(Se[1],ve,Ae)})}}}function Ee(be){if(se(be)){var Pe=X.get(be);if(!Pe)return;X.delete(be),Pe.dispose(),Object(f.L)(be).forEach(Ee)}}return ie(L,void 0,""),function(){Ee(L)}}var re,W=(re=function(L,H){return re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,$){X.__proto__=$}||function(X,$){for(var ie in $)$.hasOwnProperty(ie)&&(X[ie]=$[ie])},re(L,H)},function(L,H){function X(){this.constructor=L}re(L,H),L.prototype=H===null?Object.create(H):(X.prototype=H.prototype,new X)});(function(L){function H(X,$,ie){var Ee=ie===void 0?{}:ie,be=Ee.name,Pe=be===void 0?"ogm"+(1e3*Math.random()|0):be,ze=Ee.keyToName,je=ze===void 0?function(Ae){return""+Ae}:ze,ve=L.call(this)||this;ve._keyToName=je,ve._groupBy=$,ve._ogmInfoKey=Symbol("ogmInfo"+Pe),ve._base=X;for(var Se=0;Se<X.length;Se++)ve._addItem(X[Se]);return ve._disposeBaseObserver=Object(f.D)(ve._base,function(Ae){if(Ae.type==="splice")Object(f.J)(function(){for(var Fe=0,tt=Ae.removed;Fe<tt.length;Fe++){var mt=tt[Fe];ve._removeItem(mt)}for(var Ye=0,Ke=Ae.added;Ye<Ke.length;Ye++){var vt=Ke[Ye];ve._addItem(vt)}});else{if(Ae.type!=="update")throw new Error("illegal state");Object(f.J)(function(){ve._removeItem(Ae.oldValue),ve._addItem(Ae.newValue)})}}),ve}W(H,L),H.prototype.clear=function(){throw new Error("not supported")},H.prototype.delete=function(X){throw new Error("not supported")},H.prototype.set=function(X,$){throw new Error("not supported")},H.prototype.dispose=function(){this._disposeBaseObserver();for(var X=0;X<this._base.length;X++){var $=this._base[X];$[this._ogmInfoKey].reaction(),delete $[this._ogmInfoKey]}},H.prototype._getGroupArr=function(X){var $=L.prototype.get.call(this,X);return $===void 0&&($=Object(f.C)([],{name:"GroupArray["+this._keyToName(X)+"]",deep:!1}),L.prototype.set.call(this,X,$)),$},H.prototype._removeFromGroupArr=function(X,$){var ie=L.prototype.get.call(this,X);ie.length===1?L.prototype.delete.call(this,X):($===ie.length-1||(ie[$]=ie[ie.length-1],ie[$][this._ogmInfoKey].groupArrIndex=$),ie.length--)},H.prototype._addItem=function(X){var $=this,ie=this._groupBy(X),Ee=this._getGroupArr(ie),be={groupByValue:ie,groupArrIndex:Ee.length,reaction:Object(f.F)(function(){return $._groupBy(X)},function(Pe,ze){var je=X[$._ogmInfoKey];$._removeFromGroupArr(je.groupByValue,je.groupArrIndex);var ve=$._getGroupArr(Pe),Se=ve.length;ve.push(X),je.groupByValue=Pe,je.groupArrIndex=Se})};Object.defineProperty(X,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:be}),Ee.push(X)},H.prototype._removeItem=function(X){var $=X[this._ogmInfoKey];this._removeFromGroupArr($.groupByValue,$.groupArrIndex),$.reaction(),delete X[this._ogmInfoKey]}})(f.b),function(){function L(H,X){this.base=H,this.args=X,this.closestIdx=0,this.isDisposed=!1;for(var $=this.closest=this.root=H,ie=0;ie<this.args.length-1&&($=$.get(X[ie]));ie++)this.closest=$;this.closestIdx=ie}return L.prototype.exists=function(){this.assertNotDisposed();var H=this.args.length;return this.closestIdx>=H-1&&this.closest.has(this.args[H-1])},L.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},L.prototype.set=function(H){this.assertNotDisposed();for(var X=this.args.length,$=this.closest,ie=this.closestIdx;ie<X-1;ie++){var Ee=new Map;$.set(this.args[ie],Ee),$=Ee}this.closestIdx=X-1,this.closest=$,$.set(this.args[X-1],H)},L.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var H=this.args.length;this.closest.delete(this.args[H-1]);for(var X=this.root,$=[X],ie=0;ie<H-1;ie++)X=X.get(this.args[ie]),$.push(X);for(ie=$.length-1;ie>0;ie--)$[ie].size===0&&$[ie-1].delete(this.args[ie-1]);this.isDisposed=!0},L.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},L}(),Promise.resolve(),typeof queueMicrotask<"u"||d!==void 0&&d.nextTick}).call(this,u(163))},function(h,b,u){var d;(function(f,_,g){if(f){for(var S,T={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},M={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},I={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},C={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},U=1;U<20;++U)T[111+U]="f"+U;for(U=0;U<=9;++U)T[U+96]=U.toString();se.prototype.bind=function(Q,re,W){var L=this;return Q=Q instanceof Array?Q:[Q],L._bindMultiple.call(L,Q,re,W),L},se.prototype.unbind=function(Q,re){return this.bind.call(this,Q,function(){},re)},se.prototype.trigger=function(Q,re){var W=this;return W._directMap[Q+":"+re]&&W._directMap[Q+":"+re]({},Q),W},se.prototype.reset=function(){var Q=this;return Q._callbacks={},Q._directMap={},Q},se.prototype.stopCallback=function(Q,re){if((" "+re.className+" ").indexOf(" mousetrap ")>-1||he(re,this.target))return!1;if("composedPath"in Q&&typeof Q.composedPath=="function"){var W=Q.composedPath()[0];W!==Q.target&&(re=W)}return re.tagName=="INPUT"||re.tagName=="SELECT"||re.tagName=="TEXTAREA"||re.isContentEditable},se.prototype.handleKey=function(){var Q=this;return Q._handleKey.apply(Q,arguments)},se.addKeycodes=function(Q){for(var re in Q)Q.hasOwnProperty(re)&&(T[re]=Q[re]);S=null},se.init=function(){var Q=se(_);for(var re in Q)re.charAt(0)!=="_"&&(se[re]=function(W){return function(){return Q[W].apply(Q,arguments)}}(re))},se.init(),f.Mousetrap=se,h.exports&&(h.exports=se),(d=function(){return se}.call(b,u,b,h))===void 0||(h.exports=d)}function z(Q,re,W){Q.addEventListener?Q.addEventListener(re,W,!1):Q.attachEvent("on"+re,W)}function G(Q){if(Q.type=="keypress"){var re=String.fromCharCode(Q.which);return Q.shiftKey||(re=re.toLowerCase()),re}return T[Q.which]?T[Q.which]:M[Q.which]?M[Q.which]:String.fromCharCode(Q.which).toLowerCase()}function q(Q){return Q=="shift"||Q=="ctrl"||Q=="alt"||Q=="meta"}function J(Q,re,W){return W||(W=function(){if(!S)for(var L in S={},T)L>95&&L<112||T.hasOwnProperty(L)&&(S[T[L]]=L);return S}()[Q]?"keydown":"keypress"),W=="keypress"&&re.length&&(W="keydown"),W}function ce(Q,re){var W,L,H,X=[];for(W=function($){return $==="+"?["+"]:($=$.replace(/\+{2}/g,"+plus")).split("+")}(Q),H=0;H<W.length;++H)L=W[H],C[L]&&(L=C[L]),re&&re!="keypress"&&I[L]&&(L=I[L],X.push("shift")),q(L)&&X.push(L);return{key:L,modifiers:X,action:re=J(L,X,re)}}function he(Q,re){return Q!==null&&Q!==_&&(Q===re||he(Q.parentNode,re))}function se(Q){var re=this;if(Q=Q||_,!(re instanceof se))return new se(Q);re.target=Q,re._callbacks={},re._directMap={};var W,L={},H=!1,X=!1,$=!1;function ie(ve){ve=ve||{};var Se,Ae=!1;for(Se in L)ve[Se]?Ae=!0:L[Se]=0;Ae||($=!1)}function Ee(ve,Se,Ae,Fe,tt,mt){var Ye,Ke,vt,ue,oe=[],de=Ae.type;if(!re._callbacks[ve])return[];for(de=="keyup"&&q(ve)&&(Se=[ve]),Ye=0;Ye<re._callbacks[ve].length;++Ye)if(Ke=re._callbacks[ve][Ye],(Fe||!Ke.seq||L[Ke.seq]==Ke.level)&&de==Ke.action&&(de=="keypress"&&!Ae.metaKey&&!Ae.ctrlKey||(vt=Se,ue=Ke.modifiers,vt.sort().join(",")===ue.sort().join(",")))){var De=!Fe&&Ke.combo==tt,Xe=Fe&&Ke.seq==Fe&&Ke.level==mt;(De||Xe)&&re._callbacks[ve].splice(Ye,1),oe.push(Ke)}return oe}function be(ve,Se,Ae,Fe){re.stopCallback(Se,Se.target||Se.srcElement,Ae,Fe)||ve(Se,Ae)===!1&&(function(tt){tt.preventDefault?tt.preventDefault():tt.returnValue=!1}(Se),function(tt){tt.stopPropagation?tt.stopPropagation():tt.cancelBubble=!0}(Se))}function Pe(ve){typeof ve.which!="number"&&(ve.which=ve.keyCode);var Se=G(ve);Se&&(ve.type!="keyup"||H!==Se?re.handleKey(Se,function(Ae){var Fe=[];return Ae.shiftKey&&Fe.push("shift"),Ae.altKey&&Fe.push("alt"),Ae.ctrlKey&&Fe.push("ctrl"),Ae.metaKey&&Fe.push("meta"),Fe}(ve),ve):H=!1)}function ze(ve,Se,Ae,Fe){function tt(vt){return function(){$=vt,++L[ve],clearTimeout(W),W=setTimeout(ie,1e3)}}function mt(vt){be(Ae,vt,ve),Fe!=="keyup"&&(H=G(vt)),setTimeout(ie,10)}L[ve]=0;for(var Ye=0;Ye<Se.length;++Ye){var Ke=Ye+1===Se.length?mt:tt(Fe||ce(Se[Ye+1]).action);je(Se[Ye],Ke,Fe,ve,Ye)}}function je(ve,Se,Ae,Fe,tt){re._directMap[ve+":"+Ae]=Se;var mt,Ye=(ve=ve.replace(/\s+/g," ")).split(" ");Ye.length>1?ze(ve,Ye,Se,Ae):(mt=ce(ve,Ae),re._callbacks[mt.key]=re._callbacks[mt.key]||[],Ee(mt.key,mt.modifiers,{type:mt.action},Fe,ve,tt),re._callbacks[mt.key][Fe?"unshift":"push"]({callback:Se,modifiers:mt.modifiers,action:mt.action,seq:Fe,level:tt,combo:ve}))}re._handleKey=function(ve,Se,Ae){var Fe,tt=Ee(ve,Se,Ae),mt={},Ye=0,Ke=!1;for(Fe=0;Fe<tt.length;++Fe)tt[Fe].seq&&(Ye=Math.max(Ye,tt[Fe].level));for(Fe=0;Fe<tt.length;++Fe)if(tt[Fe].seq){if(tt[Fe].level!=Ye)continue;Ke=!0,mt[tt[Fe].seq]=1,be(tt[Fe].callback,Ae,tt[Fe].combo,tt[Fe].seq)}else Ke||be(tt[Fe].callback,Ae,tt[Fe].combo);var vt=Ae.type=="keypress"&&X;Ae.type!=$||q(ve)||vt||ie(mt),X=Ke&&Ae.type=="keydown"},re._bindMultiple=function(ve,Se,Ae){for(var Fe=0;Fe<ve.length;++Fe)je(ve[Fe],Se,Ae)},z(Q,"keypress",Pe),z(Q,"keydown",Pe),z(Q,"keyup",Pe)}})(typeof window<"u"?window:null,typeof window<"u"?document:null)},function(h,b,u){var d=u(7),f=u(34),_=u(30),g=u(33),S=d.TypeError;h.exports=function(T,M){var I,C;if(M==="string"&&_(I=T.toString)&&!g(C=f(I,T))||_(I=T.valueOf)&&!g(C=f(I,T))||M!=="string"&&_(I=T.toString)&&!g(C=f(I,T)))return C;throw S("Can't convert object to primitive value")}},function(h,b,u){var d=u(7),f=u(30),_=u(92),g=d.WeakMap;h.exports=f(g)&&/native code/.test(_(g))},function(h,b,u){var d=u(36),f=u(38),_=u(32),g=u(41),S=u(77);h.exports=d?Object.defineProperties:function(T,M){_(T);for(var I,C=g(M),U=S(M),z=U.length,G=0;z>G;)f.f(T,I=U[G++],C[I]);return T}},function(h,b,u){var d=u(7);h.exports=d},function(h,b,u){var d=u(7),f=u(96),_=u(99),g=u(33),S=u(28)("species"),T=d.Array;h.exports=function(M){var I;return f(M)&&(I=M.constructor,(_(I)&&(I===T||f(I.prototype))||g(I)&&(I=I[S])===null)&&(I=void 0)),I===void 0?T:I}},function(h,b,u){var d=u(113),f=u(97);h.exports=d?{}.toString:function(){return"[object "+f(this)+"]"}},function(h,b,u){var d=u(142).IteratorPrototype,f=u(60),_=u(69),g=u(78),S=u(80),T=function(){return this};h.exports=function(M,I,C,U){var z=I+" Iterator";return M.prototype=f(d,{next:_(+!U,C)}),g(M,z,!1,!0),S[z]=T,M}},function(h,b,u){var d=u(7),f=u(30),_=d.String,g=d.TypeError;h.exports=function(S){if(typeof S=="object"||f(S))return S;throw g("Can't set "+_(S)+" as a prototype")}},function(h,b,u){var d=u(16),f=u(7),_=u(15),g=u(95),S=u(42),T=u(144),M=u(117),I=u(119),C=u(30),U=u(33),z=u(18),G=u(120),q=u(78),J=u(148);h.exports=function(ce,he,se){var Q=ce.indexOf("Map")!==-1,re=ce.indexOf("Weak")!==-1,W=Q?"set":"add",L=f[ce],H=L&&L.prototype,X=L,$={},ie=function(ve){var Se=_(H[ve]);S(H,ve,ve=="add"?function(Ae){return Se(this,Ae===0?0:Ae),this}:ve=="delete"?function(Ae){return!(re&&!U(Ae))&&Se(this,Ae===0?0:Ae)}:ve=="get"?function(Ae){return re&&!U(Ae)?void 0:Se(this,Ae===0?0:Ae)}:ve=="has"?function(Ae){return!(re&&!U(Ae))&&Se(this,Ae===0?0:Ae)}:function(Ae,Fe){return Se(this,Ae===0?0:Ae,Fe),this})};if(g(ce,!C(L)||!(re||H.forEach&&!z(function(){new L().entries().next()}))))X=se.getConstructor(he,ce,Q,W),T.enable();else if(g(ce,!0)){var Ee=new X,be=Ee[W](re?{}:-0,1)!=Ee,Pe=z(function(){Ee.has(1)}),ze=G(function(ve){new L(ve)}),je=!re&&z(function(){for(var ve=new L,Se=5;Se--;)ve[W](Se,Se);return!ve.has(-0)});ze||((X=he(function(ve,Se){I(ve,H);var Ae=J(new L,ve,X);return Se!=null&&M(Se,Ae[W],{that:Ae,AS_ENTRIES:Q}),Ae})).prototype=H,H.constructor=X),(Pe||je)&&(ie("delete"),ie("has"),Q&&ie("get")),(je||be)&&ie(W),re&&H.clear&&delete H.clear}return $[ce]=X,d({global:!0,forced:X!=L},$),q(X,ce),re||se.setStrong(X,ce,Q),X}},function(h,b,u){var d=u(18),f=u(33),_=u(51),g=u(184),S=Object.isExtensible,T=d(function(){});h.exports=T||g?function(M){return!!f(M)&&(!g||_(M)!="ArrayBuffer")&&(!S||S(M))}:S},function(h,b,u){var d=u(18);h.exports=d(function(){if(typeof ArrayBuffer=="function"){var f=new ArrayBuffer(8);Object.isExtensible(f)&&Object.defineProperty(f,"a",{value:8})}})},function(h,b,u){var d=u(18);h.exports=!d(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(h,b,u){var d=u(38).f,f=u(60),_=u(149),g=u(64),S=u(119),T=u(117),M=u(116),I=u(150),C=u(36),U=u(144).fastKey,z=u(58),G=z.set,q=z.getterFor;h.exports={getConstructor:function(J,ce,he,se){var Q=J(function(X,$){S(X,re),G(X,{type:ce,index:f(null),first:void 0,last:void 0,size:0}),C||(X.size=0),$!=null&&T($,X[se],{that:X,AS_ENTRIES:he})}),re=Q.prototype,W=q(ce),L=function(X,$,ie){var Ee,be,Pe=W(X),ze=H(X,$);return ze?ze.value=ie:(Pe.last=ze={index:be=U($,!0),key:$,value:ie,previous:Ee=Pe.last,next:void 0,removed:!1},Pe.first||(Pe.first=ze),Ee&&(Ee.next=ze),C?Pe.size++:X.size++,be!=="F"&&(Pe.index[be]=ze)),X},H=function(X,$){var ie,Ee=W(X),be=U($);if(be!=="F")return Ee.index[be];for(ie=Ee.first;ie;ie=ie.next)if(ie.key==$)return ie};return _(re,{clear:function(){for(var X=W(this),$=X.index,ie=X.first;ie;)ie.removed=!0,ie.previous&&(ie.previous=ie.previous.next=void 0),delete $[ie.index],ie=ie.next;X.first=X.last=void 0,C?X.size=0:this.size=0},delete:function(X){var $=this,ie=W($),Ee=H($,X);if(Ee){var be=Ee.next,Pe=Ee.previous;delete ie.index[Ee.index],Ee.removed=!0,Pe&&(Pe.next=be),be&&(be.previous=Pe),ie.first==Ee&&(ie.first=be),ie.last==Ee&&(ie.last=Pe),C?ie.size--:$.size--}return!!Ee},forEach:function(X){for(var $,ie=W(this),Ee=g(X,arguments.length>1?arguments[1]:void 0);$=$?$.next:ie.first;)for(Ee($.value,$.key,this);$&&$.removed;)$=$.previous},has:function(X){return!!H(this,X)}}),_(re,he?{get:function(X){var $=H(this,X);return $&&$.value},set:function(X,$){return L(this,X===0?0:X,$)}}:{add:function(X){return L(this,X=X===0?0:X,X)}}),C&&d(re,"size",{get:function(){return W(this).size}}),Q},setStrong:function(J,ce,he){var se=ce+" Iterator",Q=q(ce),re=q(se);M(J,ce,function(W,L){G(this,{type:se,target:W,state:Q(W),kind:L,last:void 0})},function(){for(var W=re(this),L=W.kind,H=W.last;H&&H.removed;)H=H.previous;return W.target&&(W.last=H=H?H.next:W.state.first)?L=="keys"?{value:H.key,done:!1}:L=="values"?{value:H.value,done:!1}:{value:[H.key,H.value],done:!1}:(W.target=void 0,{value:void 0,done:!0})},he?"entries":"values",!he,!0),I(ce)}}},function(h,b,u){var d=u(79).forEach,f=u(121)("forEach");h.exports=f?[].forEach:function(_){return d(this,_,arguments.length>1?arguments[1]:void 0)}},function(h,b,u){var d=u(7),f=u(64),_=u(34),g=u(40),S=u(189),T=u(145),M=u(99),I=u(45),C=u(63),U=u(146),z=u(118),G=d.Array;h.exports=function(q){var J=g(q),ce=M(this),he=arguments.length,se=he>1?arguments[1]:void 0,Q=se!==void 0;Q&&(se=f(se,he>2?arguments[2]:void 0));var re,W,L,H,X,$,ie=z(J),Ee=0;if(!ie||this==G&&T(ie))for(re=I(J),W=ce?new this(re):G(re);re>Ee;Ee++)$=Q?se(J[Ee],Ee):J[Ee],C(W,Ee,$);else for(X=(H=U(J,ie)).next,W=ce?new this:[];!(L=_(X,H)).done;Ee++)$=Q?S(H,se,[L.value,Ee],!0):L.value,C(W,Ee,$);return W.length=Ee,W}},function(h,b,u){var d=u(32),f=u(147);h.exports=function(_,g,S,T){try{return T?g(d(S)[0],S[1]):g(S)}catch(M){f(_,"throw",M)}}},function(h,b,u){var d=u(18),f=u(7).RegExp;h.exports=d(function(){var _=f(".","s");return!(_.dotAll&&_.exec(`
`)&&_.flags==="s")})},function(h,b,u){var d=u(18),f=u(7).RegExp;h.exports=d(function(){var _=f("(?<a>b)","g");return _.exec("b").groups.a!=="b"||"b".replace(_,"$<a>c")!=="bc"})},function(h,b,u){var d=u(16),f=u(15),_=u(56),g=u(40),S=u(45),T=u(39),M=u(18),I=u(193),C=u(121),U=u(194),z=u(195),G=u(70),q=u(196),J=[],ce=f(J.sort),he=f(J.push),se=M(function(){J.sort(void 0)}),Q=M(function(){J.sort(null)}),re=C("sort"),W=!M(function(){if(G)return G<70;if(!(U&&U>3)){if(z)return!0;if(q)return q<603;var L,H,X,$,ie="";for(L=65;L<76;L++){switch(H=String.fromCharCode(L),L){case 66:case 69:case 70:case 72:X=3;break;case 68:case 71:X=4;break;default:X=2}for($=0;$<47;$++)J.push({k:H+$,v:X})}for(J.sort(function(Ee,be){return be.v-Ee.v}),$=0;$<J.length;$++)H=J[$].k.charAt(0),ie.charAt(ie.length-1)!==H&&(ie+=H);return ie!=="DGBEFHACIJK"}});d({target:"Array",proto:!0,forced:se||!Q||!re||!W},{sort:function(L){L!==void 0&&_(L);var H=g(this);if(W)return L===void 0?ce(H):ce(H,L);var X,$,ie=[],Ee=S(H);for($=0;$<Ee;$++)$ in H&&he(ie,H[$]);for(I(ie,function(be){return function(Pe,ze){return ze===void 0?-1:Pe===void 0?1:be!==void 0?+be(Pe,ze)||0:T(Pe)>T(ze)?1:-1}}(L)),X=ie.length,$=0;$<X;)H[$]=ie[$++];for(;$<Ee;)delete H[$++];return H}})},function(h,b,u){var d=u(114),f=Math.floor,_=function(T,M){var I=T.length,C=f(I/2);return I<8?g(T,M):S(T,_(d(T,0,C),M),_(d(T,C),M),M)},g=function(T,M){for(var I,C,U=T.length,z=1;z<U;){for(C=z,I=T[z];C&&M(T[C-1],I)>0;)T[C]=T[--C];C!==z++&&(T[C]=I)}return T},S=function(T,M,I,C){for(var U=M.length,z=I.length,G=0,q=0;G<U||q<z;)T[G+q]=G<U&&q<z?C(M[G],I[q])<=0?M[G++]:I[q++]:G<U?M[G++]:I[q++];return T};h.exports=_},function(h,b,u){var d=u(55).match(/firefox\/(\d+)/i);h.exports=!!d&&+d[1]},function(h,b,u){var d=u(55);h.exports=/MSIE|Trident/.test(d)},function(h,b,u){var d=u(55).match(/AppleWebKit\/(\d+)\./);h.exports=!!d&&+d[1]},function(h,b,u){var d=u(7),f=u(159),_=d.TypeError;h.exports=function(g){if(f(g))throw _("The method doesn't accept regular expressions");return g}},function(h,b,u){var d=u(28)("match");h.exports=function(f){var _=/./;try{"/./"[f](_)}catch{try{return _[d]=!1,"/./"[f](_)}catch{}}return!1}},function(h,b,u){u(16)({target:"Number",stat:!0},{isNaN:function(d){return d!=d}})},function(h,b,u){var d=u(73).PROPER,f=u(18),_=u(162);h.exports=function(g){return f(function(){return!!_[g]()||"​᠎"[g]()!=="​᠎"||d&&_[g].name!==g})}},function(h,b,u){var d=u(15),f=u(40),_=Math.floor,g=d("".charAt),S=d("".replace),T=d("".slice),M=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,I=/\$([$&'`]|\d{1,2})/g;h.exports=function(C,U,z,G,q,J){var ce=z+C.length,he=G.length,se=I;return q!==void 0&&(q=f(q),se=M),S(J,se,function(Q,re){var W;switch(g(re,0)){case"$":return"$";case"&":return C;case"`":return T(U,0,z);case"'":return T(U,ce);case"<":W=q[T(re,1,-1)];break;default:var L=+re;if(L===0)return Q;if(L>he){var H=_(L/10);return H===0?Q:H<=he?G[H-1]===void 0?g(re,1):G[H-1]+g(re,1):Q}W=G[L-1]}return W===void 0?"":W})}},function(h,b,u){var d=u(36),f=u(15),_=u(34),g=u(18),S=u(77),T=u(112),M=u(84),I=u(40),C=u(85),U=Object.assign,z=Object.defineProperty,G=f([].concat);h.exports=!U||g(function(){if(d&&U({b:1},U(z({},"a",{enumerable:!0,get:function(){z(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var q={},J={},ce=Symbol(),he="abcdefghijklmnopqrst";return q[ce]=7,he.split("").forEach(function(se){J[se]=se}),U({},q)[ce]!=7||S(U({},J)).join("")!=he})?function(q,J){for(var ce=I(q),he=arguments.length,se=1,Q=T.f,re=M.f;he>se;)for(var W,L=C(arguments[se++]),H=Q?G(S(L),Q(L)):S(L),X=H.length,$=0;X>$;)W=H[$++],d&&!_(re,L,W)||(ce[W]=L[W]);return ce}:U},function(h,b,u){var d=u(7),f=u(15),_=u(56),g=u(33),S=u(35),T=u(98),M=d.Function,I=f([].concat),C=f([].join),U={},z=function(G,q,J){if(!S(U,q)){for(var ce=[],he=0;he<q;he++)ce[he]="a["+he+"]";U[q]=M("C,a","return new C("+C(ce,",")+")")}return U[q](G,J)};h.exports=M.bind||function(G){var q=_(this),J=q.prototype,ce=T(arguments,1),he=function(){var se=I(ce,T(arguments));return this instanceof he?z(q,se.length,se):q.apply(G,se)};return g(J)&&(he.prototype=J),he}},function(h,b,u){var d=u(35);h.exports=function(f){return f!==void 0&&(d(f,"value")||d(f,"writable"))}},function(h,b,u){var d=u(15),f=u(44),_=u(39),g=/"/g,S=d("".replace);h.exports=function(T,M,I,C){var U=_(f(T)),z="<"+M;return I!==""&&(z+=" "+I+'="'+S(_(C),g,"&quot;")+'"'),z+">"+U+"</"+M+">"}},function(h,b,u){var d=u(18);h.exports=function(f){return d(function(){var _=""[f]('"');return _!==_.toLowerCase()||_.split('"').length>3})}},function(h,b,u){u(16)({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},function(h,b,u){var d,f,_,g,S=u(16),T=u(71),M=u(7),I=u(46),C=u(34),U=u(209),z=u(42),G=u(149),q=u(102),J=u(78),ce=u(150),he=u(56),se=u(30),Q=u(33),re=u(119),W=u(92),L=u(117),H=u(120),X=u(164),$=u(168).set,ie=u(210),Ee=u(213),be=u(214),Pe=u(170),ze=u(215),je=u(58),ve=u(95),Se=u(28),Ae=u(216),Fe=u(128),tt=u(70),mt=Se("species"),Ye="Promise",Ke=je.getterFor(Ye),vt=je.set,ue=je.getterFor(Ye),oe=U&&U.prototype,de=U,De=oe,Xe=M.TypeError,Ie=M.document,Ot=M.process,Pt=Pe.f,xt=Pt,ht=!!(Ie&&Ie.createEvent&&M.dispatchEvent),ke=se(M.PromiseRejectionEvent),at="unhandledrejection",le=!1,nt=ve(Ye,function(){var ne=W(de),me=ne!==String(de);if(!me&&tt===66||T&&!De.finally)return!0;if(tt>=51&&/native code/.test(ne))return!1;var We=new de(function(st){st(1)}),Ve=function(st){st(function(){},function(){})};return(We.constructor={})[mt]=Ve,!(le=We.then(function(){})instanceof Ve)||!me&&Ae&&!ke}),Ct=nt||!H(function(ne){de.all(ne).catch(function(){})}),rn=function(ne){var me;return!(!Q(ne)||!se(me=ne.then))&&me},Rt=function(ne,me){if(!ne.notified){ne.notified=!0;var We=ne.reactions;ie(function(){for(var Ve=ne.value,st=ne.state==1,Ft=0;We.length>Ft;){var Hn,er,Nn,zn=We[Ft++],rt=st?zn.ok:zn.fail,gt=zn.resolve,wt=zn.reject,Mt=zn.domain;try{rt?(st||(ne.rejection===2&&Dt(ne),ne.rejection=1),rt===!0?Hn=Ve:(Mt&&Mt.enter(),Hn=rt(Ve),Mt&&(Mt.exit(),Nn=!0)),Hn===zn.promise?wt(Xe("Promise-chain cycle")):(er=rn(Hn))?C(er,Hn,gt,wt):gt(Hn)):wt(Ve)}catch(sn){Mt&&!Nn&&Mt.exit(),wt(sn)}}ne.reactions=[],ne.notified=!1,me&&!ne.rejection&&fn(ne)})}},Kt=function(ne,me,We){var Ve,st;ht?((Ve=Ie.createEvent("Event")).promise=me,Ve.reason=We,Ve.initEvent(ne,!1,!0),M.dispatchEvent(Ve)):Ve={promise:me,reason:We},!ke&&(st=M["on"+ne])?st(Ve):ne===at&&be("Unhandled promise rejection",We)},fn=function(ne){C($,M,function(){var me,We=ne.facade,Ve=ne.value;if(mn(ne)&&(me=ze(function(){Fe?Ot.emit("unhandledRejection",Ve,We):Kt(at,We,Ve)}),ne.rejection=Fe||mn(ne)?2:1,me.error))throw me.value})},mn=function(ne){return ne.rejection!==1&&!ne.parent},Dt=function(ne){C($,M,function(){var me=ne.facade;Fe?Ot.emit("rejectionHandled",me):Kt("rejectionhandled",me,ne.value)})},Mn=function(ne,me,We){return function(Ve){ne(me,Ve,We)}},K=function(ne,me,We){ne.done||(ne.done=!0,We&&(ne=We),ne.value=me,ne.state=2,Rt(ne,!0))},pe=function(ne,me,We){if(!ne.done){ne.done=!0,We&&(ne=We);try{if(ne.facade===me)throw Xe("Promise can't be resolved itself");var Ve=rn(me);Ve?ie(function(){var st={done:!1};try{C(Ve,me,Mn(pe,st,ne),Mn(K,st,ne))}catch(Ft){K(st,Ft,ne)}}):(ne.value=me,ne.state=1,Rt(ne,!1))}catch(st){K({done:!1},st,ne)}}};if(nt&&(De=(de=function(ne){re(this,De),he(ne),C(d,this);var me=Ke(this);try{ne(Mn(pe,me),Mn(K,me))}catch(We){K(me,We)}}).prototype,(d=function(ne){vt(this,{type:Ye,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=G(De,{then:function(ne,me){var We=ue(this),Ve=We.reactions,st=Pt(X(this,de));return st.ok=!se(ne)||ne,st.fail=se(me)&&me,st.domain=Fe?Ot.domain:void 0,We.parent=!0,Ve[Ve.length]=st,We.state!=0&&Rt(We,!1),st.promise},catch:function(ne){return this.then(void 0,ne)}}),f=function(){var ne=new d,me=Ke(ne);this.promise=ne,this.resolve=Mn(pe,me),this.reject=Mn(K,me)},Pe.f=Pt=function(ne){return ne===de||ne===_?new f(ne):xt(ne)},!T&&se(U)&&oe!==Object.prototype)){g=oe.then,le||(z(oe,"then",function(ne,me){var We=this;return new de(function(Ve,st){C(g,We,Ve,st)}).then(ne,me)},{unsafe:!0}),z(oe,"catch",De.catch,{unsafe:!0}));try{delete oe.constructor}catch{}q&&q(oe,De)}S({global:!0,wrap:!0,forced:nt},{Promise:de}),J(de,Ye,!1,!0),ce(Ye),_=I(Ye),S({target:Ye,stat:!0,forced:nt},{reject:function(ne){var me=Pt(this);return C(me.reject,void 0,ne),me.promise}}),S({target:Ye,stat:!0,forced:T||nt},{resolve:function(ne){return Ee(T&&this===_?de:this,ne)}}),S({target:Ye,stat:!0,forced:Ct},{all:function(ne){var me=this,We=Pt(me),Ve=We.resolve,st=We.reject,Ft=ze(function(){var Hn=he(me.resolve),er=[],Nn=0,zn=1;L(ne,function(rt){var gt=Nn++,wt=!1;zn++,C(Hn,me,rt).then(function(Mt){wt||(wt=!0,er[gt]=Mt,--zn||Ve(er))},st)}),--zn||Ve(er)});return Ft.error&&st(Ft.value),We.promise},race:function(ne){var me=this,We=Pt(me),Ve=We.reject,st=ze(function(){var Ft=he(me.resolve);L(ne,function(Hn){C(Ft,me,Hn).then(We.resolve,Ve)})});return st.error&&Ve(st.value),We.promise}})},function(h,b,u){var d=u(7);h.exports=d.Promise},function(h,b,u){var d,f,_,g,S,T,M,I,C=u(7),U=u(64),z=u(50).f,G=u(168).set,q=u(169),J=u(211),ce=u(212),he=u(128),se=C.MutationObserver||C.WebKitMutationObserver,Q=C.document,re=C.process,W=C.Promise,L=z(C,"queueMicrotask"),H=L&&L.value;H||(d=function(){var X,$;for(he&&(X=re.domain)&&X.exit();f;){$=f.fn,f=f.next;try{$()}catch(ie){throw f?g():_=void 0,ie}}_=void 0,X&&X.enter()},q||he||ce||!se||!Q?!J&&W&&W.resolve?((M=W.resolve(void 0)).constructor=W,I=U(M.then,M),g=function(){I(d)}):he?g=function(){re.nextTick(d)}:(G=U(G,C),g=function(){G(d)}):(S=!0,T=Q.createTextNode(""),new se(d).observe(T,{characterData:!0}),g=function(){T.data=S=!S})),h.exports=H||function(X){var $={fn:X,next:void 0};_&&(_.next=$),f||(f=$,g()),_=$}},function(h,b,u){var d=u(55),f=u(7);h.exports=/ipad|iphone|ipod/i.test(d)&&f.Pebble!==void 0},function(h,b,u){var d=u(55);h.exports=/web0s(?!.*chrome)/i.test(d)},function(h,b,u){var d=u(32),f=u(33),_=u(170);h.exports=function(g,S){if(d(g),f(S)&&S.constructor===g)return S;var T=_.f(g);return(0,T.resolve)(S),T.promise}},function(h,b,u){var d=u(7);h.exports=function(f,_){var g=d.console;g&&g.error&&(arguments.length==1?g.error(f):g.error(f,_))}},function(h,b){h.exports=function(u){try{return{error:!1,value:u()}}catch(d){return{error:!0,value:d}}}},function(h,b){h.exports=typeof window=="object"},function(h,b,u){var d=u(40),f=u(75),_=u(45);h.exports=function(g){for(var S=d(this),T=_(S),M=arguments.length,I=f(M>1?arguments[1]:void 0,T),C=M>2?arguments[2]:void 0,U=C===void 0?T:f(C,T);U>I;)S[I++]=g;return S}},function(h,b,u){var d=u(16),f=u(7),_=u(15),g=u(59),S=u(160),T=u(219),M=u(18),I=f.RangeError,C=f.String,U=Math.floor,z=_(T),G=_("".slice),q=_(1 .toFixed),J=function(Q,re,W){return re===0?W:re%2==1?J(Q,re-1,W*Q):J(Q*Q,re/2,W)},ce=function(Q,re,W){for(var L=-1,H=W;++L<6;)H+=re*Q[L],Q[L]=H%1e7,H=U(H/1e7)},he=function(Q,re){for(var W=6,L=0;--W>=0;)L+=Q[W],Q[W]=U(L/re),L=L%re*1e7},se=function(Q){for(var re=6,W="";--re>=0;)if(W!==""||re===0||Q[re]!==0){var L=C(Q[re]);W=W===""?L:W+z("0",7-L.length)+L}return W};d({target:"Number",proto:!0,forced:M(function(){return q(8e-5,3)!=="0.000"||q(.9,0)!=="1"||q(1.255,2)!=="1.25"||q(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!M(function(){q({})})},{toFixed:function(Q){var re,W,L,H,X=S(this),$=g(Q),ie=[0,0,0,0,0,0],Ee="",be="0";if($<0||$>20)throw I("Incorrect fraction digits");if(X!=X)return"NaN";if(X<=-1e21||X>=1e21)return C(X);if(X<0&&(Ee="-",X=-X),X>1e-21)if(W=(re=function(Pe){for(var ze=0,je=Pe;je>=4096;)ze+=12,je/=4096;for(;je>=2;)ze+=1,je/=2;return ze}(X*J(2,69,1))-69)<0?X*J(2,-re,1):X/J(2,re,1),W*=4503599627370496,(re=52-re)>0){for(ce(ie,0,W),L=$;L>=7;)ce(ie,1e7,0),L-=7;for(ce(ie,J(10,L,1),0),L=re-1;L>=23;)he(ie,1<<23),L-=23;he(ie,1<<L),ce(ie,1,1),he(ie,2),be=se(ie)}else ce(ie,0,W),ce(ie,1<<-re,0),be=se(ie)+z("0",$);return be=$>0?Ee+((H=be.length)<=$?"0."+z("0",$-H)+be:G(be,0,H-$)+"."+G(be,H-$)):Ee+be}})},function(h,b,u){var d=u(7),f=u(59),_=u(39),g=u(44),S=d.RangeError;h.exports=function(T){var M=_(g(this)),I="",C=f(T);if(C<0||C==1/0)throw S("Wrong number of repetitions");for(;C>0;(C>>>=1)&&(M+=M))1&C&&(I+=M);return I}},function(h,b,u){var d=u(36),f=u(15),_=u(77),g=u(41),S=f(u(84).f),T=f([].push),M=function(I){return function(C){for(var U,z=g(C),G=_(z),q=G.length,J=0,ce=[];q>J;)U=G[J++],d&&!S(z,U)||T(ce,I?[U,z[U]]:z[U]);return ce}};h.exports={entries:M(!0),values:M(!1)}},function(h,b){h.exports=function(u){return u.webpackPolyfill||(u.deprecate=function(){},u.paths=[],u.children||(u.children=[]),Object.defineProperty(u,"loaded",{enumerable:!0,get:function(){return u.l}}),Object.defineProperty(u,"id",{enumerable:!0,get:function(){return u.i}}),u.webpackPolyfill=1),u}},function(h,b,u){u.r(b),u.d(b,"observer",function(){return Qo}),u.d(b,"LogicFlow",function(){return Vy}),u.d(b,"h",function(){return le.g}),u.d(b,"LogicFlowUtil",function(){return d}),u.d(b,"BaseNode",function(){return Gi}),u.d(b,"RectNode",function(){return zd}),u.d(b,"CircleNode",function(){return Xd}),u.d(b,"PolygonNode",function(){return Vd}),u.d(b,"DiamondNode",function(){return qd}),u.d(b,"EllipseNode",function(){return ny}),u.d(b,"TextNode",function(){return iy}),u.d(b,"HtmlNode",function(){return sy}),u.d(b,"BaseEdge",function(){return Il}),u.d(b,"LineEdge",function(){return xy}),u.d(b,"PolylineEdge",function(){return Ay}),u.d(b,"BezierEdge",function(){return My}),u.d(b,"Arrow",function(){return w_}),u.d(b,"BaseEdgeModel",function(){return Ys}),u.d(b,"BezierEdgeModel",function(){return Gh}),u.d(b,"LineEdgeModel",function(){return Ci}),u.d(b,"PolylineEdgeModel",function(){return Sc}),u.d(b,"BaseNodeModel",function(){return Hi}),u.d(b,"CircleNodeModel",function(){return Zh}),u.d(b,"DiamondNodeModel",function(){return td}),u.d(b,"EllipseNodeModel",function(){return id}),u.d(b,"PolygonNodeModel",function(){return fd}),u.d(b,"RectNodeModel",function(){return yd}),u.d(b,"TextNodeModel",function(){return md}),u.d(b,"HtmlNodeModel",function(){return wd}),u.d(b,"EditConfigModel",function(){return hs}),u.d(b,"GraphModel",function(){return Pu}),u.d(b,"SnaplineModel",function(){return zg}),u.d(b,"Keyboard",function(){return jb}),u.d(b,"get",function(){return Ev}),u.d(b,"defaults",function(){return Sv}),u.d(b,"ElementState",function(){return un}),u.d(b,"ModelType",function(){return Gt}),u.d(b,"ElementType",function(){return Fn}),u.d(b,"EventType",function(){return lt}),u.d(b,"formateAnchorConnectValidateData",function(){return pu});var d={};u.r(d),u.d(d,"createUuid",function(){return io}),u.d(d,"refreshGraphId",function(){return ga}),u.d(d,"StepDrag",function(){return ao}),u.d(d,"setupEdgeModel",function(){return Bf}),u.d(d,"isBboxOverLapping",function(){return nl}),u.d(d,"filterRepeatPoints",function(){return Yo}),u.d(d,"getSimplePolyline",function(){return rl}),u.d(d,"getExpandedBBox",function(){return xa}),u.d(d,"pointDirection",function(){return vu}),u.d(d,"getExpandedBBoxPoint",function(){return ar}),u.d(d,"mergeBBox",function(){return hi}),u.d(d,"getBBoxOfPoints",function(){return Ea}),u.d(d,"getPointsFromBBox",function(){return gu}),u.d(d,"isPointOutsideBBox",function(){return ja}),u.d(d,"getBBoxXCrossPoints",function(){return To}),u.d(d,"getBBoxYCrossPoints",function(){return Ut}),u.d(d,"getBBoxCrossPointsByPoint",function(){return ol}),u.d(d,"estimateDistance",function(){return xr}),u.d(d,"costByPoints",function(){return il}),u.d(d,"heuristicCostEstimate",function(){return cn}),u.d(d,"rebuildPath",function(){return Ff}),u.d(d,"removeClosePointFromOpenList",function(){return al}),u.d(d,"isSegmentsIntersected",function(){return Wo}),u.d(d,"isSegmentCrossingBBox",function(){return ul}),u.d(d,"getNextNeighborPoints",function(){return Uf}),u.d(d,"pathFinder",function(){return Xf}),u.d(d,"getBoxByOriginNode",function(){return cl}),u.d(d,"pointFilter",function(){return bu}),u.d(d,"getPolylinePoints",function(){return mu}),u.d(d,"getLongestEdge",function(){return Hf}),u.d(d,"isSegmentsInNode",function(){return sl}),u.d(d,"isSegmentsCrossNode",function(){return ll}),u.d(d,"getCrossPointInRect",function(){return Vn}),u.d(d,"segmentDirection",function(){return rr}),u.d(d,"points2PointsList",function(){return di}),u.d(d,"getSimplePoints",function(){return fl}),u.d(d,"getBytesLength",function(){return pl}),u.d(d,"getTextWidth",function(){return Yf}),u.d(d,"getAppendAttributes",function(){return hl}),u.d(d,"getBezierControlPoints",function(){return yi}),u.d(d,"getBezierPoints",function(){return Tc}),u.d(d,"getEndTangent",function(){return Dc}),u.d(d,"getClosestPointOfPolyline",function(){return dl}),u.d(d,"pickEdgeConfig",function(){return Wf}),u.d(d,"twoPointDistance",function(){return yl}),u.d(d,"createEdgeGenerator",function(){return Vf}),u.d(d,"snapToGrid",function(){return Po}),u.d(d,"getGridOffset",function(){return va}),u.d(d,"sampleCubic",function(){return Bt}),u.d(d,"getThetaOfVector",function(){return wr}),u.d(d,"degrees",function(){return Rn}),u.d(d,"Vector",function(){return or}),u.d(d,"Point",function(){return Sa}),u.d(d,"Matrix",function(){return dt}),u.d(d,"RotateMatrix",function(){return St}),u.d(d,"ScaleMatrix",function(){return $n}),u.d(d,"TranslateMatrix",function(){return ur});var f=u(1),_=u(10);if(!_.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!f.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var g=u(43),S=Object(g.b)("observerBatching");function T(t){t()}var M=!1;function I(){return M}function C(t){return Object(f.t)(t)}var U,z=1e4,G=new Set;function q(){U===void 0&&(U=setTimeout(J,1e4))}function J(){U=void 0;var t=Date.now();G.forEach(function(e){var n=e.current;n&&t>=n.cleanAt&&(n.reaction.dispose(),e.current=null,G.delete(e))}),G.size>0&&q()}var ce=!1,he=[],se={};function Q(t){return"observer"+t}function re(t,e,n){e===void 0&&(e="observed"),n===void 0&&(n=se),I();var r,i=function(O){return function(){ce?he.push(O):O()}}((n.useForceUpdate||g.d)()),o=_.d.useRef(null);if(!o.current){var c=new f.c(Q(e),function(){l.mounted?i():(c.dispose(),o.current=null)}),l=function(O){return{cleanAt:Date.now()+z,reaction:O}}(c);o.current=l,r=o,G.add(r),q()}var p=o.current.reaction;return _.d.useDebugValue(p,C),_.d.useEffect(function(){var O;return O=o,G.delete(O),o.current?o.current.mounted=!0:(o.current={reaction:new f.c(Q(e),function(){i()}),cleanAt:1/0},i()),function(){o.current.reaction.dispose(),o.current=null}},[]),function(O){ce=!0,he=[];try{var w=O();ce=!1;var A=he.length>0?he:void 0;return _.d.useLayoutEffect(function(){A&&A.forEach(function(D){return D()})},[A]),w}finally{ce=!1}}(function(){var O,w;if(p.track(function(){try{O=t()}catch(A){w=A}}),w)throw w;return O})}var W=function(){return W=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},W.apply(this,arguments)};function L(t,e){var n,r,i,o=W({forwardRef:!1},e),c=t.displayName||t.name,l=function(p,O){return re(function(){return t(p,O)},c)};return l.displayName=c,n=o.forwardRef?Object(_.f)(Object(_.e)(l)):Object(_.f)(l),r=t,i=n,Object.keys(r).forEach(function(p){H[p]||Object.defineProperty(i,p,Object.getOwnPropertyDescriptor(r,p))}),n.displayName=c,n}var H={$$typeof:!0,render:!0,compare:!0,type:!0};function X(t){var e=t.children,n=t.render,r=e||n;return typeof r!="function"?null:re(r)}function $(t,e,n,r,i){var o=e==="children"?"render":"children",c=typeof t[e]=="function",l=typeof t[o]=="function";return c&&l?new Error("MobX Observer: Do not use children and render in the same time in`"+n):c||l?null:new Error("Invalid prop `"+i+"` of type `"+typeof t[e]+"` supplied to `"+n+"`, expected `function`.")}X.propTypes={children:$,render:$},X.displayName="Observer";var ie;(ie=_.g)||(ie=T),Object(f.n)({reactionScheduler:ie}),Object(g.a)()[S]=!0;var Ee=0,be={};function Pe(t){return be[t]||(be[t]=function(e){if(typeof Symbol=="function")return Symbol(e);var n="__$mobx-react "+e+" ("+Ee+")";return Ee++,n}(t)),be[t]}function ze(t,e){if(je(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.hasOwnProperty.call(e,n[i])||!je(t[n[i]],e[n[i]]))return!1;return!0}function je(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function ve(t,e,n){Object.hasOwnProperty.call(t,e)?t[e]=n:Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n})}var Se=Pe("patchMixins"),Ae=Pe("patchedDefinition");function Fe(t,e){for(var n=this,r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];e.locks++;try{var c;return t!=null&&(c=t.apply(this,i)),c}finally{e.locks--,e.locks===0&&e.methods.forEach(function(l){l.apply(n,i)})}}function tt(t,e){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];Fe.call.apply(Fe,[this,t,e].concat(r))}}function mt(t,e,n){var r=function(l,p){var O=l[Se]=l[Se]||{},w=O[p]=O[p]||{};return w.locks=w.locks||0,w.methods=w.methods||[],w}(t,e);r.methods.indexOf(n)<0&&r.methods.push(n);var i=Object.getOwnPropertyDescriptor(t,e);if(!i||!i[Ae]){var o=t[e],c=Ye(t,e,i?i.enumerable:void 0,r,o);Object.defineProperty(t,e,c)}}function Ye(t,e,n,r,i){var o,c=tt(i,r);return(o={})[Ae]=!0,o.get=function(){return c},o.set=function(l){if(this===t)c=tt(l,r);else{var p=Ye(this,e,n,r,l);Object.defineProperty(this,e,p)}},o.configurable=!0,o.enumerable=n,o}var Ke=f.a||"$mobx",vt=Pe("isMobXReactObserver"),ue=Pe("isUnmounted"),oe=Pe("skipRender"),de=Pe("isForcingUpdate");function De(t){var e=t.prototype;if(t[vt]?Xe(e):t[vt]=!0,e.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(t.__proto__!==_.b)if(e.shouldComponentUpdate){if(e.shouldComponentUpdate!==Ot)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else e.shouldComponentUpdate=Ot;Pt(e,"props"),Pt(e,"state");var n=e.render;return e.render=function(){return Ie.call(this,n)},mt(e,"componentWillUnmount",function(){var r;(r=this.render[Ke])===null||r===void 0||r.dispose(),this[ue]=!0,!this.render[Ke]&&Xe(this)}),t}function Xe(t){return t.displayName||t.name||t.constructor&&(t.constructor.displayName||t.constructor.name)||"<component>"}function Ie(t){var e=this;ve(this,oe,!1),ve(this,de,!1);var n=Xe(this),r=t.bind(this),i=!1,o=new f.c(n+".render()",function(){if(!i&&(i=!0,e[ue]!==!0)){var l=!0;try{ve(e,de,!0),e[oe]||_.a.prototype.forceUpdate.call(e),l=!1}finally{ve(e,de,!1),l&&o.dispose()}}});function c(){i=!1;var l=void 0,p=void 0;if(o.track(function(){try{p=Object(f.d)(!1,r)}catch(O){l=O}}),l)throw l;return p}return o.reactComponent=this,c[Ke]=o,this.render=c,c.call(this)}function Ot(t,e){return this.state!==e||!ze(this.props,t)}function Pt(t,e){var n=Pe("reactProp_"+e+"_valueHolder"),r=Pe("reactProp_"+e+"_atomHolder");function i(){return this[r]||ve(this,r,Object(f.o)("reactive "+e)),this[r]}Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var o=!1;return f.f&&f.e&&(o=Object(f.f)(!0)),i.call(this).reportObserved(),f.f&&f.e&&Object(f.e)(o),this[n]},set:function(o){this[de]||ze(this[n],o)?ve(this,n,o):(ve(this,n,o),ve(this,oe,!0),i.call(this).reportChanged(),ve(this,oe,!1))}})}var xt=typeof Symbol=="function"&&Symbol.for,ht=xt?Symbol.for("react.forward_ref"):typeof _.e=="function"&&Object(_.e)(function(t){return null}).$$typeof,ke=xt?Symbol.for("react.memo"):typeof _.f=="function"&&Object(_.f)(function(t){return null}).$$typeof;function at(t){if(t.isMobxInjector,ke&&t.$$typeof===ke)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(ht&&t.$$typeof===ht){var e=t.render;if(typeof e!="function")throw new Error("render property of ForwardRef was not a function");return Object(_.e)(function(){var n=arguments;return Object(_.c)(X,null,function(){return e.apply(void 0,n)})})}return typeof t!="function"||t.prototype&&t.prototype.render||t.isReactClass||Object.prototype.isPrototypeOf.call(_.a,t)?De(t):L(t)}if(!_.a)throw new Error("mobx-react requires React to be available");if(!f.C)throw new Error("mobx-react requires mobx to be available");var le=u(0);u(4),u(8),u(2),u(3),u(52),u(6),u(5),u(11),u(37),u(26),u(21),u(20),u(24),u(22),u(25),u(9),u(17),u(23),u(19),u(192),u(156),u(104),u(157),u(158),u(199),u(61);var nt=function(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i},Ct=function(){this.__data__=[],this.size=0},rn=function(t,e){return t===e||t!=t&&e!=e},Rt=function(t,e){for(var n=t.length;n--;)if(rn(t[n][0],e))return n;return-1},Kt=Array.prototype.splice,fn=function(t){var e=this.__data__,n=Rt(e,t);return!(n<0)&&(n==e.length-1?e.pop():Kt.call(e,n,1),--this.size,!0)},mn=function(t){var e=this.__data__,n=Rt(e,t);return n<0?void 0:e[n][1]},Dt=function(t){return Rt(this.__data__,t)>-1},Mn=function(t,e){var n=this.__data__,r=Rt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function K(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}K.prototype.clear=Ct,K.prototype.delete=fn,K.prototype.get=mn,K.prototype.has=Dt,K.prototype.set=Mn;var pe=K,ne=function(){this.__data__=new pe,this.size=0},me=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},We=function(t){return this.__data__.get(t)},Ve=function(t){return this.__data__.has(t)},st=u(31),Ft=st.a.Symbol,Hn=Object.prototype,er=Hn.hasOwnProperty,Nn=Hn.toString,zn=Ft?Ft.toStringTag:void 0,rt=function(t){var e=er.call(t,zn),n=t[zn];try{t[zn]=void 0;var r=!0}catch{}var i=Nn.call(t);return r&&(e?t[zn]=n:delete t[zn]),i},gt=Object.prototype.toString,wt=function(t){return gt.call(t)},Mt=Ft?Ft.toStringTag:void 0,sn=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Mt&&Mt in Object(t)?rt(t):wt(t)},jn=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")},ho,Jr=function(t){if(!jn(t))return!1;var e=sn(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},yo=st.a["__core-js_shared__"],ei=(ho=/[^.]+$/.exec(yo&&yo.keys&&yo.keys.IE_PROTO||""))?"Symbol(src)_1."+ho:"",ts=function(t){return!!ei&&ei in t},Ra=Function.prototype.toString,Rr=function(t){if(t!=null){try{return Ra.call(t)}catch{}try{return t+""}catch{}}return""},xi=/^\[object .+?Constructor\]$/,ut=Function.prototype,ns=Object.prototype,Ia=ut.toString,La=ns.hasOwnProperty,yr=RegExp("^"+Ia.call(La).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Sr=function(t){return!(!jn(t)||ts(t))&&(Jr(t)?yr:xi).test(Rr(t))},Ki=function(t,e){return t==null?void 0:t[e]},Yr=function(t,e){var n=Ki(t,e);return Sr(n)?n:void 0},Ir=Yr(st.a,"Map"),Wr=Yr(Object,"create"),za=function(){this.__data__=Wr?Wr(null):{},this.size=0},Ba=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},zu=Object.prototype.hasOwnProperty,Ei=function(t){var e=this.__data__;if(Wr){var n=e[t];return n==="__lodash_hash_undefined__"?void 0:n}return zu.call(e,t)?e[t]:void 0},Bu=Object.prototype.hasOwnProperty,Fa=function(t){var e=this.__data__;return Wr?e[t]!==void 0:Bu.call(e,t)},rs=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Wr&&e===void 0?"__lodash_hash_undefined__":e,this};function No(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}No.prototype.clear=za,No.prototype.delete=Ba,No.prototype.get=Ei,No.prototype.has=Fa,No.prototype.set=rs;var Fu=No,vo=function(){this.size=0,this.__data__={hash:new Fu,map:new(Ir||pe),string:new Fu}},Ua=function(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null},Zi=function(t,e){var n=t.__data__;return Ua(e)?n[typeof e=="string"?"string":"hash"]:n.map},Xa=function(t){var e=Zi(this,t).delete(t);return this.size-=e?1:0,e},Ha=function(t){return Zi(this,t).get(t)},os=function(t){return Zi(this,t).has(t)},Uu=function(t,e){var n=Zi(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function an(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}an.prototype.clear=vo,an.prototype.delete=Xa,an.prototype.get=Ha,an.prototype.has=os,an.prototype.set=Uu;var on=an,Xu=function(t,e){var n=this.__data__;if(n instanceof pe){var r=n.__data__;if(!Ir||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new on(r)}return n.set(t,e),this.size=n.size,this};function ti(t){var e=this.__data__=new pe(t);this.size=e.size}ti.prototype.clear=ne,ti.prototype.delete=me,ti.prototype.get=We,ti.prototype.has=Ve,ti.prototype.set=Xu;var go=ti,Ga=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Hu=function(t){return this.__data__.has(t)};function Tn(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new on;++e<n;)this.add(t[e])}Tn.prototype.add=Tn.prototype.push=Ga,Tn.prototype.has=Hu;var Ya=Tn,ji=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},Wa=function(t,e){return t.has(e)},qi=function(t,e,n,r,i,o){var c=1&n,l=t.length,p=e.length;if(l!=p&&!(c&&p>l))return!1;var O=o.get(t),w=o.get(e);if(O&&w)return O==e&&w==t;var A=-1,D=!0,F=2&n?new Ya:void 0;for(o.set(t,e),o.set(e,t);++A<l;){var Z=t[A],te=e[A];if(r)var ye=c?r(te,Z,A,e,t,o):r(Z,te,A,t,e,o);if(ye!==void 0){if(ye)continue;D=!1;break}if(F){if(!ji(e,function(ge,we){if(!Wa(F,we)&&(Z===ge||i(Z,ge,n,r,o)))return F.push(we)})){D=!1;break}}else if(Z!==te&&!i(Z,te,n,r,o)){D=!1;break}}return o.delete(t),o.delete(e),D},tr=st.a.Uint8Array,Va=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n},Gu=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n},$a=Ft?Ft.prototype:void 0,Ji=$a?$a.valueOf:void 0,ni=function(t,e,n,r,i,o,c){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new tr(t),new tr(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return rn(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var l=Va;case"[object Set]":var p=1&r;if(l||(l=Gu),t.size!=e.size&&!p)return!1;var O=c.get(t);if(O)return O==e;r|=2,c.set(t,e);var w=qi(l(t),l(e),r,i,o,c);return c.delete(t),w;case"[object Symbol]":if(Ji)return Ji.call(t)==Ji.call(e)}return!1},Qr=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t},dn=Array.isArray,Yu=function(t,e,n){var r=e(t);return dn(t)?r:Qr(r,n(t))},vr=function(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var c=t[n];e(c,n,t)&&(o[i++]=c)}return o},Wu=function(){return[]},Vu=Object.prototype.propertyIsEnumerable,cr=Object.getOwnPropertySymbols,gr=cr?function(t){return t==null?[]:(t=Object(t),vr(cr(t),function(e){return Vu.call(t,e)}))}:Wu,Ka=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},Qt=function(t){return t!=null&&typeof t=="object"},Gn=function(t){return Qt(t)&&sn(t)=="[object Arguments]"},Qi=Object.prototype,$u=Qi.hasOwnProperty,Za=Qi.propertyIsEnumerable,ea=Gn(function(){return arguments}())?Gn:function(t){return Qt(t)&&$u.call(t,"callee")&&!Za.call(t,"callee")},eo=ea,bo=u(48),ri=/^(?:0|[1-9]\d*)$/,br=function(t,e){var n=typeof t;return!!(e=e??9007199254740991)&&(n=="number"||n!="symbol"&&ri.test(t))&&t>-1&&t%1==0&&t<e},mo=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991},Zt={};Zt["[object Float32Array]"]=Zt["[object Float64Array]"]=Zt["[object Int8Array]"]=Zt["[object Int16Array]"]=Zt["[object Int32Array]"]=Zt["[object Uint8Array]"]=Zt["[object Uint8ClampedArray]"]=Zt["[object Uint16Array]"]=Zt["[object Uint32Array]"]=!0,Zt["[object Arguments]"]=Zt["[object Array]"]=Zt["[object ArrayBuffer]"]=Zt["[object Boolean]"]=Zt["[object DataView]"]=Zt["[object Date]"]=Zt["[object Error]"]=Zt["[object Function]"]=Zt["[object Map]"]=Zt["[object Number]"]=Zt["[object Object]"]=Zt["[object RegExp]"]=Zt["[object Set]"]=Zt["[object String]"]=Zt["[object WeakMap]"]=!1;var mr=function(t){return Qt(t)&&mo(t.length)&&!!Zt[sn(t)]},to=function(t){return function(e){return t(e)}},Zn=u(49),ta=Zn.a&&Zn.a.isTypedArray,Si=ta?to(ta):mr,qa=Object.prototype.hasOwnProperty,Sn=function(t,e){var n=dn(t),r=!n&&eo(t),i=!n&&!r&&Object(bo.a)(t),o=!n&&!r&&!i&&Si(t),c=n||r||i||o,l=c?Ka(t.length,String):[],p=l.length;for(var O in t)!e&&!qa.call(t,O)||c&&(O=="length"||i&&(O=="offset"||O=="parent")||o&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||br(O,p))||l.push(O);return l},na=Object.prototype,Oo=function(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||na)},Lr=function(t,e){return function(n){return t(e(n))}},Ja=Lr(Object.keys,Object),is=Object.prototype.hasOwnProperty,Qa=function(t){if(!Oo(t))return Ja(t);var e=[];for(var n in Object(t))is.call(t,n)&&n!="constructor"&&e.push(n);return e},Bn=function(t){return t!=null&&mo(t.length)&&!Jr(t)},oi=function(t){return Bn(t)?Sn(t):Qa(t)},no=function(t){return Yu(t,oi,gr)},sr=Object.prototype.hasOwnProperty,eu=function(t,e,n,r,i,o){var c=1&n,l=no(t),p=l.length;if(p!=no(e).length&&!c)return!1;for(var O=p;O--;){var w=l[O];if(!(c?w in e:sr.call(e,w)))return!1}var A=o.get(t),D=o.get(e);if(A&&D)return A==e&&D==t;var F=!0;o.set(t,e),o.set(e,t);for(var Z=c;++O<p;){var te=t[w=l[O]],ye=e[w];if(r)var ge=c?r(ye,te,w,e,t,o):r(te,ye,w,t,e,o);if(!(ge===void 0?te===ye||i(te,ye,n,r,o):ge)){F=!1;break}Z||(Z=w=="constructor")}if(F&&!Z){var we=t.constructor,Ce=e.constructor;we==Ce||!("constructor"in t)||!("constructor"in e)||typeof we=="function"&&we instanceof we&&typeof Ce=="function"&&Ce instanceof Ce||(F=!1)}return o.delete(t),o.delete(e),F},Pr=Yr(st.a,"DataView"),Co=Yr(st.a,"Promise"),ra=Yr(st.a,"Set"),ro=Yr(st.a,"WeakMap"),Ar="[object Map]",Or="[object Promise]",zr="[object Set]",oo="[object WeakMap]",_e="[object DataView]",Me=Rr(Pr),Re=Rr(Ir),qe=Rr(Co),It=Rr(ra),Wt=Rr(ro),yn=sn;(Pr&&yn(new Pr(new ArrayBuffer(1)))!=_e||Ir&&yn(new Ir)!=Ar||Co&&yn(Co.resolve())!=Or||ra&&yn(new ra)!=zr||ro&&yn(new ro)!=oo)&&(yn=function(t){var e=sn(t),n=e=="[object Object]"?t.constructor:void 0,r=n?Rr(n):"";if(r)switch(r){case Me:return _e;case Re:return Ar;case qe:return Or;case It:return zr;case Wt:return oo}return e});var v=yn,m="[object Arguments]",E="[object Array]",N="[object Object]",Y=Object.prototype.hasOwnProperty,fe=function(t,e,n,r,i,o){var c=dn(t),l=dn(e),p=c?E:v(t),O=l?E:v(e),w=(p=p==m?N:p)==N,A=(O=O==m?N:O)==N,D=p==O;if(D&&Object(bo.a)(t)){if(!Object(bo.a)(e))return!1;c=!0,w=!1}if(D&&!w)return o||(o=new go),c||Si(t)?qi(t,e,n,r,i,o):ni(t,e,p,n,r,i,o);if(!(1&n)){var F=w&&Y.call(t,"__wrapped__"),Z=A&&Y.call(e,"__wrapped__");if(F||Z){var te=F?t.value():t,ye=Z?e.value():e;return o||(o=new go),i(te,ye,n,r,o)}}return!!D&&(o||(o=new go),eu(t,e,n,r,i,o))},xe=function t(e,n,r,i,o){return e===n||(e==null||n==null||!Qt(e)&&!Qt(n)?e!=e&&n!=n:fe(e,n,r,i,t,o))},Be=function(t,e,n,r){var i=n.length,o=i,c=!r;if(t==null)return!o;for(t=Object(t);i--;){var l=n[i];if(c&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++i<o;){var p=(l=n[i])[0],O=t[p],w=l[1];if(c&&l[2]){if(O===void 0&&!(p in t))return!1}else{var A=new go;if(r)var D=r(O,w,p,t,e,A);if(!(D===void 0?xe(w,O,3,r,A):D))return!1}}return!0},ot=function(t){return t==t&&!jn(t)},Ht=function(t){for(var e=oi(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,ot(i)]}return e},Qe=function(t,e){return function(n){return n!=null&&n[t]===e&&(e!==void 0||t in Object(n))}},pn=function(t){var e=Ht(t);return e.length==1&&e[0][2]?Qe(e[0][0],e[0][1]):function(n){return n===t||Be(n,t,e)}},Lt=function(t){return typeof t=="symbol"||Qt(t)&&sn(t)=="[object Symbol]"},tn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Br=/^\w*$/,On=function(t,e){if(dn(t))return!1;var n=typeof t;return!(n!="number"&&n!="symbol"&&n!="boolean"&&t!=null&&!Lt(t))||Br.test(t)||!tn.test(t)||e!=null&&t in Object(e)};function _r(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var c=t.apply(this,r);return n.cache=o.set(i,c)||o,c};return n.cache=new(_r.Cache||on),n}_r.Cache=on;var _o=_r,wo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pi=/\\(\\)?/g,tu=function(t){var e=_o(t,function(r){return n.size===500&&n.clear(),r}),n=e.cache;return e}(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(wo,function(n,r,i,o){e.push(i?o.replace(Pi,"$1"):r||n)}),e}),Ro=Ft?Ft.prototype:void 0,oa=Ro?Ro.toString:void 0,lr=function t(e){if(typeof e=="string")return e;if(dn(e))return nt(e,t)+"";if(Lt(e))return oa?oa.call(e):"";var n=e+"";return n=="0"&&1/e==-1/0?"-0":n},Ai=function(t){return t==null?"":lr(t)},ii=function(t,e){return dn(t)?t:On(t,e)?[t]:tu(Ai(t))},Io=function(t){if(typeof t=="string"||Lt(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e},Lo=function(t,e){for(var n=0,r=(e=ii(e,t)).length;t!=null&&n<r;)t=t[Io(e[n++])];return n&&n==r?t:void 0},nu=function(t,e,n){var r=t==null?void 0:Lo(t,e);return r===void 0?n:r},$p=function(t,e){return t!=null&&e in Object(t)},Kp=function(t,e,n){for(var r=-1,i=(e=ii(e,t)).length,o=!1;++r<i;){var c=Io(e[r]);if(!(o=t!=null&&n(t,c)))break;t=t[c]}return o||++r!=i?o:!!(i=t==null?0:t.length)&&mo(i)&&br(c,i)&&(dn(t)||eo(t))},Xl=function(t,e){return t!=null&&Kp(t,e,$p)},Ku=function(t,e){return On(t)&&ot(e)?Qe(Io(t),e):function(n){var r=nu(n,t);return r===void 0&&r===e?Xl(n,t):xe(e,r,3)}},ia=function(t){return t},as=function(t){return function(e){return e==null?void 0:e[t]}},Zp=function(t){return function(e){return Lo(e,t)}},Hl=function(t){return On(t)?as(Io(t)):Zp(t)},qp=function(t){return typeof t=="function"?t:t==null?ia:typeof t=="object"?dn(t)?Ku(t[0],t[1]):pn(t):Hl(t)},Gl=function(t){return function(e,n,r){for(var i=-1,o=Object(e),c=r(e),l=c.length;l--;){var p=c[t?l:++i];if(n(o[p],p,o)===!1)break}return e}}(),qn=function(t,e){return function(n,r){if(n==null)return n;if(!Bn(n))return t(n,r);for(var i=n.length,o=e?i:-1,c=Object(n);(e?o--:++o<i)&&r(c[o],o,c)!==!1;);return n}}(function(t,e){return t&&Gl(t,e,oi)}),fr=function(t,e){var n=-1,r=Bn(t)?Array(t.length):[];return qn(t,function(i,o,c){r[++n]=e(i,o,c)}),r},Zu=function(t,e){return(dn(t)?nt:fr)(t,qp(e))};Object(f.n)({isolateGlobalState:!0});var qu=function(){try{var t=Yr(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Ju=function(t,e,n){e=="__proto__"&&qu?qu(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},Jp=Object.prototype.hasOwnProperty,aa=function(t,e,n){var r=t[e];Jp.call(t,e)&&rn(r,n)&&(n!==void 0||e in t)||Ju(t,e,n)},xo=function(t,e,n,r){var i=!n;n||(n={});for(var o=-1,c=e.length;++o<c;){var l=e[o],p=r?r(n[l],t[l],l,n,t):void 0;p===void 0&&(p=t[l]),i?Ju(n,l,p):aa(n,l,p)}return n},us=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},ki=Math.max,ua=function(t,e,n){return e=ki(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=ki(r.length-e,0),c=Array(o);++i<o;)c[i]=r[e+i];i=-1;for(var l=Array(e+1);++i<e;)l[i]=r[i];return l[e]=n(c),us(t,this,l)}},ru=function(t){return function(){return t}},Qu=qu?function(t,e){return qu(t,"toString",{configurable:!0,enumerable:!1,value:ru(e),writable:!0})}:ia,ca=Date.now,Qp=function(t){var e=0,n=0;return function(){var r=ca(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}},Yl=Qp(Qu),eh=function(t,e){return Yl(ua(t,e,ia),t+"")},th=function(t,e,n){if(!jn(n))return!1;var r=typeof e;return!!(r=="number"?Bn(n)&&br(e,n.length):r=="string"&&e in n)&&rn(n[e],t)},Wl=function(t){return eh(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,c=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,c&&th(n[0],n[1],c)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var l=n[r];l&&t(e,l,r,o)}return e})},ec=Object.prototype.hasOwnProperty,Jn=Wl(function(t,e){if(Oo(e)||Bn(e))xo(e,oi(e),t);else for(var n in e)ec.call(e,n)&&aa(t,n,e[n])}),Vl=function(t,e,n,r){if(!jn(t))return t;for(var i=-1,o=(e=ii(e,t)).length,c=o-1,l=t;l!=null&&++i<o;){var p=Io(e[i]),O=n;if(p==="__proto__"||p==="constructor"||p==="prototype")return t;if(i!=c){var w=l[p];(O=r?r(w,p,l):void 0)===void 0&&(O=jn(w)?w:br(e[i+1])?[]:{})}aa(l,p,O),l=l[p]}return t},R=function(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var c=e[r],l=Lo(t,c);n(l,c)&&Vl(o,ii(c,t),l)}return o},sa=function(t,e){return R(t,e,function(n,r){return Xl(t,r)})},ou=Ft?Ft.isConcatSpreadable:void 0,Vr=function(t){return dn(t)||eo(t)||!!(ou&&t&&t[ou])},Jt=function t(e,n,r,i,o){var c=-1,l=e.length;for(r||(r=Vr),o||(o=[]);++c<l;){var p=e[c];n>0&&r(p)?n>1?t(p,n-1,r,i,o):Qr(o,p):i||(o[o.length]=p)}return o},Ti=function(t){return t!=null&&t.length?Jt(t,1):[]},hn,Eo,ai,$r,cs,ss,$l,Kl,tc,la,iu,Zl,ls,jo,nc,ui,Fr,fs,ps,zo=function(t){return Yl(ua(t,void 0,Ti),t+"")}(function(t,e){return t==null?{}:sa(t,e)});function _n(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ql(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cn(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(c){o[c]=r[c]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(c,l){return l(t,e,c)||c},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var un,nr,Gt,Fn,lt,vn,rc={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,allowRotation:!1,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},Bo=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","allowRotation","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],hs=(Eo=Cn((hn=function(){function t(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,t),_n(this,"isSilentMode",Eo,this),_n(this,"stopZoomGraph",ai,this),_n(this,"stopScrollGraph",$r,this),_n(this,"stopMoveGraph",cs,this),_n(this,"adjustEdge",ss,this),_n(this,"adjustEdgeMiddle",$l,this),_n(this,"adjustEdgeStartAndEnd",Kl,this),_n(this,"adjustNodePosition",tc,this),_n(this,"hideAnchors",la,this),_n(this,"allowRotation",iu,this),_n(this,"hoverOutline",Zl,this),_n(this,"nodeSelectedOutline",ls,this),_n(this,"edgeSelectedOutline",jo,this),_n(this,"nodeTextEdit",nc,this),_n(this,"edgeTextEdit",ui,this),_n(this,"nodeTextDraggable",Fr,this),_n(this,"edgeTextDraggable",fs,this),_n(this,"autoExpand",ps,this),Jl(this,"multipleSelectKey",""),Jl(this,"defaultConfig",{}),Jn(this,this.getConfigDetail(r))}var e,n;return e=t,(n=[{key:"updateEditConfig",value:function(r){var i=this.getConfigDetail(r);Jn(this,i)}},{key:"getConfigDetail",value:function(r){var i=r.isSilentMode,o=r.textEdit,c={};if(i===!1&&Jn(c,this.defaultConfig),i===!0&&i!==this.isSilentMode){var l=zo(rc,Bo);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,allowRotation:this.allowRotation,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},Jn(c,l)}o===!1&&Jn(c,{nodeTextEdit:!1,edgeTextEdit:!1});var p=zo(r,Bo);return Jn(c,p)}},{key:"getConfig",value:function(){return zo(this,Bo)}}])&&ql(e.prototype,n),t}()).prototype,"isSilentMode",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ai=Cn(hn.prototype,"stopZoomGraph",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$r=Cn(hn.prototype,"stopScrollGraph",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),cs=Cn(hn.prototype,"stopMoveGraph",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ss=Cn(hn.prototype,"adjustEdge",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),$l=Cn(hn.prototype,"adjustEdgeMiddle",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Kl=Cn(hn.prototype,"adjustEdgeStartAndEnd",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),tc=Cn(hn.prototype,"adjustNodePosition",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),la=Cn(hn.prototype,"hideAnchors",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),iu=Cn(hn.prototype,"allowRotation",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Zl=Cn(hn.prototype,"hoverOutline",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ls=Cn(hn.prototype,"nodeSelectedOutline",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),jo=Cn(hn.prototype,"edgeSelectedOutline",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),nc=Cn(hn.prototype,"nodeTextEdit",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ui=Cn(hn.prototype,"edgeTextEdit",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Fr=Cn(hn.prototype,"nodeTextDraggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),fs=Cn(hn.prototype,"edgeTextDraggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ps=Cn(hn.prototype,"autoExpand",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Cn(hn.prototype,"updateEditConfig",[f.k],Object.getOwnPropertyDescriptor(hn.prototype,"updateEditConfig"),hn.prototype),hn);u(65),u(66),function(t){t[t.DEFAULT=1]="DEFAULT",t[t.TEXT_EDIT=2]="TEXT_EDIT",t[t.SHOW_MENU=3]="SHOW_MENU",t[t.ALLOW_CONNECT=4]="ALLOW_CONNECT",t[t.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(un||(un={})),function(t){t.KEY="logic-flow",t.NODE_NAME="lf-node",t.EDGE_NAME="lf-edge"}(nr||(nr={})),function(t){t.NODE="node",t.CIRCLE_NODE="circle-node",t.POLYGON_NODE="polygon-node",t.RECT_NODE="rect-node",t.TEXT_NODE="text-node",t.ELLIPSE_NODE="ellipse-node",t.DIAMOND_NODE="diamond-node",t.HTML_NODE="html-node",t.EDGE="edge",t.LINE_EDGE="line-edge",t.POLYLINE_EDGE="polyline-edge",t.BEZIER_EDGE="bezier-edge",t.GRAPH="graph"}(Gt||(Gt={})),function(t){t.NODE="node",t.EDGE="edge",t.GRAPH="graph"}(Fn||(Fn={})),function(t){t.ELEMENT_CLICK="element:click",t.NODE_CLICK="node:click",t.NODE_DBCLICK="node:dbclick",t.NODE_DELETE="node:delete",t.NODE_ADD="node:add",t.NODE_GROUP_COPY="node:group-copy-add",t.NODE_DND_ADD="node:dnd-add",t.NODE_DND_DRAG="node:dnd-drag",t.NODE_MOUSEDOWN="node:mousedown",t.NODE_DRAGSTART="node:dragstart",t.NODE_DRAG="node:drag",t.NODE_DROP="node:drop",t.NODE_MOUSEUP="node:mouseup",t.NODE_MOUSEMOVE="node:mousemove",t.NODE_MOUSEENTER="node:mouseenter",t.NODE_MOUSELEAVE="node:mouseleave",t.NODE_CONTEXTMENU="node:contextmenu",t.NODE_ROTATE="node:rotate",t.EDGE_DELETE="edge:delete",t.EDGE_ADD="edge:add",t.EDGE_CLICK="edge:click",t.EDGE_DBCLICK="edge:dbclick",t.EDGE_MOUSEENTER="edge:mouseenter",t.EDGE_MOUSELEAVE="edge:mouseleave",t.EDGE_CONTEXTMENU="edge:contextmenu",t.EDGE_ADJUST="edge:adjust",t.EDGE_EXCHANGE_NODE="edge:exchange-node",t.ANCHOR_DRAGSTART="anchor:dragstart",t.ANCHOR_DRAG="anchor:drag",t.ANCHOR_DROP="anchor:drop",t.ANCHOR_DRAGEND="anchor:dragend",t.ADJUST_POINT_MOUSEDOWN="adjustPoint:mousedown",t.ADJUST_POINT_MOUSEUP="adjustPoint:mouseup",t.ADJUST_POINT_MOUSEMOVE="adjustPoint:mousemove",t.ADJUST_POINT_DRAGSTART="adjustPoint:dragstart",t.ADJUST_POINT_DRAG="adjustPoint:drag",t.ADJUST_POINT_DROP="adjustPoint:drop",t.ADJUST_POINT_DRAGEND="adjustPoint:dragend",t.BLANK_MOUSEDOWN="blank:mousedown",t.BLANK_DRAGSTART="blank:dragstart",t.BLANK_DRAG="blank:drag",t.BLANK_DROP="blank:drop",t.BLANK_MOUSEMOVE="blank:mousemove",t.BLANK_MOUSEUP="blank:mouseup",t.BLANK_CLICK="blank:click",t.BLANK_CONTEXTMENU="blank:contextmenu",t.SELECTION_MOUSEDOWN="selection:mousedown",t.SELECTION_DRAGSTART="selection:dragstart",t.SELECTION_DRAG="selection:drag",t.SELECTION_DROP="selection:drop",t.SELECTION_MOUSEMOVE="selection:mousemove",t.SELECTION_MOUSEUP="selection:mouseup",t.SELECTION_CONTEXTMENU="selection:contextmenu",t.CONNECTION_NOT_ALLOWED="connection:not-allowed",t.HISTORY_CHANGE="history:change",t.TEXT_UPDATE="text:update",t.GRAPH_TRANSFORM="graph:transform",t.GRAPH_RENDERED="graph:rendered"}(lt||(lt={})),function(t){t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(vn||(vn={}));var Pn,Dn,Ql,ef,oc,fa,ds,pa,ic;function ha(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||function(n,r){if(n){if(typeof n=="string")return ys(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ys(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ys(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fo(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function nh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Uo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kr(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(c){o[c]=r[c]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(c,l){return l(t,e,c)||c},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.INCREASE=1]="INCREASE"})(Pn||(Pn={}));var tf={false:[-1/0,-1/0,1/0,1/0],true:[0,0,0,0],vertical:[-1/0,0,1/0,0],horizontal:[0,-1/0,0,1/0]},nf=(Dn=function(){function t(r,i){(function(l,p){if(!(l instanceof p))throw new TypeError("Cannot call a class as a function")})(this,t),Uo(this,"MINI_SCALE_SIZE",.2),Uo(this,"MAX_SCALE_SIZE",16),Fo(this,"SCALE_X",Ql,this),Fo(this,"SKEW_Y",ef,this),Fo(this,"SKEW_X",oc,this),Fo(this,"SCALE_Y",fa,this),Fo(this,"TRANSLATE_X",ds,this),Fo(this,"TRANSLATE_Y",pa,this),Fo(this,"ZOOM_SIZE",ic,this),Uo(this,"eventCenter",void 0),Uo(this,"translateLimitMinX",void 0),Uo(this,"translateLimitMinY",void 0),Uo(this,"translateLimitMaxX",void 0),Uo(this,"translateLimitMaxY",void 0),this.eventCenter=r;var o=i.stopMoveGraph,c=o!==void 0&&o;this.updateTranslateLimits(c)}var e,n;return e=t,n=[{key:"setZoomMiniSize",value:function(r){this.MINI_SCALE_SIZE=r}},{key:"setZoomMaxSize",value:function(r){this.MAX_SCALE_SIZE=r}},{key:"HtmlPointToCanvasPoint",value:function(r){var i=ha(r,2),o=i[0],c=i[1];return[(o-this.TRANSLATE_X)/this.SCALE_X,(c-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(r){var i=ha(r,2),o=i[0],c=i[1];return[o*this.SCALE_X+this.TRANSLATE_X,c*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(r,i,o){var c=ha(r,2),l=c[0],p=c[1];return[l+i/this.SCALE_X,p+o/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(r,i){return[r/this.SCALE_X,i/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var r=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(r,")")}}},{key:"zoom",value:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],i=arguments.length>1?arguments[1]:void 0,o=this.SCALE_X,c=this.SCALE_Y;return r===!0?(o+=this.ZOOM_SIZE,c+=this.ZOOM_SIZE):r===!1?(o-=this.ZOOM_SIZE,c-=this.ZOOM_SIZE):typeof r=="number"&&(o=r,c=r),o<this.MINI_SCALE_SIZE||o>this.MAX_SCALE_SIZE||(i&&(this.TRANSLATE_X-=(o-this.SCALE_X)*i[0],this.TRANSLATE_Y-=(c-this.SCALE_Y)*i[1]),this.SCALE_X=o,this.SCALE_Y=c,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(r){this.eventCenter.emit(lt.GRAPH_TRANSFORM,{type:r,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(r,i){this.TRANSLATE_X+r<=this.translateLimitMaxX&&this.TRANSLATE_X+r>=this.translateLimitMinX&&(this.TRANSLATE_X+=r),this.TRANSLATE_Y+i<=this.translateLimitMaxY&&this.TRANSLATE_Y+i>=this.translateLimitMinY&&(this.TRANSLATE_Y+=i),this.emitGraphTransform("translate")}},{key:"focusOn",value:function(r,i,o,c){var l=ha(this.CanvasPointToHtmlPoint([r,i]),2),p=o/2-l[0],O=c/2-l[1];this.TRANSLATE_X+=p,this.TRANSLATE_Y+=O,this.emitGraphTransform("focusOn")}},{key:"updateTranslateLimits",value:function(r){var i=ha(Array.isArray(r)&&r.length===4?r:tf[r.toString()],4);this.translateLimitMinX=i[0],this.translateLimitMinY=i[1],this.translateLimitMaxX=i[2],this.translateLimitMaxY=i[3]}}],n&&nh(e.prototype,n),t}(),Ql=Kr(Dn.prototype,"SCALE_X",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ef=Kr(Dn.prototype,"SKEW_Y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),oc=Kr(Dn.prototype,"SKEW_X",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),fa=Kr(Dn.prototype,"SCALE_Y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ds=Kr(Dn.prototype,"TRANSLATE_X",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),pa=Kr(Dn.prototype,"TRANSLATE_Y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ic=Kr(Dn.prototype,"ZOOM_SIZE",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),Kr(Dn.prototype,"zoom",[f.k],Object.getOwnPropertyDescriptor(Dn.prototype,"zoom"),Dn.prototype),Kr(Dn.prototype,"resetZoom",[f.k],Object.getOwnPropertyDescriptor(Dn.prototype,"resetZoom"),Dn.prototype),Kr(Dn.prototype,"translate",[f.k],Object.getOwnPropertyDescriptor(Dn.prototype,"translate"),Dn.prototype),Kr(Dn.prototype,"focusOn",[f.k],Object.getOwnPropertyDescriptor(Dn.prototype,"focusOn"),Dn.prototype),Dn),ac=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t},rf=function(t,e){return t&&xo(e,oi(e),t)},of=function(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e},af=Object.prototype.hasOwnProperty,vs=function(t){if(!jn(t))return of(t);var e=Oo(t),n=[];for(var r in t)(r!="constructor"||!e&&af.call(t,r))&&n.push(r);return n},da=function(t){return Bn(t)?Sn(t,!0):vs(t)},gs=function(t,e){return t&&xo(e,da(e),t)},uc=u(107),Yt=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},rh=function(t,e){return xo(t,gr(t),e)},bs=Lr(Object.getPrototypeOf,Object),ya=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Qr(e,gr(t)),t=bs(t);return e}:Wu,uf=function(t,e){return xo(t,ya(t),e)},oh=function(t){return Yu(t,da,ya)},ih=Object.prototype.hasOwnProperty,Zr=function(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&ih.call(t,"index")&&(n.index=t.index,n.input=t.input),n},ms=function(t){var e=new t.constructor(t.byteLength);return new tr(e).set(new tr(t)),e},cc=function(t,e){var n=e?ms(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},Os=/\w*$/,cf=function(t){var e=new t.constructor(t.source,Os.exec(t));return e.lastIndex=t.lastIndex,e},_s=Ft?Ft.prototype:void 0,kr=_s?_s.valueOf:void 0,ci=function(t){return kr?Object(kr.call(t)):{}},sc=function(t,e){var n=e?ms(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},sf=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return ms(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return cc(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return sc(t,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return cf(t);case"[object Symbol]":return ci(t)}},au=Object.create,lf=function(){function t(){}return function(e){if(!jn(e))return{};if(au)return au(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),lc=function(t){return typeof t.constructor!="function"||Oo(t)?{}:lf(bs(t))},ff=function(t){return Qt(t)&&v(t)=="[object Map]"},fc=Zn.a&&Zn.a.isMap,ws=fc?to(fc):ff,si=function(t){return Qt(t)&&v(t)=="[object Set]"},pf=Zn.a&&Zn.a.isSet,li=pf?to(pf):si,xs="[object Arguments]",Es="[object Function]",js="[object Object]",gn={};gn[xs]=gn["[object Array]"]=gn["[object ArrayBuffer]"]=gn["[object DataView]"]=gn["[object Boolean]"]=gn["[object Date]"]=gn["[object Float32Array]"]=gn["[object Float64Array]"]=gn["[object Int8Array]"]=gn["[object Int16Array]"]=gn["[object Int32Array]"]=gn["[object Map]"]=gn["[object Number]"]=gn["[object Object]"]=gn["[object RegExp]"]=gn["[object Set]"]=gn["[object String]"]=gn["[object Symbol]"]=gn["[object Uint8Array]"]=gn["[object Uint8ClampedArray]"]=gn["[object Uint16Array]"]=gn["[object Uint32Array]"]=!0,gn["[object Error]"]=gn[Es]=gn["[object WeakMap]"]=!1;var hf=function t(e,n,r,i,o,c){var l,p=1&n,O=2&n,w=4&n;if(r&&(l=o?r(e,i,o,c):r(e)),l!==void 0)return l;if(!jn(e))return e;var A=dn(e);if(A){if(l=Zr(e),!p)return Yt(e,l)}else{var D=v(e),F=D==Es||D=="[object GeneratorFunction]";if(Object(bo.a)(e))return Object(uc.a)(e,p);if(D==js||D==xs||F&&!o){if(l=O||F?{}:lc(e),!p)return O?uf(e,gs(l,e)):rh(e,rf(l,e))}else{if(!gn[D])return o?e:{};l=sf(e,D,p)}}c||(c=new go);var Z=c.get(e);if(Z)return Z;c.set(e,l),li(e)?e.forEach(function(ye){l.add(t(ye,n,r,ye,e,c))}):ws(e)&&e.forEach(function(ye,ge){l.set(ge,t(ye,n,r,ge,e,c))});var te=A?void 0:(w?O?oh:no:O?da:oi)(e);return ac(te||e,function(ye,ge){te&&(ye=e[ge=ye]),aa(l,ge,t(ye,n,r,ge,e,c))}),l},wn=function(t){return hf(t,5)},pc=function(t,e,n){(n!==void 0&&!rn(t[e],n)||n===void 0&&!(e in t))&&Ju(t,e,n)},Tr=function(t){return Qt(t)&&Bn(t)},So=Function.prototype,hc=Object.prototype,Di=So.toString,df=hc.hasOwnProperty,yf=Di.call(Object),vf=function(t){if(!Qt(t)||sn(t)!="[object Object]")return!1;var e=bs(t);if(e===null)return!0;var n=df.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Di.call(n)==yf},fi=function(t,e){if((e!=="constructor"||typeof t[e]!="function")&&e!="__proto__")return t[e]},uu=function(t){return xo(t,da(t))},gf=function(t,e,n,r,i,o,c){var l=fi(t,n),p=fi(e,n),O=c.get(p);if(O)pc(t,n,O);else{var w=o?o(l,p,n+"",t,e,c):void 0,A=w===void 0;if(A){var D=dn(p),F=!D&&Object(bo.a)(p),Z=!D&&!F&&Si(p);w=p,D||F||Z?dn(l)?w=l:Tr(l)?w=Yt(l):F?(A=!1,w=Object(uc.a)(p,!0)):Z?(A=!1,w=sc(p,!0)):w=[]:vf(p)||eo(p)?(w=l,eo(l)?w=uu(l):jn(l)&&!Jr(l)||(w=lc(p))):A=!1}A&&(c.set(p,w),i(w,p,r,o,c),c.delete(p)),pc(t,n,w)}},bf=function t(e,n,r,i,o){e!==n&&Gl(n,function(c,l){if(o||(o=new go),jn(c))gf(e,n,l,r,t,i,o);else{var p=i?i(fi(e,l),c,l+"",e,n,o):void 0;p===void 0&&(p=c),pc(e,l,p)}},da)},cu=Wl(function(t,e,n){bf(t,e,n)}),mf={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"lf_animate_dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"},rotateControl:{stroke:"#000",fill:"#fff",strokeWidth:1.5}},su=function(t){var e=wn(mf);return t&&(e=cu(e,t)),e};u(82),u(166);function Ss(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var dc=function(){function t(){var r,i,o;(function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,t),o={},(i="_events")in(r=this)?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o}var e,n;return e=t,(n=[{key:"on",value:function(r,i,o){var c=this;return r==null||r.split(",").forEach(function(l){l=l.trim(),c._events[l]||(c._events[l]=[]),c._events[l].push({callback:i,once:!!o})}),this}},{key:"once",value:function(r,i){var o=this;r==null||r.split(",").forEach(function(c){return c=c.trim(),o.on(c,i,!0)})}},{key:"emit",value:function(r,i){var o=this;r==null||r.split(",").forEach(function(c){var l=o._events[c]||[],p=o._events["*"]||[],O=function(w){for(var A=w.length,D=0;D<A;D++)if(w[D]){var F=w[D],Z=F.callback;F.once&&(w.splice(D,1),w.length===0&&delete o._events[c],A--,D--),Z.apply(o,[i])}};O(l),O(p)})}},{key:"off",value:function(r,i){var o=this;return r||(this._events={}),r.split(",").forEach(function(c){if(i){for(var l=o._events[c]||[],p=l.length,O=0;O<p;O++)l[O].callback===i&&(l.splice(O,1),p--,O--);l.length===0&&delete o._events[c]}else delete o._events[c]}),this}},{key:"getEvents",value:function(){return this._events}}])&&Ss(e.prototype,n),t}();function Po(t,e){return e*Math.round(t/e)||t}function va(t,e){return t%e}function yc(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||function(n,r){if(n){if(typeof n=="string")return vc(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return vc(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function vc(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ps,gc=function(t,e,n){var r=yc(t,2),i=r[0],o=r[1],c=yc(e,2),l=c[0],p=c[1],O=yc(n,2),w=O[0],A=O[1];return i>l&&i<w&&o>p&&o<A},Ao=function(t,e){var n=!1;switch(e.multipleSelectKey){case"meta":n=t.metaKey;break;case"alt":n=t.altKey;break;case"shift":n=t.shiftKey;break;case"ctrl":n=t.ctrlKey;break;default:n=!1}return n},Of=(u(167),u(126),u(83),u(29),u(12),u(13),u(14),u(47),new Uint8Array(16));function _f(){if(!Ps&&!(Ps=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ps(Of)}for(var ah=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,wf=function(t){return typeof t=="string"&&ah.test(t)},xn=[],lu=0;lu<256;++lu)xn.push((lu+256).toString(16).substr(1));var As=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(xn[t[e+0]]+xn[t[e+1]]+xn[t[e+2]]+xn[t[e+3]]+"-"+xn[t[e+4]]+xn[t[e+5]]+"-"+xn[t[e+6]]+xn[t[e+7]]+"-"+xn[t[e+8]]+xn[t[e+9]]+"-"+xn[t[e+10]]+xn[t[e+11]]+xn[t[e+12]]+xn[t[e+13]]+xn[t[e+14]]+xn[t[e+15]]).toLowerCase();if(!wf(n))throw TypeError("Stringified UUID is invalid");return n},fu=function(t,e,n){var r=(t=t||{}).random||(t.rng||_f)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return As(r)},io=function(){return fu()},ga=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=t.nodes.reduce(function(r,i){return r[i.id]=e+fu(),i.id=r[i.id],r},{});return t.edges.forEach(function(r){r.id=e+fu(),r.sourceNodeId=n[r.sourceNodeId],r.targetNodeId=n[r.targetNodeId]}),t},_t=(u(105),u(127),u(207),function(t,e,n){var r=t.x,i=t.y,o=e.x,c=e.y,l=n.x,p=n.y,O=(p-c)/(l-o),w=c-O*o;return r>=o&&r<=l&&i>=c&&i<=p&&Math.abs(i-O*r+w)<Number.EPSILON});function ba(t){return ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ba(t)}function bc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bc(Object(n),!0).forEach(function(r){ks(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bc(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ks(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Te,ir,Ts,Ds,xf,ko,pr,mc,Oc,Ef,ma,Ms,Ns,Cs,Rs,jf,_c,Is,Oa,wc,Ls,xc=function(t){return t.anchors},Mi=function(t,e){for(var n,r=e.nodes,i=r.length-1;i>=0;i--){var o=r[i];if(Pf(t,o)){var c=o.getTargetAnchor(t);if(c){var l={node:o,anchorIndex:c.index,anchor:c.anchor};n&&!Sf(o,n.node,e)||(n=l)}}}return n},Sf=function(t,e,n){return t.zIndex>e.zIndex||n.nodesMap[t.id].index>n.nodesMap[e.id].index},Yn=function(t,e,n,r){return Math.hypot(t-n,e-r)},Dr=function(t,e){var n=!1,r=Ur(e);return t.x>=r.minX-0&&t.x<=r.maxX+0&&t.y>=r.minY-0&&t.y<=r.maxY+0&&(n=!0),n},Pf=function(t,e){var n=!1,r=Ur(e);return t.x>=r.minX-5&&t.x<=r.maxX+5&&t.y>=r.minY-5&&t.y<=r.maxY+5&&(n=!0),n},Ur=function(t){var e=t.x,n=t.y,r=t.width,i=t.height;return{minX:e-r/2,minY:n-i/2,maxX:e+r/2,maxY:n+i/2,x:e,y:n,width:r,height:i,centerX:e,centerY:n}},Af=function(t,e,n){var r,i=function(c){var l=c,p=l.x,O=l.y,w=l.width,A=l.height,D=l.radius;return[{x:p-w/2+D,y:O-A/2+D,r:D},{x:p+w/2-D,y:O-A/2+D,r:D},{x:p-w/2+D,y:O+A/2-D,r:D},{x:p+w/2-D,y:O+A/2-D,r:D}]}(n),o=Number.MAX_SAFE_INTEGER;return i.forEach(function(c){var l=Yn(t.x,t.y,c.x,c.y);l<o&&(o=l,r=c)}),zs(t,e,r)},zs=function(t,e,n){var r,i=n,o=i.x,c=i.y,l=i.r;if(e===vn.HORIZONTAL){var p=o-Math.sqrt(l*l-(t.y-c)*(t.y-c)),O=o+Math.sqrt(l*l-(t.y-c)*(t.y-c));r={x:Math.abs(p-t.x)<Math.abs(O-t.x)?p:O,y:t.y}}else if(e===vn.VERTICAL){var w=c-Math.sqrt(l*l-(t.x-o)*(t.x-o)),A=c+Math.sqrt(l*l-(t.x-o)*(t.x-o)),D=Math.abs(w-t.y)<Math.abs(A-t.y)?w:A;r={x:t.x,y:D}}return r},Bs=function(t,e){var n=e,r=!1,i=n.x-n.width/2+n.radius,o=n.x+n.width/2-n.radius,c=n.y-n.height/2+n.radius,l=n.y+n.height/2-n.radius,p=n.x,O=n.y,w=n.width,A=n.height;return t.y===O+A/2||t.y===O-A/2?r=t.x>i&&t.x<o:t.x!==p+w/2&&t.x!==p-w/2||(r=t.y>c&&t.y<l),r},Fs=function(t,e,n){var r,i=n,o=i.x,c=i.y,l=i.rx,p=i.ry;if(e===vn.HORIZONTAL){var O=o-Math.sqrt(l*l-(t.y-c)*(t.y-c)*l*l/(p*p)),w=o+Math.sqrt(l*l-(t.y-c)*(t.y-c)*l*l/(p*p));r={x:Math.abs(O-t.x)<Math.abs(w-t.x)?O:w,y:t.y}}else if(e===vn.VERTICAL){var A=c-Math.sqrt(p*p-(t.x-o)*(t.x-o)*p*p/(l*l)),D=c+Math.sqrt(p*p-(t.x-o)*(t.x-o)*p*p/(l*l)),F=Math.abs(A-t.y)<Math.abs(D-t.y)?A:D;r={x:t.x,y:F}}return r},Us=function(t,e,n){for(var r,i=n.pointsPosition,o=Number.MAX_SAFE_INTEGER,c=[],l=0;l<i.length;l++)c.push({start:i[l],end:i[(l+1)%i.length]});return c.forEach(function(p){var O=p.start,w=p.end,A=O,D=w;O.x>w.x&&(A=w,D=O);var F={x:t.x,y:t.y};if(A.x===D.x&&e===vn.HORIZONTAL&&(F={x:A.x,y:t.y}),A.y===D.y&&e===vn.VERTICAL&&(F={x:t.x,y:A.y}),A.x!==D.x&&A.y!==D.y){var Z=(D.y-A.y)/(D.x-A.x),te=(A.x*D.y-D.x*A.y)/(A.x-D.x);e===vn.HORIZONTAL?F={x:(t.y-te)/Z,y:t.y}:e===vn.VERTICAL&&(F={x:t.x,y:Z*t.x+te})}if(_t(F,O,w)){var ye=Yn(F.x,F.y,t.x,t.y);ye<o&&(o=ye,r=F)}}),r},Xs=function(t,e,n,r){var i=t.x,o=t.y;return e.x>t.x?i=t.x+n/2:e.x<t.x&&(i=t.x-n/2),e.y>t.y?o=t.y+r/2:e.y<t.y&&(o=t.y-r/2),{x:i,y:o}},kf=function(t){var e=t.rows,n=t.style,r=t.rowsLength,i=t.className,o=document.createElement("div");o.style.fontSize=n.fontSize,o.style.width=n.width,o.className=i,o.style.lineHeight=n.lineHeight,o.style.padding=n.padding,n.fontFamily&&(o.style.fontFamily=n.fontFamily),r>1?e.forEach(function(l){var p=document.createElement("div");p.textContent=l,o.appendChild(p)}):o.textContent=e,document.body.appendChild(o);var c=o.clientHeight;return document.body.removeChild(o),c},Hs=function(t){var e=t.rows,n=t.rowsLength,r=t.fontSize,i=0;return e&&e.forEach(function(o){var c=pl(o);i=c>i?c:i}),{width:Math.ceil(i/2)*r+r/4,height:n*(r+2)+r/4}},pu=function(t){return ba(t)!=="object"?{isAllPass:!!t,msg:t?"":"不允许连接"}:t},bn=function(t){try{return JSON.parse(JSON.stringify(t))}catch{return t}},uh=1e3,Tf=999,Gs=function(){return++uh};function Ec(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ec(Object(n),!0).forEach(function(r){Nr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ec(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wn(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ch(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Nr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Et(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(c){o[c]=r[c]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(c,l){return l(t,e,c)||c},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Ys=(Te=function(){function t(r,i){(function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),Nr(this,"id",""),Wn(this,"type",ir,this),Wn(this,"sourceNodeId",Ts,this),Wn(this,"targetNodeId",Ds,this),Wn(this,"startPoint",xf,this),Wn(this,"endPoint",ko,this),Wn(this,"text",pr,this),Wn(this,"properties",mc,this),Wn(this,"points",Oc,this),Wn(this,"pointsList",Ef,this),Wn(this,"isSelected",ma,this),Wn(this,"isHovered",Ms,this),Wn(this,"isHitable",Ns,this),Wn(this,"draggable",Cs,this),Wn(this,"visible",Rs,this),Nr(this,"virtual",!1),Wn(this,"isAnimation",jf,this),Wn(this,"isShowAdjustPoint",_c,this),Nr(this,"graphModel",void 0),Wn(this,"zIndex",Is,this),Nr(this,"BaseType",Fn.EDGE),Nr(this,"modelType",Gt.EDGE),Wn(this,"state",Oa,this),Nr(this,"additionStateData",void 0),Nr(this,"sourceAnchorId",""),Nr(this,"targetAnchorId",""),Nr(this,"menu",void 0),Nr(this,"customTextPosition",!1),Wn(this,"style",wc,this),Wn(this,"arrowConfig",Ls,this),this.graphModel=i,this.initEdgeData(r),this.setAttributes()}var e,n;return e=t,n=[{key:"initEdgeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var i=this.graphModel.idGenerator,o=i&&i(r.type),c=this.createId();r.id=c||o||io()}this.arrowConfig.markerEnd="url(#marker-end-".concat(r.id,")"),this.arrowConfig.markerStart="url(#marker-start-".concat(r.id,")");var l=this.graphModel.editConfigModel.adjustEdgeStartAndEnd;this.isShowAdjustPoint=l,Jn(this,Wf(r)),this.graphModel.overlapMode===Pn.INCREASE&&(this.zIndex=r.zIndex||Gs()),this.setAnchors(),this.initPoints(),this.formatText(r)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return Mr(Mr({},this.graphModel.theme.baseEdge),this.style)}},{key:"getAdjustPointStyle",value:function(){return Mr({},this.graphModel.theme.edgeAdjust)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.edgeText;return wn(r)}},{key:"getEdgeAnimationStyle",value:function(){var r=this.graphModel.theme.edgeAnimation;return wn(r)}},{key:"getArrowStyle",value:function(){var r=this.getEdgeStyle(),i=this.getEdgeAnimationStyle(),o=this.graphModel.theme.arrow,c=this.isAnimation?i.stroke:r.stroke;return Mr(Mr({},r),{},{fill:c,stroke:c},o)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return wn(r)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var r,i;return(r=this.graphModel)===null||r===void 0||(i=r.nodesMap[this.sourceNodeId])===null||i===void 0?void 0:i.model}},{key:"targetNode",get:function(){var r,i;return(r=this.graphModel)===null||r===void 0||(i=r.nodesMap[this.targetNodeId])===null||i===void 0?void 0:i.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(r,i){var o,c;return xc(r).forEach(function(l){var p=yl(l,i);(c===void 0||p<c)&&(c=p,o=l)}),o}},{key:"getEndAnchor",value:function(r){var i,o,c=this;return xc(r).forEach(function(l){var p=yl(l,c.startPoint);(o===void 0||p<o)&&(o=p,i=l)}),i}},{key:"getProperties",value:function(){return Object(f.I)(this.properties)}},{key:"getData",value:function(){var r=this.text,i=r.x,o=r.y,c=r.value,l={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(f.I)(this.properties)};return c&&(l.text={x:i,y:o,value:c}),this.graphModel.overlapMode===Pn.INCREASE&&(l.zIndex=this.zIndex),l}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(r,i){this.properties[r]=bn(i),this.setAttributes()}},{key:"deleteProperty",value:function(r){delete this.properties[r],this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=Mr(Mr({},Object(f.I)(this.properties)),bn(r)),this.setAttributes()}},{key:"changeEdgeId",value:function(r){var i=this.arrowConfig,o=i.markerEnd,c=i.markerStart;c&&c==="url(#marker-start-".concat(this.id,")")&&(this.arrowConfig.markerStart="url(#marker-start-".concat(r,")")),o&&o==="url(#marker-end-".concat(this.id,")")&&(this.arrowConfig.markerEnd="url(#marker-end-".concat(r,")")),this.id=r}},{key:"setStyle",value:function(r,i){this.style=Mr(Mr({},this.style),{},Nr({},r,bn(i)))}},{key:"setStyles",value:function(r){this.style=Mr(Mr({},this.style),bn(r))}},{key:"updateStyles",value:function(r){this.style=Mr({},bn(r))}},{key:"formatText",value:function(r){var i=this.textPosition,o=i.x,c=i.y;r.text&&typeof r.text!="string"?Object.prototype.toString.call(r.text)==="[object Object]"&&(this.text={x:r.text.x||o,y:r.text.y||c,value:r.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:r.text||"",x:o,y:c,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var r=this.textPosition,i=r.x,o=r.y;this.text.x=i,this.text.y=o}},{key:"moveText",value:function(r,i){if(this.text){var o=this.text,c=o.x,l=o.y,p=o.value,O=o.draggable,w=o.editable;this.text={value:p,draggable:O,x:c+r,y:l+i,editable:w}}}},{key:"setText",value:function(r){r&&Jn(this.text,r)}},{key:"updateText",value:function(r){this.text=Mr(Mr({},Object(f.I)(this.text)),{},{value:r})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var r=this.getBeginAnchor(this.sourceNode,this.targetNode);if(!(r||this.startPoint&&this.sourceAnchorId))throw new Error("无法获取beginAnchor，请检查anchors相关逻辑，anchors不能为空");this.startPoint||(this.startPoint={x:r.x,y:r.y}),this.sourceAnchorId||(this.sourceAnchorId=r.id)}if(!this.targetAnchorId||!this.endPoint){var i=this.getEndAnchor(this.targetNode);if(!(i||this.endPoint&&this.targetAnchorId))throw new Error("无法获取endAnchor，请检查anchors相关逻辑，anchors不能为空");this.endPoint||(this.endPoint={x:i.x,y:i.y}),this.targetAnchorId||(this.targetAnchorId=i.id)}}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(r,i){this.state=r,this.additionStateData=i}},{key:"updateStartPoint",value:function(r){this.startPoint=r}},{key:"moveStartPoint",value:function(r,i){this.startPoint.x+=r,this.startPoint.y+=i}},{key:"updateEndPoint",value:function(r){this.endPoint=r}},{key:"moveEndPoint",value:function(r,i){this.endPoint.x+=r,this.endPoint.y+=i}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=r}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(r){Jn(this,r)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(r){var i=r.startPoint,o=r.endPoint;this.updateStartPoint({x:i.x,y:i.y}),this.updateEndPoint({x:o.x,y:o.y})}}],n&&ch(e.prototype,n),t}(),ir=Et(Te.prototype,"type",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ts=Et(Te.prototype,"sourceNodeId",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ds=Et(Te.prototype,"targetNodeId",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),xf=Et(Te.prototype,"startPoint",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ko=Et(Te.prototype,"endPoint",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pr=Et(Te.prototype,"text",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),mc=Et(Te.prototype,"properties",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Oc=Et(Te.prototype,"points",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ef=Et(Te.prototype,"pointsList",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ma=Et(Te.prototype,"isSelected",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ms=Et(Te.prototype,"isHovered",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ns=Et(Te.prototype,"isHitable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Cs=Et(Te.prototype,"draggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Rs=Et(Te.prototype,"visible",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),jf=Et(Te.prototype,"isAnimation",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_c=Et(Te.prototype,"isShowAdjustPoint",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Is=Et(Te.prototype,"zIndex",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Oa=Et(Te.prototype,"state",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),wc=Et(Te.prototype,"style",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Ls=Et(Te.prototype,"arrowConfig",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:"url(#marker-start-".concat(this.id,")")}}}),Et(Te.prototype,"sourceNode",[f.m],Object.getOwnPropertyDescriptor(Te.prototype,"sourceNode"),Te.prototype),Et(Te.prototype,"targetNode",[f.m],Object.getOwnPropertyDescriptor(Te.prototype,"targetNode"),Te.prototype),Et(Te.prototype,"textPosition",[f.m],Object.getOwnPropertyDescriptor(Te.prototype,"textPosition"),Te.prototype),Et(Te.prototype,"setProperty",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"setProperty"),Te.prototype),Et(Te.prototype,"deleteProperty",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"deleteProperty"),Te.prototype),Et(Te.prototype,"setProperties",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"setProperties"),Te.prototype),Et(Te.prototype,"changeEdgeId",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"changeEdgeId"),Te.prototype),Et(Te.prototype,"setStyle",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"setStyle"),Te.prototype),Et(Te.prototype,"setStyles",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"setStyles"),Te.prototype),Et(Te.prototype,"updateStyles",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"updateStyles"),Te.prototype),Et(Te.prototype,"formatText",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"formatText"),Te.prototype),Et(Te.prototype,"resetTextPosition",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"resetTextPosition"),Te.prototype),Et(Te.prototype,"moveText",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"moveText"),Te.prototype),Et(Te.prototype,"setText",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"setText"),Te.prototype),Et(Te.prototype,"updateText",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"updateText"),Te.prototype),Et(Te.prototype,"setAnchors",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"setAnchors"),Te.prototype),Et(Te.prototype,"setSelected",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"setSelected"),Te.prototype),Et(Te.prototype,"setHovered",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"setHovered"),Te.prototype),Et(Te.prototype,"setHitable",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"setHitable"),Te.prototype),Et(Te.prototype,"openEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"openEdgeAnimation"),Te.prototype),Et(Te.prototype,"closeEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"closeEdgeAnimation"),Te.prototype),Et(Te.prototype,"setElementState",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"setElementState"),Te.prototype),Et(Te.prototype,"updateStartPoint",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"updateStartPoint"),Te.prototype),Et(Te.prototype,"moveStartPoint",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"moveStartPoint"),Te.prototype),Et(Te.prototype,"updateEndPoint",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"updateEndPoint"),Te.prototype),Et(Te.prototype,"moveEndPoint",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"moveEndPoint"),Te.prototype),Et(Te.prototype,"setZIndex",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"setZIndex"),Te.prototype),Et(Te.prototype,"initPoints",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"initPoints"),Te.prototype),Et(Te.prototype,"updateAttributes",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"updateAttributes"),Te.prototype),Et(Te.prototype,"getAdjustStart",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"getAdjustStart"),Te.prototype),Et(Te.prototype,"getAdjustEnd",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"getAdjustEnd"),Te.prototype),Et(Te.prototype,"updateAfterAdjustStartAndEnd",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"updateAfterAdjustStartAndEnd"),Te.prototype),Te),Ws=Ys;function Vs(t){return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vs(t)}function Df(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Df(Object(n),!0).forEach(function(r){Cf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Df(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _a(){return _a=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=lh(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},_a.apply(this,arguments)}function lh(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Ni(t))!==null;);return t}function $s(t,e){return $s=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},$s(t,e)}function fh(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ni(t);if(e){var i=Ni(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ph(this,n)}}function ph(t,e){if(e&&(Vs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ks(t)}function Ks(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ni(t){return Ni=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ni(t)}function Cf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var zt,Rf,Ci=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&$s(o,c)})(i,t);var e,n,r=fh(i);function i(){var o;sh(this,i);for(var c=arguments.length,l=new Array(c),p=0;p<c;p++)l[p]=arguments[p];return Cf(Ks(o=r.call.apply(r,[this].concat(l))),"modelType",Gt.LINE_EDGE),o}return e=i,(n=[{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.line;return Mf(Mf({},_a(Ni(i.prototype),"getEdgeStyle",this).call(this)),wn(o))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&Nf(e.prototype,n),i}(Ws);function Zs(t){return Zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zs(t)}function hh(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||function(n,r){if(n){if(typeof n=="string")return hu(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return hu(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function hu(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qs(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Js(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qs(Object(n),!0).forEach(function(r){el(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qs(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qs(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function If(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function du(){return du=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=dh(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},du.apply(this,arguments)}function dh(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Xo(t))!==null;);return t}function wa(t,e){return wa=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},wa(t,e)}function jc(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Xo(t);if(e){var i=Xo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yh(this,n)}}function yh(t,e){if(e&&(Zs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ri(t)}function Ri(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xo(t){return Xo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Xo(t)}function el(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function En(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(c){o[c]=r[c]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(c,l){return l(t,e,c)||c},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Sc=(zt=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&wa(o,c)})(i,t);var e,n,r=jc(i);function i(){var o;If(this,i);for(var c=arguments.length,l=new Array(c),p=0;p<c;p++)l[p]=arguments[p];return el(Ri(o=r.call.apply(r,[this].concat(l))),"modelType",Gt.POLYLINE_EDGE),el(Ri(o),"draggingPointList",void 0),Qs(Ri(o),"dbClickPosition",Rf,Ri(o)),o}return e=i,(n=[{key:"initEdgeData",value:function(o){this.offset=30,du(Xo(i.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.polyline;return Js(Js({},du(Xo(i.prototype),"getEdgeStyle",this).call(this)),wn(o))}},{key:"getTextPosition",value:function(){var o,c=(o=this.text)===null||o===void 0?void 0:o.value;if(this.dbClickPosition&&!c){var l=this.dbClickPosition;return{x:l.x,y:l.y}}var p=di(this.points),O=hh(Hf(p),2),w=O[0],A=O[1];return{x:(w.x+A.x)/2,y:(w.y+A.y)/2}}},{key:"getAfterAnchor",value:function(o,c,l){var p,O;return l.forEach(function(w){var A;o===vn.HORIZONTAL?A=Math.abs(c.y-w.y):o===vn.VERTICAL&&(A=Math.abs(c.x-w.x)),(!O||O>A)&&(O=A,p=w)}),p}},{key:"getCrossPoint",value:function(o,c,l){var p;return o===vn.HORIZONTAL?p={x:l.x,y:c.y}:o===vn.VERTICAL&&(p={x:c.x,y:l.y}),p}},{key:"removeCrossPoints",value:function(o,c,l){var p=l.map(function(ge){return ge});if(o===1){var O=p[o],w=p[c],A=p[o-1];if(sl(A,O,this.sourceNode)){if(ll(O,w,this.sourceNode)){var D=Vn(O,w,this.sourceNode);D&&(p[o]=D,p.splice(o-1,1),o--,c--)}}else this.sourceNode.anchors.forEach(function(ge){(ge.x===A.x&&ge.x===O.x||ge.y===A.y&&ge.y===O.y)&&Yn(ge.x,ge.y,O.x,O.y)<Yn(A.x,A.y,O.x,O.y)&&(p[o-1]=ge)})}if(c===l.length-2){var F=p[o],Z=p[c],te=p[c+1];if(sl(Z,te,this.targetNode)){if(ll(F,Z,this.targetNode)){var ye=Vn(F,Z,this.targetNode);ye&&(p[c]=ye,p.splice(c+1,1))}}else this.targetNode.anchors.forEach(function(ge){(ge.x===te.x&&ge.x===Z.x||ge.y===te.y&&ge.y===Z.y)&&Yn(ge.x,ge.y,Z.x,Z.y)<Yn(te.x,te.y,Z.x,Z.y)&&(p[c+1]=ge)})}return p}},{key:"getDraggingPoints",value:function(o,c,l,p,O){var w=O.map(function(F){return F}),A=this.getAfterAnchor(o,l,p),D=this.getCrossPoint(o,l,A);return c==="start"?(w.unshift(D),w.unshift(A)):(w.push(D),w.push(A)),w}},{key:"updateCrossPoints",value:function(o){var c=o.map(function(Ce){return Ce}),l=o[0],p=o[1],O=o[c.length-2],w=o[c.length-1],A=this.sourceNode,D=this.targetNode,F=A.modelType,Z=D.modelType,te=rr(l,p),ye=c[0];switch(F){case Gt.RECT_NODE:A.radius!==0&&(Bs(l,A)||(ye=Af(l,te,A)));break;case Gt.CIRCLE_NODE:ye=zs(l,te,A);break;case Gt.ELLIPSE_NODE:ye=Fs(l,te,A);break;case Gt.DIAMOND_NODE:case Gt.POLYGON_NODE:ye=Us(l,te,A)}c[0]=ye;var ge=rr(O,w),we=c[c.length-1];switch(Z){case Gt.RECT_NODE:D.radius!==0&&(Bs(w,D)||(we=Af(w,ge,D)));break;case Gt.CIRCLE_NODE:we=zs(w,ge,D);break;case Gt.ELLIPSE_NODE:we=Fs(w,ge,D);break;case Gt.DIAMOND_NODE:case Gt.POLYGON_NODE:we=Us(w,ge,D)}return c[c.length-1]=we,c}},{key:"getData",value:function(){var o=du(Xo(i.prototype),"getData",this).call(this),c=this.pointsList.map(function(l){return{x:l.x,y:l.y}});return Object.assign({},o,{pointsList:c})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(o){return"".concat(o.x,",").concat(o.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var o=mu({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=o,this.points=o.map(function(c){return"".concat(c.x,",").concat(c.y)}).join(" ")}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,c){this.startPoint.x+=o,this.startPoint.y+=c,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveEndPoint",value:function(o,c){this.endPoint.x+=o,this.endPoint.y+=c,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draggingPointList=this.pointsList.map(function(o){return o})}},{key:"dragAppendSimple",value:function(o,c){this.isDragging=!0;var l=o.start,p=o.end,O=o.startIndex,w=o.endIndex,A=o.direction,D=this.pointsList,F=D;return A===vn.HORIZONTAL?(D[O]={x:l.x,y:l.y+c.y},D[w]={x:p.x,y:p.y+c.y},F=this.pointsList.map(function(Z){return Z})):A===vn.VERTICAL&&(D[O]={x:l.x+c.x,y:l.y},D[w]={x:p.x+c.x,y:p.y},F=this.pointsList.map(function(Z){return Z})),this.updatePointsAfterDrag(F),this.draggingPointList=F,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},D[O]),end:Object.assign({},D[w]),startIndex:O,endIndex:w,direction:A}}},{key:"dragAppend",value:function(o,c){this.isDragging=!0;var l=o.start,p=o.end,O=o.startIndex,w=o.endIndex,A=o.direction,D=this.pointsList;if(A===vn.HORIZONTAL){D[O]={x:l.x,y:l.y+c.y},D[w]={x:p.x,y:p.y+c.y};var F=this.pointsList.map(function(Ze){return Ze});if(O!==0&&w!==this.pointsList.length-1&&(F=this.removeCrossPoints(O,w,F)),O===0){var Z={x:l.x,y:l.y+c.y};if(!Dr(Z,this.sourceNode)){var te=this.sourceNode.anchors;F=this.getDraggingPoints(A,"start",Z,te,F)}}if(w===this.pointsList.length-1){var ye={x:p.x,y:p.y+c.y};if(!Dr(ye,this.targetNode)){var ge=this.targetNode.anchors;F=this.getDraggingPoints(A,"end",ye,ge,F)}}this.updatePointsAfterDrag(F),this.draggingPointList=F}else if(A===vn.VERTICAL){D[O]={x:l.x+c.x,y:l.y},D[w]={x:p.x+c.x,y:p.y};var we=this.pointsList.map(function(Ze){return Ze});if(O!==0&&w!==this.pointsList.length-1&&(we=this.removeCrossPoints(O,w,we)),O===0){var Ce={x:l.x+c.x,y:l.y};if(!Dr(Ce,this.sourceNode)){var $e=this.sourceNode.anchors;we=this.getDraggingPoints(A,"start",Ce,$e,we)}}if(w===this.pointsList.length-1){var Je={x:p.x+c.x,y:p.y};if(!Dr(Je,this.targetNode)){var bt=this.targetNode.anchors;we=this.getDraggingPoints(A,"end",Je,bt,we)}}this.updatePointsAfterDrag(we),this.draggingPointList=we}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},D[O]),end:Object.assign({},D[w]),startIndex:O,endIndex:w,direction:A}}},{key:"dragAppendEnd",value:function(){if(this.draggingPointList){var o=bu(di(this.points));this.pointsList=o.map(function(p){return p}),this.draggingPointList=[];var c=o[0];this.startPoint=Object.assign({},c);var l=o[o.length-1];this.endPoint=Object.assign({},l)}this.isDragging=!1}},{key:"updatePointsAfterDrag",value:function(o){var c=this.updateCrossPoints(o);this.points=c.map(function(l){return"".concat(l.x,",").concat(l.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var c=o.startPoint,l=o.endPoint,p=o.sourceNode,O=o.targetNode,w=mu({x:c.x,y:c.y},{x:l.x,y:l.y},p,O,this.offset||0);this.pointsList=w,this.initPoints()}}])&&Lf(e.prototype,n),i}(Ws),Rf=En(zt.prototype,"dbClickPosition",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),En(zt.prototype,"initPoints",[f.k],Object.getOwnPropertyDescriptor(zt.prototype,"initPoints"),zt.prototype),En(zt.prototype,"updatePoints",[f.k],Object.getOwnPropertyDescriptor(zt.prototype,"updatePoints"),zt.prototype),En(zt.prototype,"updateStartPoint",[f.k],Object.getOwnPropertyDescriptor(zt.prototype,"updateStartPoint"),zt.prototype),En(zt.prototype,"moveStartPoint",[f.k],Object.getOwnPropertyDescriptor(zt.prototype,"moveStartPoint"),zt.prototype),En(zt.prototype,"updateEndPoint",[f.k],Object.getOwnPropertyDescriptor(zt.prototype,"updateEndPoint"),zt.prototype),En(zt.prototype,"moveEndPoint",[f.k],Object.getOwnPropertyDescriptor(zt.prototype,"moveEndPoint"),zt.prototype),En(zt.prototype,"dragAppendStart",[f.k],Object.getOwnPropertyDescriptor(zt.prototype,"dragAppendStart"),zt.prototype),En(zt.prototype,"dragAppendSimple",[f.k],Object.getOwnPropertyDescriptor(zt.prototype,"dragAppendSimple"),zt.prototype),En(zt.prototype,"dragAppend",[f.k],Object.getOwnPropertyDescriptor(zt.prototype,"dragAppend"),zt.prototype),En(zt.prototype,"dragAppendEnd",[f.k],Object.getOwnPropertyDescriptor(zt.prototype,"dragAppendEnd"),zt.prototype),En(zt.prototype,"updatePointsAfterDrag",[f.k],Object.getOwnPropertyDescriptor(zt.prototype,"updatePointsAfterDrag"),zt.prototype),En(zt.prototype,"getAdjustStart",[f.k],Object.getOwnPropertyDescriptor(zt.prototype,"getAdjustStart"),zt.prototype),En(zt.prototype,"getAdjustEnd",[f.k],Object.getOwnPropertyDescriptor(zt.prototype,"getAdjustEnd"),zt.prototype),En(zt.prototype,"updateAfterAdjustStartAndEnd",[f.k],Object.getOwnPropertyDescriptor(zt.prototype,"updateAfterAdjustStartAndEnd"),zt.prototype),zt),yu=function(t){var e=t.start,n=t.end,r=t.offset,i=t.verticalLength,o=t.type,c={leftX:0,leftY:0,rightX:0,rightY:0},l=Math.atan((n.y-e.y)/(n.x-e.x)),p=Math.atan(r/i),O=Math.sqrt(i*i+r*r);return o==="start"?n.x>=e.x?(c.leftX=e.x+O*Math.sin(l+p),c.leftY=e.y-O*Math.cos(l+p),c.rightX=e.x-O*Math.sin(l-p),c.rightY=e.y+O*Math.cos(l-p)):(c.leftX=e.x-O*Math.sin(l+p),c.leftY=e.y+O*Math.cos(l+p),c.rightX=e.x+O*Math.sin(l-p),c.rightY=e.y-O*Math.cos(l-p)):o==="end"&&(n.x>=e.x?(c.leftX=n.x+O*Math.sin(l-p),c.leftY=n.y-O*Math.cos(l-p),c.rightX=n.x-O*Math.sin(l+p),c.rightY=n.y+O*Math.cos(l+p)):(c.leftX=n.x-O*Math.sin(l-p),c.leftY=n.y+O*Math.cos(l-p),c.rightX=n.x+O*Math.sin(l+p),c.rightY=n.y-O*Math.cos(l+p))),c},Ii={x:1,y:0,z:0};function Bt(t,e,n,r,i){for(var o=function(Z){if(Z<0||Z>1)throw new RangeError('The value range of parameter "t" is [0,1]');return{x:t.x*Math.pow(1-Z,3)+3*e.x*Z*Math.pow(1-Z,2)+3*n.x*Math.pow(Z,2)*(1-Z)+r.x*Math.pow(Z,3),y:t.y*Math.pow(1-Z,3)+3*e.y*Z*Math.pow(1-Z,2)+3*n.y*Math.pow(Z,2)*(1-Z)+r.y*Math.pow(Z,3)}},c=0,l=2,p=r.x,O=r.y,w=r;c<i&&l<50;){var A=w=o(1-l/100),D=A.x,F=A.y;c=Yn(p,O,D,F),l++}return w}function zf(t){var e=Math.hypot(t.x,t.y);return{x:t.x/e,y:t.y/e,z:0}}function wr(t){return r=function(o,c){return o.x*c.y-o.y*c.x}(e=Ii,n=t),i=Math.acos(function(o,c){var l=[o.x,o.y,o.z];return[c.x,c.y,c.z].reduce(function(p,O,w){return p+O*l[w]})}(zf(e),zf(n))),r>=0?i:-i;var e,n,r,i}function Rn(t){return t*(180/Math.PI)}function Ho(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ho(Object(n),!0).forEach(function(r){tl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ho(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Go(t){return function(e){if(Array.isArray(e))return kn(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||An(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ac(t){return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ac(t)}function Li(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||An(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function An(t,e){if(t){if(typeof t=="string")return kn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kn(t,e):void 0}}function kn(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Bf=function(t,e){var n;switch(t.type){case"line":default:n=new Ci(t,e);break;case"polyline":n=new Sc(t,e)}return n},nl=function(t,e){return 2*Math.abs(t.centerX-e.centerX)<t.width+e.width&&2*Math.abs(t.centerY-e.centerY)<t.height+e.height},Yo=function(t){var e=[],n={};return t.forEach(function(r){var i="".concat(r.x,"-").concat(r.y);r.id=i,n[i]=r}),Object.keys(n).forEach(function(r){e.push(n[r])}),e},rl=function(t,e){var n=[t,{x:t.x,y:e.y},e];return Yo(n)},xa=function(t,e){return t.width===0&&t.height===0?t:{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}},vu=function(t,e){var n=Math.abs(t.x-e.centerX),r=Math.abs(t.y-e.centerY);return n/e.width>r/e.height?vn.HORIZONTAL:vn.VERTICAL},ar=function(t,e,n){return vu(n,e)===vn.HORIZONTAL?{x:n.x>t.centerX?t.maxX:t.minX,y:n.y}:{x:n.x,y:n.y>t.centerY?t.maxY:t.minY}},hi=function(t,e){var n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY),i=Math.max(t.maxX,e.maxX),o=Math.max(t.maxY,e.maxY);return{centerX:(n+i)/2,centerY:(r+o)/2,minX:n,minY:r,maxX:i,maxY:o,height:o-r,width:i-n}},Ea=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=[],r=[];t.forEach(function(w){n.push(w.x),r.push(w.y)});var i=Math.min.apply(Math,n),o=Math.max.apply(Math,n),c=Math.min.apply(Math,r),l=Math.max.apply(Math,r),p=o-i,O=l-c;return e&&(p+=e,O+=e),{centerX:(i+o)/2,centerY:(c+l)/2,maxX:o,maxY:l,minX:i,minY:c,x:(i+o)/2,y:(c+l)/2,height:O,width:p}},gu=function(t){var e=t.minX,n=t.minY,r=t.maxX,i=t.maxY;return[{x:e,y:n},{x:r,y:n},{x:r,y:i},{x:e,y:i}]},ja=function(t,e){var n=t.x,r=t.y;return n<e.minX||n>e.maxX||r<e.minY||r>e.maxY},To=function(t,e){return e<t.minX||e>t.maxX?[]:[{x:e,y:t.minY},{x:e,y:t.maxY}]},Ut=function(t,e){return e<t.minY||e>t.maxY?[]:[{x:t.minX,y:e},{x:t.maxX,y:e}]},ol=function(t,e){return To(t,e.x).concat(Ut(t,e.y))},xr=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},il=function(t,e){var n=0;return e.forEach(function(r){r&&(t.x===r.x&&(n+=-2),t.y===r.y&&(n+=-2))}),n},cn=function(t,e,n,r,i){return xr(t,e)+xr(t,n)+il(t,[e,n,r,i])},Ff=function t(e,n,r,i,o){o||(o=0),e.unshift(n[i]),r[i]&&r[i]!==i&&o<=100&&t(e,n,r,r[i],o+1)},al=function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)},Wo=function(t,e,n,r){var i=e.x-t.x,o=e.y-t.y,c=r.x-n.x,l=r.y-n.y,p=(-o*(t.x-n.x)+i*(t.y-n.y))/(-c*o+i*l),O=(c*(t.y-n.y)-l*(t.x-n.x))/(-c*o+i*l);return p>=0&&p<=1&&O>=0&&O<=1},ul=function(t,e,n){if(n.width===0&&n.height===0)return!1;var r=Li(gu(n),4),i=r[0],o=r[1],c=r[2],l=r[3];return Wo(t,e,i,o)||Wo(t,e,i,l)||Wo(t,e,o,c)||Wo(t,e,c,l)},Uf=function(t,e,n,r){var i=[];return t.forEach(function(o){o!==e&&(o.x!==e.x&&o.y!==e.y||ul(o,e,n)||ul(o,e,r)||i.push(o))}),Yo(i)},Xf=function(t,e,n,r,i,o,c){var l=[],p=[e],O={},w={},A={};w[e.id]=0,A[e.id]=cn(e,n,e);var D={};t.forEach(function(te){D[te.id]=te});for(var F=function(){var te=void 0,ye=1/0;if(p.forEach(function(we){A[we.id]<ye&&(ye=A[we.id],te=we)}),te===n){var ge=[];return Ff(ge,D,O,n.id),{v:ge}}al(p,te),l.push(te),Uf(t,te,r,i).forEach(function(we){if(l.indexOf(we)===-1){p.indexOf(we)===-1&&p.push(we);var Ce=A[te.id]+xr(te,we);w[we.id]&&Ce>=w[we.id]||(O[we.id]=te.id,w[we.id]=Ce,A[we.id]=w[we.id]+cn(we,n,e,o,c))}})};p.length;){var Z=F();if(Ac(Z)==="object")return Z.v}return[e,n]},cl=function(t){return Ur(t)},bu=function(t){for(var e=1;e<t.length-1;){var n=t[e-1],r=t[e],i=t[e+1];n.x===r.x&&r.x===i.x||n.y===r.y&&r.y===i.y?t.splice(e,1):e++}return t},mu=function(t,e,n,r,i){var o=cl(n),c=cl(r),l=xa(o,i),p=xa(c,i),O=ar(l,o,t),w=ar(p,c,e);if(nl(l,p)){var A=fl(t,e,O,w);return[t,O].concat(Go(A),[w,e])}var D=Ea([O,w]),F=hi(l,D),Z=hi(p,D),te=[];te=(te=te.concat(gu(F))).concat(gu(Z));var ye={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[D,F,Z].forEach(function(we){te=te.concat(ol(we,ye).filter(function(Ce){return ja(Ce,l)&&ja(Ce,p)}))}),[{x:O.x,y:w.y},{x:w.x,y:O.y}].forEach(function(we){ja(we,l)&&ja(we,p)&&te.push(we)}),te.unshift(O),te.push(w),te=Yo(te);var ge=Xf(te,O,w,o,c,t,e);return ge.unshift(t),ge.push(e),ge.length>2&&(ge=bu(ge)),Yo(ge)},Hf=function(t){var e;if(t.length===1)e=[t[0],t[0]];else if(t.length>=2){for(var n=t[0],r=t[1],i=Yn(n.x,n.y,r.x,r.y),o=1;o<t.length-1;o++){var c=t[o],l=t[o+1],p=Yn(c.x,c.y,l.x,l.y);p>i&&(i=p,n=c,r=l)}e=[n,r]}return e},sl=function(t,e,n){var r=Dr(t,n),i=Dr(e,n);return r&&i},ll=function(t,e,n){var r=Dr(t,n),i=Dr(e,n);return!(r&&i)&&(r||i)},Vn=function(t,e,n){for(var r,i,o=Ur(n),c=gu(o),l=0;l<c.length;l++)Wo(t,e,c[l],c[(l+1)%c.length])&&(i=[c[l],c[(l+1)%c.length]]);return i&&(r=function(p,O,w,A){var D=(O.y-p.y)*(A.x-w.x)-(p.x-O.x)*(w.y-A.y);if(D===0)return!1;var F=((O.x-p.x)*(A.x-w.x)*(w.y-p.y)+(O.y-p.y)*(A.x-w.x)*p.x-(A.y-w.y)*(O.x-p.x)*w.x)/D,Z=-((O.y-p.y)*(A.y-w.y)*(w.x-p.x)+(O.x-p.x)*(A.y-w.y)*p.y-(A.x-w.x)*(O.y-p.y)*w.y)/D;return(F-p.x)*(F-O.x)<=0&&(Z-p.y)*(Z-O.y)<=0&&(F-w.x)*(F-A.x)<=0&&(Z-w.y)*(Z-A.y)<=0&&{x:F,y:Z}}(t,e,i[0],i[1])),r},rr=function(t,e){var n;return t.x===e.x?n=vn.VERTICAL:t.y===e.y&&(n=vn.HORIZONTAL),n},di=function(t){var e=t.split(" "),n=[];return e&&e.forEach(function(r){var i=Li(r.split(","),2),o=i[0],c=i[1];n.push({x:Number(o),y:Number(c)})}),n},fl=function(t,e,n,r){var i=[];if(rr(t,n)===rr(e,r))t.y===n.y?(i.push({x:n.x,y:(n.y+r.y)/2}),i.push({x:r.x,y:(n.y+r.y)/2})):(i.push({x:(n.x+r.x)/2,y:n.y}),i.push({x:(n.x+r.x)/2,y:r.y}));else{var o={x:n.x,y:r.y},c=_t(o,t,n),l=_t(o,e,r);if(c||l)o={x:r.x,y:n.y};else{var p=Gf(o,t,n),O=Gf(o,e,r);p&&O&&(o={x:r.x,y:n.y})}i.push(o)}return i},Gf=function(t,e,n){return t.x===e.x&&t.x===n.x||t.y===e.y&&t.y===n.y},pl=function(t){if(!t)return 0;for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);t.match(/[A-Z]/)?e+=1.5:e+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return e},kc=null,Yf=function(t,e){kc||(kc=document.createElement("canvas"));var n=kc.getContext("2d");return n.font=e,n.measureText(t).width},hl=function(t){var e,n=t.start,r=t.end;if(n.x===r.x&&n.y===r.y)e="";else{var i={start:n,end:r,offset:10,verticalLength:5},o=yu(Pc(Pc({},i),{},{type:"start"})),c=yu(Pc(Pc({},i),{},{type:"end"}));e="M".concat(o.leftX," ").concat(o.leftY,` 
    L`).concat(o.rightX," ").concat(o.rightY,` 
    L`).concat(c.rightX," ").concat(c.rightY,`
    L`).concat(c.leftX," ").concat(c.leftY," z")}return{d:e,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},yi=function(t){var e=t.start,n=t.end,r=t.sourceNode,i=t.targetNode,o=t.offset,c=Ur(r),l=Ur(i),p=xa(c,o),O=xa(l,o);return{sNext:ar(p,c,e),ePre:ar(O,l,n)}},Tc=function(t){var e=t.replace(/M/g,"").replace(/C/g,",").split(",");return[Ou(e[0]),Ou(e[1]),Ou(e[2]),Ou(e[3])]},Ou=function(t){var e=Li(t.replace(/(^\s*)/g,"").split(" "),2);return{x:+e[0],y:+e[1]}},Dc=function(t,e){var n=Li(t,4);return[Bt(n[0],n[1],n[2],n[3],e),t[3]]},dl=function(t,e){for(var n,r=t.x,i=t.y,o=di(e),c=Number.MAX_SAFE_INTEGER,l=[],p=0;p<o.length;p++)l.push({start:o[p],end:o[(p+1)%o.length]});if(l.forEach(function(D){var F=D.start,Z=D.end;if(F.x===Z.x){var te={x:F.x,y:i};if(_t(te,F,Z)){var ye=Math.abs(F.x-r);ye<c&&(c=ye,n=te)}}else if(F.y===Z.y){var ge={x:r,y:F.y};if(_t(ge,F,Z)){var we=Math.abs(F.y-i);we<c&&(c=we,n=ge)}}}),!n){var O=l[0],w=O.start,A=O.end;n={x:w.x+(A.x-w.x)/2,y:w.y+(A.y-w.y)/2}}return n},Wf=function(t){return zo(t,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},yl=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))};function Vf(t,e){return typeof e!="function"?function(n,r,i){return Object.assign({type:t.edgeType},i)}:function(n,r,i){var o=e(n,r,i);return o?typeof o=="string"?Object.assign({},i,{type:o}):Object.assign({type:o},i):{type:t.edgeType}}}u(208);var vl=function(){};function vh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function In(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ao=function(){function t(r){var i=this,o=r.onDragStart,c=o===void 0?vl:o,l=r.onDragging,p=l===void 0?vl:l,O=r.onDragEnd,w=O===void 0?vl:O,A=r.eventType,D=A===void 0?"":A,F=r.eventCenter,Z=F===void 0?null:F,te=r.step,ye=te===void 0?1:te,ge=r.isStopPropagation,we=ge===void 0||ge,Ce=r.model,$e=Ce===void 0?null:Ce,Je=r.data,bt=Je===void 0?null:Je;(function(Ze,ft){if(!(Ze instanceof ft))throw new TypeError("Cannot call a class as a function")})(this,t),In(this,"onDragStart",void 0),In(this,"onDragging",void 0),In(this,"onDragEnd",void 0),In(this,"step",void 0),In(this,"isStopPropagation",void 0),In(this,"isDragging",!1),In(this,"isStartDragging",!1),In(this,"startX",0),In(this,"startY",0),In(this,"sumDeltaX",0),In(this,"sumDeltaY",0),In(this,"eventType",void 0),In(this,"eventCenter",void 0),In(this,"model",void 0),In(this,"data",void 0),In(this,"startTime",void 0),In(this,"handleMouseDown",function(Ze){var ft,et,Vt,qt=(ft=window)===null||ft===void 0?void 0:ft.document;if(Ze.button===0){i.isStopPropagation&&Ze.stopPropagation(),i.isStartDragging=!0,i.startX=Ze.clientX,i.startY=Ze.clientY,qt.addEventListener("mousemove",i.handleMouseMove,!1),qt.addEventListener("mouseup",i.handleMouseUp,!1);var Tt=(et=i.model)===null||et===void 0?void 0:et.getData();(Vt=i.eventCenter)===null||Vt===void 0||Vt.emit(lt["".concat(i.eventType,"_MOUSEDOWN")],{e:Ze,data:i.data||Tt}),i.startTime=new Date().getTime()}}),In(this,"handleMouseMove",function(Ze){if(i.isStopPropagation&&Ze.stopPropagation(),i.isStartDragging&&(i.sumDeltaX+=Ze.clientX-i.startX,i.sumDeltaY+=Ze.clientY-i.startY,i.startX=Ze.clientX,i.startY=Ze.clientY,i.step<=1||Math.abs(i.sumDeltaX)>i.step||Math.abs(i.sumDeltaY)>i.step)){var ft,et=i.sumDeltaX%i.step,Vt=i.sumDeltaY%i.step,qt=i.sumDeltaX-et,Tt=i.sumDeltaY-Vt;i.sumDeltaX=et,i.sumDeltaY=Vt;var nn,Un=(ft=i.model)===null||ft===void 0?void 0:ft.getData();i.isDragging||((nn=i.eventCenter)===null||nn===void 0||nn.emit(lt["".concat(i.eventType,"_DRAGSTART")],{e:Ze,data:i.data||Un}),i.onDragStart({event:Ze})),i.isDragging=!0,Promise.resolve().then(function(){var Xn,jr;i.onDragging({deltaX:qt,deltaY:Tt,event:Ze}),(Xn=i.eventCenter)===null||Xn===void 0||Xn.emit(lt["".concat(i.eventType,"_MOUSEMOVE")],{e:Ze,data:i.data||Un}),(jr=i.eventCenter)===null||jr===void 0||jr.emit(lt["".concat(i.eventType,"_DRAG")],{e:Ze,data:i.data||Un})})}}),In(this,"handleMouseUp",function(Ze){var ft=window.document;i.isStartDragging=!1,i.isStopPropagation&&Ze.stopPropagation(),Promise.resolve().then(function(){var et,Vt,qt;ft.removeEventListener("mousemove",i.handleMouseMove,!1),ft.removeEventListener("mouseup",i.handleMouseUp,!1);var Tt=(et=i.model)===null||et===void 0?void 0:et.getData();(Vt=i.eventCenter)===null||Vt===void 0||Vt.emit(lt["".concat(i.eventType,"_MOUSEUP")],{e:Ze,data:i.data||Tt}),i.isDragging&&(i.isDragging=!1,i.onDragEnd({event:Ze}),(qt=i.eventCenter)===null||qt===void 0||qt.emit(lt["".concat(i.eventType,"_DROP")],{e:Ze,data:i.data||Tt}))})}),In(this,"cancelDrag",function(){var Ze,ft=(Ze=window)===null||Ze===void 0?void 0:Ze.document;ft.removeEventListener("mousemove",i.handleMouseMove,!1),ft.removeEventListener("mouseup",i.handleMouseUp,!1),i.onDragEnd({event:null}),i.isDragging=!1}),this.onDragStart=c,this.onDragging=p,this.onDragEnd=w,this.step=ye,this.isStopPropagation=we,this.eventType=D,this.eventCenter=Z,this.model=$e,this.data=bt}var e,n;return e=t,(n=[{key:"setStep",value:function(r){this.step=r}},{key:"setModel",value:function(r){this.model=r}}])&&vh(e.prototype,n),t}();function Mc(t){return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(t)}function gl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bl(t,e,n){return e&&Nc(t.prototype,e),n&&Nc(t,n),t}function ml(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wu(t,e)}function hr(t){var e=Cc();return function(){var n,r=xu(t);if(e){var i=xu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ol(this,n)}}function Ol(t,e){if(e&&(Mc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zi(t)}function zi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _l(t){var e=typeof Map=="function"?new Map:void 0;return _l=function(n){if(n===null||(r=n,Function.toString.call(r).indexOf("[native code]")===-1))return n;var r;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return _u(n,arguments,xu(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),wu(i,n)},_l(t)}function _u(t,e,n){return _u=Cc()?Reflect.construct:function(r,i,o){var c=[null];c.push.apply(c,i);var l=new(Function.bind.apply(r,c));return o&&wu(l,o.prototype),l},_u.apply(null,arguments)}function Cc(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wu(t,e){return wu=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},wu(t,e)}function xu(t){return xu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},xu(t)}function wl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xl(t,e){return t instanceof or&&e instanceof or}var $f=function(t){ml(n,t);var e=hr(n);function n(r,i,o){var c;return gl(this,n),wl(zi(c=e.call(this,3)),"x",void 0),wl(zi(c),"y",void 0),wl(zi(c),"z",void 0),c[0]=r,c[1]=i,c[2]=o,c.x=r,c.y=i,c.z=o,Object.setPrototypeOf(zi(c),n.prototype),c}return bl(n,[{key:"add",value:function(r){if(xl(this,r))return new or(this.x+r.x,this.y+r.y);var i=this.z+r.z;return new Sa((this.x+r.x)/i,(this.y+r.y)/i)}},{key:"subtract",value:function(r){if(xl(this,r))return new or(this.x-r.x,this.y-r.y);var i=this.z-r.z;return i===0?new or(this.x-r.x,this.y-r.y):new Sa((this.x-r.x)/i,(this.y-r.y)/i)}}]),n}(_l(Array)),or=function(t){ml(n,t);var e=hr(n);function n(r,i,o){var c;return gl(this,n),c=e.call(this,r,i,o??0),Object.setPrototypeOf(zi(c),n.prototype),c}return bl(n,[{key:"toString",value:function(){return"Vector"}},{key:"dot",value:function(r){var i=this;return r.reduce(function(o,c,l){return o+c*i[l]})}},{key:"cross",value:function(r){return new n(this.y*r.z-this.z*r.y,this.z*r.x-this.x*r.z,this.x*r.y-this.y*r.x)}},{key:"getLength",value:function(){return Math.hypot(this.x,this.y)}},{key:"normalize",value:function(){var r=this.getLength();return new n(this.x/r,this.y/r)}},{key:"crossZ",value:function(r){return this.x*r.y-this.y*r.x}},{key:"angle",value:function(r){var i=this.crossZ(r),o=Math.acos(this.normalize().dot(r.normalize()));return i>=0?o:-o}}]),n}($f),Sa=function(t){ml(n,t);var e=hr(n);function n(r,i){var o;return gl(this,n),o=e.call(this,r,i,1),Object.setPrototypeOf(zi(o),n.prototype),o}return bl(n,[{key:"toString",value:function(){return"Point"}}]),n}($f);u(67),u(218);function Eu(t){return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eu(t)}function El(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||Zf(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Kf(t){return function(e){if(Array.isArray(e))return jl(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Zf(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Zf(t,e){if(t){if(typeof t=="string")return jl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jl(t,e):void 0}}function jl(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rc(t,e,n){return e&&qf(t.prototype,e),n&&qf(t,n),t}function Ic(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ee(t,e)}function a(t){var e=B();return function(){var n,r=ae(t);if(e){var i=ae(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){if(e&&(Eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y(t)}function y(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x(t){var e=typeof Map=="function"?new Map:void 0;return x=function(n){if(n===null||(r=n,Function.toString.call(r).indexOf("[native code]")===-1))return n;var r;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return k(n,arguments,ae(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),ee(i,n)},x(t)}function k(t,e,n){return k=B()?Reflect.construct:function(r,i,o){var c=[null];c.push.apply(c,i);var l=new(Function.bind.apply(r,c));return o&&ee(l,o.prototype),l},k.apply(null,arguments)}function B(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ee(t,e){return ee=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ee(t,e)}function ae(t){return ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ae(t)}function Oe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var V,Ne,Ue,ct,pt,jt,Le,He,At,it,kt,Nt,$t,dt=function(t){Ic(n,t);var e=a(n);function n(){var r;Pa(this,n);for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return Oe(y(r=e.call(this,o.length)),"rows",void 0),Oe(y(r),"columns",void 0),r.fill(new Array(3)),o.forEach(function(l,p){r[p]=l}),r.columns=o[0].length,r.rows=o.length,Object.setPrototypeOf(y(r),n.prototype),r}return Rc(n,[{key:"getRow",value:function(r){return this[r]}},{key:"getColumn",value:function(r){return Kf(this.map(function(i){return i[r]}))}},{key:"transpose",value:function(){for(var r=[],i=0;i<this.columns;i++)r.push(this.getColumn(i));return k(n,r)}},{key:"cross",value:function(r){var i=new Array(this.rows).fill("").map(function(){return[]});if(this.columns===r.rows)for(var o=0;o<this.rows;o++)for(var c=this.getRow(o),l=function(O){var w=r.getColumn(O);i[o][O]=c.reduce(function(A,D,F){return A+D*w[F]},0)},p=0;p<r.columns;p++)l(p);return k(n,Kf(i))}},{key:"to2D",value:function(){return this.map(function(r){return[r[0],r[1]]})}},{key:"toPoints",value:function(){return this.map(function(r){return new Sa(r[0],r[1])})}},{key:"toString",value:function(){var r=El(this[0],2),i=r[0],o=r[1],c=El(this[1],2),l=c[0],p=c[1],O=El(this[2],2),w=O[0],A=O[1];return"matrix(".concat(i," ").concat(o," ").concat(l," ").concat(p," ").concat(w," ").concat(A,")")}},{key:"translate",value:function(r,i){return this.cross(new ur(r,i))}},{key:"rotate",value:function(r){return this.cross(new St(r))}},{key:"scale",value:function(r,i){return this.cross(new $n(r,i))}}]),n}(x(Array)),St=function(t){Ic(n,t);var e=a(n);function n(r){var i;return Pa(this,n),i=e.call(this,new or(+Math.cos(r).toFixed(2),+Math.sin(r).toFixed(2),0),new or(-Math.sin(r).toFixed(2),+Math.cos(r).toFixed(2),0),new or(0,0,1)),Object.setPrototypeOf(y(i),n.prototype),i}return Rc(n,[{key:"inverse",value:function(){return this.transpose()}}]),n}(dt),$n=function(t){Ic(n,t);var e=a(n);function n(r,i){var o;return Pa(this,n),Oe(y(o=e.call(this,new or(r,0,0),new or(0,i,0),new or(0,0,1))),"sx",void 0),Oe(y(o),"sy",void 0),o.sx=r,o.sy=i,Object.setPrototypeOf(y(o),n.prototype),o}return Rc(n,[{key:"inverse",value:function(){return new n(1/this.sx,1/this.sy)}}]),n}(dt),ur=function(t){Ic(n,t);var e=a(n);function n(r,i){var o;return Pa(this,n),Oe(y(o=e.call(this,new or(1,0,0),new or(0,1,0),new or(r,i,1))),"tx",void 0),Oe(y(o),"ty",void 0),o.tx=r,o.ty=i,Object.setPrototypeOf(y(o),n.prototype),o}return Rc(n,[{key:"inverse",value:function(){return new n(-this.tx,-this.ty)}}]),n}(dt),uo={node:!1,edge:!1},Qn={node:!0,edge:!0};function Do(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function co(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Do(Object(n),!0).forEach(function(r){Hr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Do(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vo(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||Bi(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $o(t){return function(e){if(Array.isArray(e))return Ko(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Bi(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Bi(t,e){if(t){if(typeof t=="string")return Ko(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ko(t,e):void 0}}function Ko(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ju(t){return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ju(t)}function Xr(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Lc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yt(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(c){o[c]=r[c]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(c,l){return l(t,e,c)||c},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Su,Sl=200,Pu=(V=function(){function t(r){(function(F,Z){if(!(F instanceof Z))throw new TypeError("Cannot call a class as a function")})(this,t),Hr(this,"rootEl",void 0),Xr(this,"width",Ne,this),Xr(this,"height",Ue,this),Hr(this,"theme",void 0),Hr(this,"eventCenter",void 0),Hr(this,"modelMap",new Map),Hr(this,"topElement",void 0),Hr(this,"animation",void 0),Hr(this,"idGenerator",void 0),Hr(this,"edgeGenerator",void 0),Hr(this,"nodeMoveRules",[]),Hr(this,"customTrajectory",void 0),Xr(this,"edgeType",ct,this),Xr(this,"nodes",pt,this),Xr(this,"edges",jt,this),Xr(this,"overlapMode",Le,this),Xr(this,"background",He,this),Xr(this,"transformModel",At,this),Xr(this,"editConfigModel",it,this),Xr(this,"gridSize",kt,this),Xr(this,"partial",Nt,this),Xr(this,"fakerNode",$t,this);var i,o=r.container,c=r.background,l=c===void 0?{}:c,p=r.grid,O=r.idGenerator,w=r.edgeGenerator,A=r.animation,D=r.customTrajectory;this.background=l,ju(p)==="object"&&(this.gridSize=p.size),this.rootEl=o,this.editConfigModel=new hs(r),this.eventCenter=new dc,this.transformModel=new nf(this.eventCenter,r),this.theme=su(r.style),this.edgeType=r.edgeType||"polyline",this.width=r.width,this.height=r.height,this.animation=(i=A)&&typeof i!="boolean"?cu(wn(uo),i):wn(i===!0?Qn:uo),this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=O,this.customTrajectory=D,this.edgeGenerator=Vf(this,w),this.width=r.width||this.rootEl.getBoundingClientRect().width,this.height=r.height||this.rootEl.getBoundingClientRect().height,this.flowId=io()}var e,n;return e=t,n=[{key:"nodesMap",get:function(){return this.nodes.reduce(function(r,i,o){return r[i.id]={index:o,model:i},r},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(r,i,o){return r[i.id]={index:o,model:i},r},{})}},{key:"modelsMap",get:function(){return[].concat($o(this.nodes),$o(this.edges)).reduce(function(r,i){return r[i.id]=i,r},{})}},{key:"sortElements",get:function(){var r=[];this.nodes.forEach(function(O){return r.push(O)}),this.edges.forEach(function(O){return r.push(O)}),r=r.sort(function(O,w){return O.zIndex-w.zIndex});for(var i=[],o=[-200,-200],c=[this.width+Sl,this.height+Sl],l=0;l<r.length;l++){var p=r[l];p.visible&&(!this.partial||p.isSelected||this.isElementInArea(p,o,c,!1,!1))&&i.push(p)}return i}},{key:"textEditElement",get:function(){var r=this.nodes.find(function(o){return o.state===un.TEXT_EDIT}),i=this.edges.find(function(o){return o.state===un.TEXT_EDIT});return r||i}},{key:"selectElements",get:function(){var r=new Map;return this.nodes.forEach(function(i){i.isSelected&&r.set(i.id,i)}),this.edges.forEach(function(i){i.isSelected&&r.set(i.id,i)}),r}},{key:"selectNodes",get:function(){var r=[];return this.nodes.forEach(function(i){i.isSelected&&r.push(i)}),r}},{key:"getAreaElement",value:function(r,i){var o=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],c=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],l=arguments.length>4&&arguments[4]!==void 0&&arguments[4],p=[],O=[];this.nodes.forEach(function(D){return O.push(D)}),this.edges.forEach(function(D){return O.push(D)});for(var w=0;w<O.length;w++){var A=O[w];l&&!A.visible||!this.isElementInArea(A,r,i,o,c)||p.push(A)}return p}},{key:"getModel",value:function(r){return this.modelMap.get(r)}},{key:"getNodeModelById",value:function(r){var i;return this.fakerNode&&r===this.fakerNode.id?this.fakerNode:(i=this.nodesMap[r])===null||i===void 0?void 0:i.model}},{key:"getPointByClient",value:function(r){var i=r.x,o=r.y,c=this.rootEl.getBoundingClientRect(),l={x:i-c.left,y:o-c.top},p=Vo(this.transformModel.HtmlPointToCanvasPoint([l.x,l.y]),2);return{domOverlayPosition:l,canvasOverlayPosition:{x:p[0],y:p[1]}}}},{key:"isElementInArea",value:function(r,i,o){var c=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],l=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(r.BaseType===Fn.NODE){for(var p=Ur(r=r),O=p.minX,w=p.minY,A=p.maxX,D=p.maxY,F=[{x:O,y:w},{x:A,y:w},{x:A,y:D},{x:O,y:D}],Z=l,te=0;te<F.length;te++){var ye=F[te],ge=ye.x,we=ye.y,Ce=this.transformModel.CanvasPointToHtmlPoint([ge,we]),$e=Vo(Ce,2);if(ge=$e[0],we=$e[1],gc([ge,we],i,o)!==l){Z=!l;break}}return Z}if(r.BaseType===Fn.EDGE){var Je=r=r,bt=Je.startPoint,Ze=Je.endPoint,ft=this.transformModel.CanvasPointToHtmlPoint([bt.x,bt.y]),et=this.transformModel.CanvasPointToHtmlPoint([Ze.x,Ze.y]),Vt=gc(ft,i,o),qt=gc(et,i,o);return c?Vt&&qt:Vt||qt}return!1}},{key:"graphDataToModel",value:function(r){var i=this;if(this.width&&this.height||this.resize(),!r)return this.nodes=[],void(this.edges=[]);r.nodes?this.nodes=Zu(r.nodes,function(o){var c=i.getModel(o.type);if(!c)throw new Error("找不到".concat(o.type,"对应的节点。"));var l=o.x,p=o.y;return l&&p&&(o.x=Po(l,i.gridSize),o.y=Po(p,i.gridSize),ju(o.text)==="object"&&(o.text.x-=va(l,i.gridSize),o.text.y-=va(p,i.gridSize))),new c(o,i)}):this.nodes=[],r.edges?this.edges=Zu(r.edges,function(o){var c=i.getModel(o.type);if(!c)throw new Error("找不到".concat(o.type,"对应的边。"));return new c(o,i)}):this.edges=[]}},{key:"modelToGraphData",value:function(){var r=[];this.edges.forEach(function(o){var c=o.getData();c&&!o.virtual&&r.push(c)});var i=[];return this.nodes.forEach(function(o){var c=o.getData();c&&!o.virtual&&i.push(c)}),{nodes:i,edges:r}}},{key:"modelToHistoryData",value:function(){for(var r=!1,i=[],o=0;o<this.nodes.length;o++){var c=this.nodes[o];if(c.isDragging){r=!0;break}i.push(c.getHistoryData())}if(r)return!1;for(var l=!1,p=[],O=0;O<this.edges.length;O++){var w=this.edges[O];if(w.isDragging){l=!0;break}p.push(w.getHistoryData())}return!l&&{nodes:i,edges:p}}},{key:"getEdgeModelById",value:function(r){var i;return(i=this.edgesMap[r])===null||i===void 0?void 0:i.model}},{key:"getElement",value:function(r){return this.modelsMap[r]}},{key:"getNodeEdges",value:function(r){for(var i=[],o=0;o<this.edges.length;o++){var c=this.edges[o],l=this.edges[o].sourceNodeId===r,p=this.edges[o].targetNodeId===r;(l||p)&&i.push(c)}return i}},{key:"getSelectElements",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],i=this.selectElements,o={nodes:[],edges:[]};return i.forEach(function(c){if(c.BaseType===Fn.NODE&&o.nodes.push(c.getData()),c.BaseType===Fn.EDGE){var l=c.getData(),p=i.get(l.sourceNodeId)&&i.get(l.targetNodeId);(r||p)&&o.edges.push(l)}}),o}},{key:"updateAttributes",value:function(r,i){this.getElement(r).updateAttributes(i)}},{key:"changeNodeId",value:function(r,i){return i||(i=io()),this.nodesMap[i]?"":this.nodesMap[r]?(this.edges.forEach(function(o){o.sourceNodeId===r&&(o.sourceNodeId=i),o.targetNodeId===r&&(o.targetNodeId=i)}),this.nodesMap[r].model.id=i,this.nodesMap[i]=this.nodesMap[r],i):""}},{key:"changeEdgeId",value:function(r,i){return i||(i=io()),this.edgesMap[i]?"":this.edgesMap[r]?(this.edges.forEach(function(o){o.id===r&&o.changeEdgeId(i)}),i):""}},{key:"setFakerNode",value:function(r){this.fakerNode=r}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(r,i){return this.modelMap.set(r,i)}},{key:"toFront",value:function(r){var i,o,c,l=((i=this.nodesMap[r])===null||i===void 0?void 0:i.model)||((o=this.edgesMap[r])===null||o===void 0?void 0:o.model);l&&(this.overlapMode===Pn.DEFAULT&&((c=this.topElement)===null||c===void 0||c.setZIndex(),l.setZIndex(9999),this.topElement=l),this.overlapMode===Pn.INCREASE&&this.setElementZIndex(r,"top"))}},{key:"setElementZIndex",value:function(r,i){var o,c,l,p=((o=this.nodesMap[r])===null||o===void 0?void 0:o.model)||((c=this.edgesMap[r])===null||c===void 0?void 0:c.model);p&&(typeof i=="number"&&(l=i),i==="top"&&(l=Gs()),i==="bottom"&&(l=--Tf),p.setZIndex(l))}},{key:"deleteNode",value:function(r){var i=this.nodesMap[r].model.getData();this.deleteEdgeBySource(r),this.deleteEdgeByTarget(r),this.nodes.splice(this.nodesMap[r].index,1),this.eventCenter.emit(lt.NODE_DELETE,{data:i})}},{key:"addNode",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:lt.NODE_ADD,o=arguments.length>2?arguments[2]:void 0,c=bn(r);c.id&&this.nodesMap[r.id]&&delete c.id;var l=this.getModel(c.type);if(!l)throw new Error("找不到".concat(c.type,"对应的节点，请确认是否已注册此类型节点。"));c.x=Po(c.x,this.gridSize),c.y=Po(c.y,this.gridSize);var p=new l(c,this);this.nodes.push(p);var O=p.getData(),w={data:O};return o&&(w.e=o),this.eventCenter.emit(i,w),p}},{key:"cloneNode",value:function(r){var i=this.getNodeModelById(r),o=i.getData();o.x+=30,o.y+=30,delete o.id,o.text&&(o.text.x+=30,o.text.y+=30);var c=this.addNode(o);return c.setSelected(!0),i.setSelected(!1),c.getData()}},{key:"moveNode",value:function(r,i,o){var c=arguments.length>3&&arguments[3]!==void 0&&arguments[3],l=this.nodesMap[r];if(l){var p=l.model,O=p.getMoveDistance(i,o,c),w=Vo(O,2);i=w[0],o=w[1],this.moveEdge(r,i,o)}}},{key:"moveNode2Coordinate",value:function(r,i,o){var c=arguments.length>3&&arguments[3]!==void 0&&arguments[3],l=this.nodesMap[r];if(l){var p=l.model,O=p.x,w=p.y,A=i-O,D=o-w;this.moveNode(r,A,D,c)}}},{key:"editText",value:function(r){this.setElementStateById(r,un.TEXT_EDIT)}},{key:"addEdge",value:function(r){var i=bn(r),o=i.type;o||(o=this.edgeType),i.id&&this.edgesMap[i.id]&&delete i.id;var c=this.getModel(o);if(!c)throw new Error("找不到".concat(o,"对应的边，请确认是否已注册此类型边。"));var l=new c(co(co({},i),{},{type:o}),this),p=l.getData();return this.edges.push(l),this.eventCenter.emit(lt.EDGE_ADD,{data:p}),l}},{key:"moveEdge",value:function(r,i,o){for(var c=0;c<this.edges.length;c++){var l=this.edges[c],p=l.textPosition,O=p.x,w=p.y,A=this.edges[c].sourceNodeId===r,D=this.edges[c].targetNodeId===r;A&&l.moveStartPoint(i,o),D&&l.moveEndPoint(i,o),(A||D)&&this.handleEdgeTextMove(l,O,w)}}},{key:"handleEdgeTextMove",value:function(r,i,o){var c;if(r.customTextPosition===!0)r.resetTextPosition();else if(r.modelType===Gt.POLYLINE_EDGE&&(c=r.text)!==null&&c!==void 0&&c.value){var l=r.text,p=dl(l,r.points);r.moveText(p.x-l.x,p.y-l.y)}else{var O=r.textPosition,w=O.x,A=O.y;r.moveText(w-i,A-o)}}},{key:"deleteEdgeBySourceAndTarget",value:function(r,i){for(var o=0;o<this.edges.length;o++)if(this.edges[o].sourceNodeId===r&&this.edges[o].targetNodeId===i){var c=this.edges[o].getData();this.edges.splice(o,1),o--,this.eventCenter.emit(lt.EDGE_DELETE,{data:c})}}},{key:"deleteEdgeById",value:function(r){if(this.edgesMap[r]){var i=this.edgesMap[r].index,o=this.edgesMap[r].model.getData();this.edges.splice(i,1),this.eventCenter.emit(lt.EDGE_DELETE,{data:o})}}},{key:"deleteEdgeBySource",value:function(r){for(var i=0;i<this.edges.length;i++)if(this.edges[i].sourceNodeId===r){var o=this.edges[i].getData();this.edges.splice(i,1),i--,this.eventCenter.emit(lt.EDGE_DELETE,{data:o})}}},{key:"deleteEdgeByTarget",value:function(r){for(var i=0;i<this.edges.length;i++)if(this.edges[i].targetNodeId===r){var o=this.edges[i].getData();this.edges.splice(i,1),i--,this.eventCenter.emit(lt.EDGE_DELETE,{data:o})}}},{key:"setElementStateById",value:function(r,i,o){this.nodes.forEach(function(c){c.id===r?c.setElementState(i,o):c.setElementState(un.DEFAULT)}),this.edges.forEach(function(c){c.id===r?c.setElementState(i,o):c.setElementState(un.DEFAULT)})}},{key:"updateText",value:function(r,i){this.nodes.forEach(function(o){o.id===r&&o.updateText(i)}),this.edges.forEach(function(o){o.id===r&&o.updateText(i)})}},{key:"selectNodeById",value:function(r){var i,o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];o||this.clearSelectElements();var c=(i=this.nodesMap[r])===null||i===void 0?void 0:i.model;c==null||c.setSelected(!0)}},{key:"selectEdgeById",value:function(r){var i,o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];o||this.clearSelectElements();var c=(i=this.edgesMap[r])===null||i===void 0?void 0:i.model;c==null||c.setSelected(!0)}},{key:"selectElementById",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];i||this.clearSelectElements();var o=this.getElement(r);o==null||o.setSelected(!0)}},{key:"clearSelectElements",value:function(){var r;this.selectElements.forEach(function(i){i==null||i.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===Pn.DEFAULT&&((r=this.topElement)===null||r===void 0||r.setZIndex())}},{key:"moveNodes",value:function(r,i,o){for(var c=this,l=arguments.length>3&&arguments[3]!==void 0&&arguments[3],p=r.reduce(function($e,Je){var bt=c.nodesMap[Je].model.getMoveDistance(i,o,l);return $e[Je]=bt,$e},{}),O=0;O<this.edges.length;O++){var w=this.edges[O],A=w.textPosition,D=A.x,F=A.y,Z=p[w.sourceNodeId],te=void 0,ye=void 0;if(Z){var ge=Vo(Z,2);te=ge[0],ye=ge[1],w.moveStartPoint(te,ye)}var we=p[w.targetNodeId];if(we){var Ce=Vo(we,2);te=Ce[0],ye=Ce[1],w.moveEndPoint(te,ye)}(Z||we)&&this.handleEdgeTextMove(w,D,F)}}},{key:"addNodeMoveRules",value:function(r){this.nodeMoveRules.includes(r)||this.nodeMoveRules.push(r)}},{key:"setDefaultEdgeType",value:function(r){this.edgeType=r}},{key:"changeNodeType",value:function(r,i){var o=this.getNodeModelById(r);if(o){var c=o.getData();c.type=i;var l=this.getModel(i);if(!l)throw new Error("找不到".concat(i,"对应的节点，请确认是否已注册此类型节点。"));var p=new l(c,this);this.nodes.splice(this.nodesMap[r].index,1,p),this.getNodeEdges(r).forEach(function(O){if(O.sourceNodeId===r){var w=Xs(p,O.startPoint,p.width,p.height);O.updateStartPoint(w)}if(O.targetNodeId===r){var A=Xs(p,O.endPoint,p.width,p.height);O.updateEndPoint(A)}})}}},{key:"changeEdgeType",value:function(r,i){var o=this.getEdgeModelById(r);if(o&&o.type!==i){var c=o.getData();c.type=i;var l=this.getModel(i);if(!l)throw new Error("找不到".concat(i,"对应的节点，请确认是否已注册此类型节点。"));delete c.pointsList;var p=new l(c,this);this.edges.splice(this.edgesMap[r].index,1,p)}}},{key:"getNodeIncomingEdge",value:function(r){var i=[];return this.edges.forEach(function(o){o.targetNodeId===r&&i.push(o)}),i}},{key:"getNodeOutgoingEdge",value:function(r){var i=[];return this.edges.forEach(function(o){o.sourceNodeId===r&&i.push(o)}),i}},{key:"getNodeIncomingNode",value:function(r){var i=this,o=[];return this.edges.forEach(function(c){c.targetNodeId===r&&o.push(i.nodesMap[c.sourceNodeId].model)}),o}},{key:"getNodeOutgoingNode",value:function(r){var i=this,o=[];return this.edges.forEach(function(c){c.sourceNodeId===r&&o.push(i.nodesMap[c.targetNodeId].model)}),o}},{key:"setTheme",value:function(r){this.theme=su(co(co({},this.theme),r))}},{key:"resize",value:function(r,i){this.width=r||this.rootEl.getBoundingClientRect().width,this.height=i||this.rootEl.getBoundingClientRect().height,!this.width||this.height}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var r=this.nodes,i=[],o=[];r.forEach(function(A){var D=A.x,F=A.y,Z=A.width,te=A.height,ye=A.getNodeStyle().strokeWidth,ge=ye===void 0?0:ye,we=D+Z/2+ge,Ce=D-Z/2-ge,$e=F+te/2+ge,Je=F-te/2-ge;i=i.concat([we,Ce].filter(function(bt){return!Number.isNaN(bt)})),o=o.concat([$e,Je].filter(function(bt){return!Number.isNaN(bt)}))});var c=Math.min.apply(Math,$o(i)),l=Math.max.apply(Math,$o(i)),p=Math.min.apply(Math,$o(o)),O=l-c||0,w=Math.max.apply(Math,$o(o))-p||0;return{virtualRectWidth:O,virtualRectHeight:w,virtualRectCenterPositionX:c+O/2,virtualRectCenterPositionY:p+w/2}}},{key:"translateCenter",value:function(){var r=this.nodes,i=this.width,o=this.height,c=this.rootEl,l=this.transformModel;if(r.length){var p=i||c.clientWidth,O=o||c.clientHeight,w=this.getVirtualRectSize(),A=w.virtualRectCenterPositionX,D=w.virtualRectCenterPositionY;l.focusOn(A,D,p,O)}}},{key:"fitView",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,o=this.nodes,c=this.width,l=this.height,p=this.rootEl,O=this.transformModel;if(o.length){var w=c||p.clientWidth,A=l||p.clientHeight,D=this.getVirtualRectSize(),F=D.virtualRectWidth,Z=D.virtualRectHeight,te=D.virtualRectCenterPositionX,ye=D.virtualRectCenterPositionY,ge=(F+i)/w,we=(Z+r)/A,Ce=0;Ce=1/Math.max(ge,we);var $e=[w/2,A/2];O.zoom(Ce,$e),O.focusOn(te,ye,w,A)}}},{key:"openEdgeAnimation",value:function(r){this.getEdgeModelById(r).openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(r){this.getEdgeModelById(r).closeEdgeAnimation()}}],n&&Lc(e.prototype,n),t}(),Ne=yt(V.prototype,"width",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ue=yt(V.prototype,"height",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ct=yt(V.prototype,"edgeType",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pt=yt(V.prototype,"nodes",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),jt=yt(V.prototype,"edges",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Le=yt(V.prototype,"overlapMode",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Pn.DEFAULT}}),He=yt(V.prototype,"background",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),At=yt(V.prototype,"transformModel",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=yt(V.prototype,"editConfigModel",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kt=yt(V.prototype,"gridSize",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Nt=yt(V.prototype,"partial",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$t=yt(V.prototype,"fakerNode",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yt(V.prototype,"nodesMap",[f.m],Object.getOwnPropertyDescriptor(V.prototype,"nodesMap"),V.prototype),yt(V.prototype,"edgesMap",[f.m],Object.getOwnPropertyDescriptor(V.prototype,"edgesMap"),V.prototype),yt(V.prototype,"modelsMap",[f.m],Object.getOwnPropertyDescriptor(V.prototype,"modelsMap"),V.prototype),yt(V.prototype,"sortElements",[f.m],Object.getOwnPropertyDescriptor(V.prototype,"sortElements"),V.prototype),yt(V.prototype,"textEditElement",[f.m],Object.getOwnPropertyDescriptor(V.prototype,"textEditElement"),V.prototype),yt(V.prototype,"selectElements",[f.m],Object.getOwnPropertyDescriptor(V.prototype,"selectElements"),V.prototype),yt(V.prototype,"selectNodes",[f.m],Object.getOwnPropertyDescriptor(V.prototype,"selectNodes"),V.prototype),yt(V.prototype,"setFakerNode",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"setFakerNode"),V.prototype),yt(V.prototype,"removeFakerNode",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"removeFakerNode"),V.prototype),yt(V.prototype,"setModel",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"setModel"),V.prototype),yt(V.prototype,"toFront",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"toFront"),V.prototype),yt(V.prototype,"setElementZIndex",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"setElementZIndex"),V.prototype),yt(V.prototype,"deleteNode",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"deleteNode"),V.prototype),yt(V.prototype,"addNode",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"addNode"),V.prototype),yt(V.prototype,"cloneNode",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"cloneNode"),V.prototype),yt(V.prototype,"moveNode",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"moveNode"),V.prototype),yt(V.prototype,"moveNode2Coordinate",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"moveNode2Coordinate"),V.prototype),yt(V.prototype,"editText",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"editText"),V.prototype),yt(V.prototype,"addEdge",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"addEdge"),V.prototype),yt(V.prototype,"moveEdge",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"moveEdge"),V.prototype),yt(V.prototype,"deleteEdgeBySourceAndTarget",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"deleteEdgeBySourceAndTarget"),V.prototype),yt(V.prototype,"deleteEdgeById",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"deleteEdgeById"),V.prototype),yt(V.prototype,"deleteEdgeBySource",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"deleteEdgeBySource"),V.prototype),yt(V.prototype,"deleteEdgeByTarget",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"deleteEdgeByTarget"),V.prototype),yt(V.prototype,"setElementStateById",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"setElementStateById"),V.prototype),yt(V.prototype,"updateText",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"updateText"),V.prototype),yt(V.prototype,"selectNodeById",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"selectNodeById"),V.prototype),yt(V.prototype,"selectEdgeById",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"selectEdgeById"),V.prototype),yt(V.prototype,"selectElementById",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"selectElementById"),V.prototype),yt(V.prototype,"clearSelectElements",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"clearSelectElements"),V.prototype),yt(V.prototype,"moveNodes",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"moveNodes"),V.prototype),yt(V.prototype,"setDefaultEdgeType",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"setDefaultEdgeType"),V.prototype),yt(V.prototype,"changeNodeType",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"changeNodeType"),V.prototype),yt(V.prototype,"changeEdgeType",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"changeEdgeType"),V.prototype),yt(V.prototype,"getNodeIncomingEdge",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"getNodeIncomingEdge"),V.prototype),yt(V.prototype,"getNodeOutgoingEdge",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"getNodeOutgoingEdge"),V.prototype),yt(V.prototype,"getNodeIncomingNode",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"getNodeIncomingNode"),V.prototype),yt(V.prototype,"getNodeOutgoingNode",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"getNodeOutgoingNode"),V.prototype),yt(V.prototype,"setTheme",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"setTheme"),V.prototype),yt(V.prototype,"resize",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"resize"),V.prototype),yt(V.prototype,"clearData",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"clearData"),V.prototype),yt(V.prototype,"translateCenter",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"translateCenter"),V.prototype),yt(V.prototype,"fitView",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"fitView"),V.prototype),yt(V.prototype,"openEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"openEdgeAnimation"),V.prototype),yt(V.prototype,"closeEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(V.prototype,"closeEdgeAnimation"),V.prototype),V),zc=Pu;function gh(t){return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gh(t)}function bh(){return bh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bh.apply(this,arguments)}function qb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mh(t,e){return mh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},mh(t,e)}function Jb(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Jf(t);if(e){var i=Jf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Qb(this,n)}}function Qb(t,e){if(e&&(gh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vi(t)}function vi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jf(t){return Jf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Jf(t)}function Fi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var tv,em=Qo(Su=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&mh(o,c)})(i,t);var e,n,r=Jb(i);function i(o){var c;(function(w,A){if(!(w instanceof A))throw new TypeError("Cannot call a class as a function")})(this,i),Fi(vi(c=r.call(this)),"stepDrag",void 0),Fi(vi(c),"stepScrollX",0),Fi(vi(c),"stepScrollY",0),Fi(vi(c),"onDragging",function(w){var A=w.deltaX,D=w.deltaY;c.setState({isDragging:!0});var F=c.props.graphModel,Z=F.transformModel;F.editConfigModel.stopMoveGraph!==!0&&Z.translate(A,D)}),Fi(vi(c),"onDragEnd",function(){c.setState({isDragging:!1})}),Fi(vi(c),"zoomHandler",function(w){var A=c.props,D=A.graphModel,F=D.editConfigModel,Z=D.transformModel,te=D.gridSize,ye=A.graphModel,ge=w.deltaX,we=w.deltaY;if(F.stopScrollGraph||w.ctrlKey===!0){if(!F.stopZoomGraph){w.preventDefault();var Ce=ye.getPointByClient({x:w.clientX,y:w.clientY}).canvasOverlayPosition,$e=Ce.x,Je=Ce.y;Z.zoom(w.deltaY<0,[$e,Je])}}else{if(w.preventDefault(),c.stepScrollX+=ge,c.stepScrollY+=we,Math.abs(c.stepScrollX)>=te){var bt=c.stepScrollX%te,Ze=c.stepScrollX-bt;Z.translate(-Ze*Z.SCALE_X,0),c.stepScrollX=bt}if(Math.abs(c.stepScrollY)>=te){var ft=c.stepScrollY%te,et=c.stepScrollY-ft;Z.translate(0,-et*Z.SCALE_Y),c.stepScrollY=ft}}}),Fi(vi(c),"clickHandler",function(w){if(w.target.getAttribute("name")==="canvas-overlay"){var A=c.props.graphModel;A.selectElements.size>0&&A.clearSelectElements(),A.eventCenter.emit(lt.BLANK_CLICK,{e:w})}}),Fi(vi(c),"handleContextMenu",function(w){if(w.target.getAttribute("name")==="canvas-overlay"){w.preventDefault();var A=c.props.graphModel,D=A.getPointByClient({x:w.clientX,y:w.clientY});A.eventCenter.emit(lt.BLANK_CONTEXTMENU,{e:w,position:D})}}),Fi(vi(c),"mouseDownHandler",function(w){var A=c.props.graphModel,D=A.eventCenter,F=A.editConfigModel,Z=A.transformModel.SCALE_X,te=A.gridSize,ye=w.target,ge=!F.adjustEdge&&!F.adjustNodePosition;(ye.getAttribute("name")==="canvas-overlay"||ge)&&(F.stopMoveGraph!==!0?(c.stepDrag.setStep(te*Z),c.stepDrag.handleMouseDown(w)):D.emit(lt.BLANK_MOUSEDOWN,{e:w}),c.clickHandler(w))});var l=o.graphModel,p=l.gridSize,O=l.eventCenter;return c.stepDrag=new ao({onDragging:c.onDragging,onDragEnd:c.onDragEnd,step:p,eventType:"BLANK",isStopPropagation:!1,eventCenter:O,model:null}),c.state={isDragging:!1},c}return e=i,(n=[{key:"render",value:function(){var o=this.props.graphModel.transformModel.getTransformStyle().transform,c=this.props,l=c.children,p=c.dnd,O=this.state.isDragging;return Object(le.g)("svg",bh({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:O?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},p.eventMap()),Object(le.g)("g",{transform:o},l))}}])&&qb(e.prototype,n),i}(le.a))||Su;function Oh(t){return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oh(t)}function tm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _h(t,e){return _h=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},_h(t,e)}function rm(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Qf(t);if(e){var i=Qf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return om(this,n)}}function om(t,e){if(e&&(Oh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Qf(t){return Qf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Qf(t)}var im=Qo(tv=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&_h(o,c)})(i,t);var e,n,r=rm(i);function i(){return tm(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"componentDidMount",value:function(){this.triggerToolRender()}},{key:"componentDidUpdate",value:function(){this.triggerToolRender()}},{key:"getTools",value:function(){var o=this.props,c=o.tool,l=o.graphModel,p=c.getTools().map(function(O){return Object(le.g)(O,{graphModel:l,logicFlow:c.instance})});return c.components=p,p}},{key:"triggerToolRender",value:function(){var o=this.props,c=o.tool,l=o.graphModel,p=document.querySelector("#ToolOverlay_".concat(l.flowId)),O=c.getInstance();O.components.forEach(function(w){return w(O,p)}),O.components=[]}},{key:"render",value:function(){var o=this.props.graphModel;return Object(le.g)("div",{className:"lf-tool-overlay",id:"ToolOverlay_".concat(o.flowId)},this.getTools())}}])&&nm(e.prototype,n),i}(le.a))||tv;function wh(t){return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wh(t)}function am(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function um(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xh(t,e){return xh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},xh(t,e)}function cm(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ep(t);if(e){var i=ep(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return sm(this,n)}}function sm(t,e){if(e&&(wh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function ep(t){return ep=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ep(t)}var nv,lm=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&xh(o,c)})(i,t);var e,n,r=cm(i);function i(){return am(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){var o=this.props.background;return Object(le.g)("div",{className:"lf-background"},Object(le.g)("div",{style:o,className:"lf-background-area"}))}}])&&um(e.prototype,n),i}(le.a);function Eh(t){return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eh(t)}function fm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jh(t,e){return jh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},jh(t,e)}function hm(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=tp(t);if(e){var i=tp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dm(this,n)}}function dm(t,e){if(e&&(Eh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rv(t)}function rv(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tp(t){return tp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},tp(t)}function ym(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ov=Qo(nv=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&jh(o,c)})(i,t);var e,n,r=hm(i);function i(){var o;fm(this,i);for(var c=arguments.length,l=new Array(c),p=0;p<c;p++)l[p]=arguments[p];return ym(rv(o=r.call.apply(r,[this].concat(l))),"id",io()),o}return e=i,(n=[{key:"renderDot",value:function(){var o=this.props,c=o.config,l=c.color,p=c.thickness,O=p===void 0?2:p,w=o.size,A=o.visible,D=Math.min(Math.max(2,O),w/2),F=1;return A||(F=0),Object(le.g)("rect",{width:D,height:D,rx:D/2,ry:D/2,fill:l,opacity:F})}},{key:"renderMesh",value:function(){var o=this.props,c=o.config,l=c.color,p=c.thickness,O=p===void 0?1:p,w=o.size,A=o.visible,D=Math.min(Math.max(1,O),w/2),F="M ".concat(w," 0 H0 M0 0 V0 ").concat(w),Z=1;return A||(Z=0),Object(le.g)("path",{d:F,stroke:l,strokeWidth:D,opacity:Z})}},{key:"render",value:function(){var o=this.props,c=o.type,l=o.size,p=o.graphModel.transformModel,O=[p.SCALE_X,p.SKEW_Y,p.SKEW_X,p.SCALE_Y,p.TRANSLATE_X,p.TRANSLATE_Y].join(","),w="matrix(".concat(O,")");return Object(le.g)("div",{className:"lf-grid"},Object(le.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(le.g)("defs",null,Object(le.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:w,x:"0",y:"0",width:l,height:l},c==="dot"&&this.renderDot(),c==="mesh"&&this.renderMesh())),Object(le.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&pm(e.prototype,n),i}(le.a))||nv;ov.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},u(53);function Sh(t){return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sh(t)}function vm(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||function(n,r){if(n){if(typeof n=="string")return iv(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return iv(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function iv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var av,Bc=function(t){var e={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(t).forEach(function(n){var r=vm(n,2),i=r[0],o=r[1];(i==="style"||Sh(o)!=="object")&&(e[i]=o)}),Object(le.g)("line",e)};function Ph(t){return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(t)}function uv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function np(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uv(Object(n),!0).forEach(function(r){gm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ah(t,e){return Ah=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ah(t,e)}function Om(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=rp(t);if(e){var i=rp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _m(this,n)}}function _m(t,e){if(e&&(Ph(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function rp(t){return rp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},rp(t)}var cv,wm=Qo(av=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&Ah(o,c)})(i,t);var e,n,r=Om(i);function i(){return bm(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){var o=this.props.snaplineModel,c=o.position,l=o.isShowHorizontal,p=o.isShowVertical,O=o.getStyle(),w=c.x,A=w===void 0?0:w,D=c.y,F=D===void 0?0:D,Z=np(np({x1:-1e5,y1:F,x2:1e5,y2:F},O),{},{stroke:l?O.stroke:"none"}),te=np(np({x1:A,y1:-1e5,x2:A,y2:1e5},O),{},{stroke:p?O.stroke:"none"});return Object(le.g)("g",{className:"lf-snapline"},Object(le.g)(Bc,Z),Object(le.g)(Bc,te))}}])&&mm(e.prototype,n),i}(le.a))||av;function kh(t){return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(t)}function xm(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||function(n,r){if(n){if(typeof n=="string")return sv(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return sv(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function sv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Aa(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=t.className,c=t.radius,l=e-r/2,p=n-i/2,O={};return Object.entries(t).forEach(function(w){var A=xm(w,2),D=A[0],F=A[1];kh(F)!=="object"&&(O[D]=F)}),O.className=o?"lf-basic-shape ".concat(o):"lf-basic-shape",c&&(O.rx=c,O.ry=c),O.x=l,O.y=p,Object(le.g)("rect",O)}function Th(t){return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(t)}function Fc(){return Fc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fc.apply(this,arguments)}function lv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lv(Object(n),!0).forEach(function(r){Em(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Em(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dh(t,e){return Dh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Dh(t,e)}function Pm(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=op(t);if(e){var i=op(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Am(this,n)}}function Am(t,e){if(e&&(Th(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function op(t){return op=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},op(t)}Aa.defaultProps={className:"",radius:""};var pv,km=Qo(cv=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&Dh(o,c)})(i,t);var e,n,r=Pm(i);function i(){return jm(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getNodesOutline",value:function(){var o=this.props.graphModel,c=o.nodes,l=o.editConfigModel,p=l.hoverOutline,O=l.nodeSelectedOutline,w=[];return c.forEach(function(A){if(A.isHovered||A.isSelected){var D=A.isHovered,F=A.isSelected,Z=A.x,te=A.y,ye=A.width,ge=A.height;if(O&&F||p&&D){var we=A.getOutlineStyle(),Ce={};if(Object.keys(we).forEach(function(Je){Je!=="hover"&&(Ce[Je]=we[Je])}),D){var $e=we.hover;Ce=fv(fv({},Ce),$e)}w.push(Object(le.g)(Aa,Fc({transform:A.transform,className:"lf-outline-node",x:Z,y:te,width:ye+10,height:ge+10},Ce)))}}}),w}},{key:"getEdgeOutline",value:function(){for(var o=this.props.graphModel,c=o.edges,l=o.editConfigModel,p=l.edgeSelectedOutline,O=l.hoverOutline,w=[],A=0;A<c.length;A++){var D=c[A];(p&&D.isSelected||O&&D.isHovered)&&(D.modelType===Gt.LINE_EDGE?w.push(this.getLineOutline(D)):D.modelType===Gt.POLYLINE_EDGE?w.push(this.getPolylineOutline(D)):D.modelType===Gt.BEZIER_EDGE&&w.push(this.getBezierOutline(D)))}return w}},{key:"getLineOutline",value:function(o){var c=o.startPoint,l=o.endPoint,p=(c.x+l.x)/2,O=(c.y+l.y)/2,w=Math.abs(c.x-l.x)+10,A=Math.abs(c.y-l.y)+10,D=o.getOutlineStyle();return Object(le.g)(Aa,Fc({className:"lf-outline-edge",x:p,y:O,width:w,height:A},D))}},{key:"getPolylineOutline",value:function(o){var c=o.points,l=di(c),p=Ea(l,8),O=p.x,w=p.y,A=p.width,D=p.height,F=o.getOutlineStyle();return Object(le.g)(Aa,Fc({className:"lf-outline",x:O,y:w,width:A,height:D},F))}},{key:"getBezierOutline",value:function(o){var c=o.path,l=Tc(c),p=Ea(l,8),O=p.x,w=p.y,A=p.width,D=p.height,F=o.getOutlineStyle();return Object(le.g)(Aa,Fc({className:"lf-outline",x:O,y:w,width:A,height:D},F))}},{key:"render",value:function(){return Object(le.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}])&&Sm(e.prototype,n),i}(le.a))||cv;function Mh(t){return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mh(t)}function Tm(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||function(n,r){if(n){if(typeof n=="string")return hv(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return hv(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function hv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Uc(t){var e=t.x,n=e===void 0?0:e,r=t.y,i=r===void 0?0:r,o=t.r,c=o===void 0?4:o,l=t.className,p={cx:n,cy:i,r:c,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(O){var w=Tm(O,2),A=w[0],D=w[1];Mh(D)!=="object"&&(p[A]=D)}),p.className=l?"lf-basic-shape ".concat(l):"lf-basic-shape",Object(le.g)("circle",p)}function Nh(t){return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nh(t)}function Dm(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||function(n,r){if(n){if(typeof n=="string")return dv(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return dv(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function dv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pl(){return Pl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pl.apply(this,arguments)}function yv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gv(t,e,n){return e&&vv(t.prototype,e),n&&vv(t,n),t}function bv(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ch(t,e)}function Ch(t,e){return Ch=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ch(t,e)}function mv(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ap(t);if(e){var i=ap(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Mm(this,n)}}function Mm(t,e){if(e&&(Nh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ip(t)}function ip(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ap(t){return ap=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ap(t)}function Rh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ov,_v=function(t){bv(n,t);var e=mv(n);function n(){var r;return yv(this,n),Rh(ip(r=e.call(this)),"dragHandler",void 0),Rh(ip(r),"onDragging",function(i){var o=i.event,c=r.props,l=c.graphModel,p=c.bezierModel,O=c.type,w=l.getPointByClient({x:o.clientX,y:o.clientY}).canvasOverlayPosition,A=w.x,D=w.y;p.updateAdjustAnchor({x:A,y:D},O),l.eventCenter.emit(lt.EDGE_ADJUST,{data:p.getData()})}),Rh(ip(r),"onDragEnd",function(){r.props.bezierModel.isDragging=!1}),r.dragHandler=new ao({onDragging:r.onDragging,onDragEnd:r.onDragEnd}),r}return gv(n,[{key:"render",value:function(){var r=this,i=this.props.position,o=i.x,c=i.y,l=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object(le.g)(Uc,Pl({className:"lf-bezier-adjust-anchor",x:o,y:c},l,{onMouseDown:function(p){r.dragHandler.handleMouseDown(p)}}))}}]),n}(le.a),Nm=Qo(pv=function(t){bv(n,t);var e=mv(n);function n(){return yv(this,n),e.apply(this,arguments)}return gv(n,[{key:"getBezierAdjust",value:function(r,i){var o=r.path,c=r.id,l=Dm(Tc(o),4),p=l[0],O=l[1],w=l[2],A=l[3],D=r.getEdgeStyle().adjustLine,F=[];return F.push(Object(le.g)(Bc,Pl({x1:p.x,y1:p.y,x2:O.x,y2:O.y},D))),F.push(Object(le.g)(_v,{position:O,bezierModel:r,graphModel:i,key:"".concat(c,"_ePre"),type:"sNext"})),F.push(Object(le.g)(Bc,Pl({x1:A.x,y1:A.y,x2:w.x,y2:w.y},D))),F.push(Object(le.g)(_v,{position:w,bezierModel:r,graphModel:i,key:"".concat(c,"_sNext"),type:"ePre"})),F}},{key:"selectedBezierEdge",value:function(){for(var r=this.props.graphModel,i=r.edges,o=[],c=0;c<i.length;c++){var l=i[c];l.isSelected&&l.modelType===Gt.BEZIER_EDGE&&l.draggable&&o.push(this.getBezierAdjust(l,r))}return o}},{key:"render",value:function(){return Object(le.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(le.a))||pv;function Ih(t){return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ih(t)}function Cm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lh(t,e){return Lh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Lh(t,e)}function Im(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=up(t);if(e){var i=up(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Lm(this,n)}}function Lm(t,e){if(e&&(Ih(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function up(t){return up=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},up(t)}var wv,zm=Qo(Ov=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&Lh(o,c)})(i,t);var e,n,r=Im(i);function i(){return Cm(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){var o=this.props.graphModel.transformModel.getTransformStyle().transform,c=this.props.children;return Object(le.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(le.g)("g",{transform:o},c))}}])&&Rm(e.prototype,n),i}(le.a))||Ov;function zh(t){return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zh(t)}function Bh(){return Bh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bh.apply(this,arguments)}function Bm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fh(t,e){return Fh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Fh(t,e)}function Um(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=cp(t);if(e){var i=cp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Xm(this,n)}}function Xm(t,e){if(e&&(zh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function cp(t){return cp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},cp(t)}var Hm=Qo(wv=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&Fh(o,c)})(i,t);var e,n,r=Um(i);function i(){return Bm(this,i),r.apply(this,arguments)}return e=i,n=[{key:"getComponent",value:function(o,c){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",p=this.props.getView,O=p(o.type);return Object(le.g)(O,{key:o.id,model:o,graphModel:c,overlay:l})}},{key:"render",value:function(){var o=this,c=this.props,l=c.graphModel,p=c.tool,O=c.options,w=c.dnd,A=c.snaplineModel,D={};O.width&&(D.width="".concat(l.width,"px")),O.height&&(D.height="".concat(l.height,"px"));var F=O.grid,Z=l.fakerNode,te=l.editConfigModel.adjustEdge;return Object(le.g)("div",{className:"lf-graph","flow-id":l.flowId,style:D},Object(le.g)(em,{graphModel:l,dnd:w},Object(le.g)("g",{className:"lf-base"},Zu(l.sortElements,function(ye){return o.getComponent(ye,l)})),Z?this.getComponent(Z,l):""),Object(le.g)(zm,{graphModel:l},Object(le.g)(km,{graphModel:l}),te?Object(le.g)(Nm,{graphModel:l}):"",O.snapline!==!1?Object(le.g)(wm,{snaplineModel:A}):""),Object(le.g)(im,{graphModel:l,tool:p}),O.background&&Object(le.g)(lm,{background:O.background}),O.grid&&Object(le.g)(ov,Bh({},F,{graphModel:l})))}}],n&&Fm(e.prototype,n),i}(le.a))||wv,Gm=Hm;function xv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xv(Object(n),!0).forEach(function(r){Ui(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ym(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ui(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Wm=function(){function t(r){var i=this;(function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,t),Ui(this,"nodeConfig",void 0),Ui(this,"lf",void 0),Ui(this,"fakerNode",void 0),Ui(this,"stopDrag",function(){i.nodeConfig=null,window.document.removeEventListener("mouseup",i.stopDrag)}),Ui(this,"dragEnter",function(c){i.nodeConfig&&!i.fakerNode&&(i.fakerNode=i.lf.createFakerNode(sp(sp({},i.nodeConfig),i.clientToLocalPoint({x:c.clientX,y:c.clientY}))))}),Ui(this,"onDragOver",function(c){if(c.preventDefault(),i.fakerNode){var l=i.clientToLocalPoint({x:c.clientX,y:c.clientY}),p=l.x,O=l.y;i.fakerNode.moveTo(p,O);var w=i.fakerNode.getData();i.lf.setNodeSnapLine(w),i.lf.graphModel.eventCenter.emit(lt.NODE_DND_DRAG,{data:w})}return!1}),Ui(this,"onDragLeave",function(){i.fakerNode&&(i.lf.removeNodeSnapLine(),i.lf.graphModel.removeFakerNode(),i.fakerNode=null)}),Ui(this,"onDrop",function(c){i.lf.graphModel&&c&&i.nodeConfig&&(i.lf.addNode(sp(sp({},i.nodeConfig),i.clientToLocalPoint({x:c.clientX,y:c.clientY})),lt.NODE_DND_ADD,c),c.preventDefault(),c.stopPropagation(),i.nodeConfig=null,i.lf.removeNodeSnapLine(),i.lf.graphModel.removeFakerNode(),i.fakerNode=null)});var o=r.lf;this.lf=o}var e,n;return e=t,(n=[{key:"clientToLocalPoint",value:function(r){var i=r.x,o=r.y,c=nu(this.lf.options,["grid","size"]),l=this.lf.graphModel.getPointByClient({x:i,y:o}).canvasOverlayPosition,p=l.x,O=l.y;return{x:Po(p,c),y:Po(O,c)}}},{key:"startDrag",value:function(r){var i=this.lf.graphModel.editConfigModel;i!=null&&i.isSilentMode||(this.nodeConfig=r,window.document.addEventListener("mouseup",this.stopDrag))}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&Ym(e.prototype,n),t}();function Ev(t){var e=t.container,n=t.grid,r=t.width,i=t.height;if(!e)throw new Error("请检查 container 参数是否有效");if(typeof r=="string"||typeof i=="string")throw new Error("width或height不支持传入字符串，请传数字");return n&&(t.grid=Jn({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),Jn({},Sv,t)}var ln,jv,Sv={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function Uh(t){return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uh(t)}function Xh(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Pv(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Pv(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Pv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Av(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Av(Object(n),!0).forEach(function(r){kv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Av(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vm(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function $m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Km(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Al(){return Al=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=Zm(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Al.apply(this,arguments)}function Zm(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=ka(t))!==null;);return t}function Hh(t,e){return Hh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Hh(t,e)}function qm(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ka(t);if(e){var i=ka(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Jm(this,n)}}function Jm(t,e){if(e&&(Uh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fp(t)}function fp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ka(t){return ka=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ka(t)}function kv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zo(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(c){o[c]=r[c]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(c,l){return l(t,e,c)||c},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Gh=(ln=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&Hh(o,c)})(i,t);var e,n,r=qm(i);function i(){var o;$m(this,i);for(var c=arguments.length,l=new Array(c),p=0;p<c;p++)l[p]=arguments[p];return kv(fp(o=r.call.apply(r,[this].concat(l))),"modelType",Gt.BEZIER_EDGE),Vm(fp(o),"path",jv,fp(o)),o}return e=i,(n=[{key:"initEdgeData",value:function(o){this.offset=100,Al(ka(i.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.bezier;return lp(lp({},Al(ka(i.prototype),"getEdgeStyle",this).call(this)),wn(o))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var o=0,c=0;return this.pointsList.forEach(function(l){var p=l.x,O=l.y;o+=p,c+=O}),{x:o/this.pointsList.length,y:c/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var o=Al(ka(i.prototype),"getData",this).call(this),c=this.pointsList.map(function(l){return{x:l.x,y:l.y}});return lp(lp({},o),{},{pointsList:c})}},{key:"getControls",value:function(){var o=this.startPoint,c=this.endPoint;return yi({start:o,end:c,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(o){var c=Xh(o,4),l=c[0],p=c[1],O=c[2],w=c[3];return"M ".concat(l.x," ").concat(l.y,`
    C `).concat(p.x," ").concat(p.y,`,
    `).concat(O.x," ").concat(O.y,`,
    `).concat(w.x," ").concat(w.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var o=this.getControls(),c=o.sNext,l=o.ePre;this.updatePath(c,l)}},{key:"updatePath",value:function(o,c){o=wn(o),c=wn(c);var l={x:this.startPoint.x,y:this.startPoint.y},p={x:this.endPoint.x,y:this.endPoint.y};if(!o||!c){var O=this.getControls();o=O.sNext,c=O.ePre}this.pointsList=[l,o,c,p],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,c){this.startPoint.x+=o,this.startPoint.y+=c;var l=Xh(this.pointsList,3),p=l[1],O=l[2];p.x+=o,p.y+=c,this.updatePath(p,O)}},{key:"moveEndPoint",value:function(o,c){this.endPoint.x+=o,this.endPoint.y+=c;var l=Xh(this.pointsList,3),p=l[1],O=l[2];O.x+=o,O.y+=c,this.updatePath(p,O)}},{key:"updateAdjustAnchor",value:function(o,c){c==="sNext"?this.pointsList[1]=o:c==="ePre"&&(this.pointsList[2]=o),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var c=o.startPoint,l=o.endPoint,p=o.sourceNode,O=o.targetNode,w=yi({start:c,end:l,sourceNode:p,targetNode:O,offset:this.offset}),A=w.sNext,D=w.ePre;this.pointsList=[c,A,D,l],this.initPoints()}}])&&Km(e.prototype,n),i}(Ws),jv=Zo(ln.prototype,"path",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Zo(ln.prototype,"initPoints",[f.k],Object.getOwnPropertyDescriptor(ln.prototype,"initPoints"),ln.prototype),Zo(ln.prototype,"updatePoints",[f.k],Object.getOwnPropertyDescriptor(ln.prototype,"updatePoints"),ln.prototype),Zo(ln.prototype,"updateStartPoint",[f.k],Object.getOwnPropertyDescriptor(ln.prototype,"updateStartPoint"),ln.prototype),Zo(ln.prototype,"updateEndPoint",[f.k],Object.getOwnPropertyDescriptor(ln.prototype,"updateEndPoint"),ln.prototype),Zo(ln.prototype,"moveStartPoint",[f.k],Object.getOwnPropertyDescriptor(ln.prototype,"moveStartPoint"),ln.prototype),Zo(ln.prototype,"moveEndPoint",[f.k],Object.getOwnPropertyDescriptor(ln.prototype,"moveEndPoint"),ln.prototype),Zo(ln.prototype,"updateAdjustAnchor",[f.k],Object.getOwnPropertyDescriptor(ln.prototype,"updateAdjustAnchor"),ln.prototype),Zo(ln.prototype,"getAdjustStart",[f.k],Object.getOwnPropertyDescriptor(ln.prototype,"getAdjustStart"),ln.prototype),Zo(ln.prototype,"getAdjustEnd",[f.k],Object.getOwnPropertyDescriptor(ln.prototype,"getAdjustEnd"),ln.prototype),Zo(ln.prototype,"updateAfterAdjustStartAndEnd",[f.k],Object.getOwnPropertyDescriptor(ln.prototype,"updateAfterAdjustStartAndEnd"),ln.prototype),ln),Ge,Tv,Dv,Mv,Nv,Cv,Rv,Iv,Lv,zv,Bv,Fv,Uv,Xv,Hv,Gv,Yv,Wv,Vv,$v,Kv,Zv,qv,Qm=function(t){return t==null};function e0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||Jv(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Yh(t){return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yh(t)}function Jv(t,e){if(t){if(typeof t=="string")return Qv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qv(t,e):void 0}}function Qv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eg(Object(n),!0).forEach(function(r){qr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kn(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function t0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xt(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(c){o[c]=r[c]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(c,l){return l(t,e,c)||c},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Xi,tg,Hi=(Ge=function(){function t(r,i){(function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),qr(this,"id",""),Kn(this,"type",Tv,this),Kn(this,"x",Dv,this),Kn(this,"y",Mv,this),Kn(this,"text",Nv,this),Kn(this,"properties",Cv,this),Kn(this,"_width",Rv,this),Kn(this,"_height",Iv,this),Kn(this,"anchorsOffset",Lv,this),Kn(this,"isSelected",zv,this),Kn(this,"isHovered",Bv,this),Kn(this,"isShowAnchor",Fv,this),Kn(this,"isDragging",Uv,this),Kn(this,"isHitable",Xv,this),Kn(this,"draggable",Hv,this),Kn(this,"visible",Gv,this),Kn(this,"enableRotate",Yv,this),qr(this,"virtual",!1),qr(this,"graphModel",void 0),Kn(this,"zIndex",Wv,this),Kn(this,"state",Vv,this),Kn(this,"autoToFront",$v,this),Kn(this,"style",Kv,this),Kn(this,"transform",Zv,this),Kn(this,"_rotate",qv,this),qr(this,"BaseType",Fn.NODE),qr(this,"modelType",Gt.NODE),qr(this,"additionStateData",void 0),qr(this,"targetRules",[]),qr(this,"sourceRules",[]),qr(this,"moveRules",[]),qr(this,"hasSetTargetRules",!1),qr(this,"hasSetSourceRules",!1),this.graphModel=i,this.initNodeData(r),this.setAttributes()}var e,n;return e=t,n=[{key:"width",get:function(){return this._width},set:function(r){this._width=r}},{key:"height",get:function(){return this._height},set:function(r){this._height=r}},{key:"rotate",get:function(){return this._rotate},set:function(r){this._rotate=r;var i=this.x,o=i===void 0?0:i,c=this.y,l=c===void 0?0:c;this.transform=new ur(-o,-l).rotate(r).translate(o,l).toString()}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var i=this.graphModel.idGenerator,o=i&&i(r.type),c=this.createId();r.id=c||o||io()}this.formatText(r),Jn(this,function(l){return zo(l,["id","type","x","y","text","properties","virtual","rotate"])}(r)),this.graphModel.overlapMode===Pn.INCREASE&&(this.zIndex=r.zIndex||Gs())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(r){r.text||(r.text={value:"",x:r.x,y:r.y,draggable:!1,editable:!0}),r.text&&typeof r.text=="string"?r.text={value:r.text,x:r.x,y:r.y,draggable:!1,editable:!0}:r.text&&r.text.editable===void 0&&(r.text.editable=!0)}},{key:"getData",value:function(){var r=this.text,i=r.x,o=r.y,c=r.value,l=this.properties;Object(f.x)(l)&&(l=Object(f.I)(l));var p={id:this.id,type:this.type,x:this.x,y:this.y,properties:l};return this.rotate&&(p.rotate=this.rotate),this.graphModel.overlapMode===Pn.INCREASE&&(p.zIndex=this.zIndex),c&&(p.text={x:i,y:o,value:c}),p}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(f.I)(this.properties)}},{key:"getOuterGAttributes",value:function(){return{className:""}}},{key:"getNodeStyle",value:function(){return Gr(Gr({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.nodeText;return wn(r)}},{key:"getRotateControlStyle",value:function(){var r=this.graphModel.theme.rotateControl;return wn(r)}},{key:"getAnchorStyle",value:function(r){var i=this.graphModel.theme.anchor;return wn(i)}},{key:"getAnchorLineStyle",value:function(r){var i=this.graphModel.theme.anchorLine;return wn(i)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return wn(r)}},{key:"isAllowConnectedAsSource",value:function(r,i,o,c){var l=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var p,O=!0,w=0;w<l.length;w++){var A=l[w];if(!A.validate.call(this,this,r,i,o,c)){O=!1,p=A.message;break}}return{isAllPass:O,msg:p}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(r,i,o,c){var l=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var p,O=!0,w=0;w<l.length;w++){var A=l[w];if(!A.validate.call(this,r,this,i,o,c)){O=!1,p=A.message;break}}return{isAllPass:O,msg:p}}},{key:"isAllowMoveNode",value:function(r,i){var o,c=!0,l=!0,p=function(A,D){var F=typeof Symbol<"u"&&A[Symbol.iterator]||A["@@iterator"];if(!F){if(Array.isArray(A)||(F=Jv(A))||D&&A&&typeof A.length=="number"){F&&(A=F);var Z=0,te=function(){};return{s:te,n:function(){return Z>=A.length?{done:!0}:{done:!1,value:A[Z++]}},e:function(Ce){throw Ce},f:te}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ye,ge=!0,we=!1;return{s:function(){F=F.call(A)},n:function(){var Ce=F.next();return ge=Ce.done,Ce},e:function(Ce){we=!0,ye=Ce},f:function(){try{ge||F.return==null||F.return()}finally{if(we)throw ye}}}}(this.moveRules.concat(this.graphModel.nodeMoveRules));try{for(p.s();!(o=p.n()).done;){var O=(0,o.value)(this,r,i);if(!O)return!1;if(Yh(O)==="object"){var w=O;if(w.x===!1&&w.y===!1)return!1;c=c&&w.x,l=l&&w.y}}}catch(A){p.e(A)}finally{p.f()}return{x:c,y:l}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var r=this.anchorsOffset,i=this.id,o=this.x,c=this.y;return r&&r.length>0?r.map(function(l,p){return l.length?(l=l,{id:"".concat(i,"_").concat(p),x:o+l[0],y:c+l[1]}):Gr(Gr({},l=l),{},{x:o+l.x,y:c+l.y,id:l.id||"".concat(i,"_").concat(p)})}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getTargetAnchor",value:function(r){return function(i,o){for(var c,l=xc(o),p=Number.MAX_SAFE_INTEGER,O=0;O<l.length;O++){var w=Yn(i.x,i.y,l[O].x,l[O].y);w<p&&(p=w,c={index:O,anchor:pi(pi({},l[O]),{},{x:l[O].x,y:l[O].y,id:l[O].id})})}return c}(r,this)}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){var r=this.getAnchorsByOffset(),i=this.x,o=this.y,c=this.rotate;return r.forEach(function(l){var p=l.x,O=l.y,w=e0(new dt([p,O,1]).translate(-i,-o).rotate(c).translate(i,o)[0],2),A=w[0],D=w[1];l.x=A,l.y=D}),r}},{key:"getAnchorInfo",value:function(r){if(!Qm(r))for(var i=0;i<this.anchors.length;i++){var o=this.anchors[i];if(o.id===r)return o}}},{key:"addNodeMoveRules",value:function(r){this.moveRules.includes(r)||this.moveRules.push(r)}},{key:"move",value:function(r,i){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],c=!1,l=!1;if(o)c=!0,l=!0;else{var p=this.isAllowMoveNode(r,i);typeof p=="boolean"?(c=p,l=p):(c=p.x,l=p.y)}if(c){var O=this.x+r;this.x=O,this.text&&this.moveText(r,0)}if(l){var w=this.y+i;this.y=w,this.text&&this.moveText(0,i)}return c||l}},{key:"getMoveDistance",value:function(r,i){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],c=!1,l=!1,p=0,O=0;if(o)c=!0,l=!0;else{var w=this.isAllowMoveNode(r,i);typeof w=="boolean"?(c=w,l=w):(c=w.x,l=w.y)}if(c&&r){var A=this.x+r;this.x=A,this.text&&this.moveText(r,0),p=r}if(l&&i){var D=this.y+i;this.y=D,this.text&&this.moveText(0,i),O=i}return[p,O]}},{key:"moveTo",value:function(r,i){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],c=r-this.x,l=i-this.y;return!(!o&&!this.isAllowMoveNode(c,l)||(this.text&&this.text&&this.moveText(c,l),this.x=r,this.y=i,0))}},{key:"moveText",value:function(r,i){var o=this.text,c=o.x,l=o.y,p=o.value,O=o.draggable,w=o.editable;this.text={value:p,editable:w,draggable:O,x:c+r,y:l+i}}},{key:"updateText",value:function(r){this.text=Gr(Gr({},Object(f.I)(this.text)),{},{value:r})}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r,this.setIsShowAnchor(r)}},{key:"setIsShowAnchor",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isShowAnchor=r}},{key:"setEnableRotate",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.enableRotate=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,i){this.state=r,this.additionStateData=i}},{key:"setProperty",value:function(r,i){this.properties=Gr(Gr({},Object(f.I)(this.properties)),{},qr({},r,bn(i))),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=Gr(Gr({},Object(f.I)(this.properties)),bn(r)),this.setAttributes()}},{key:"deleteProperty",value:function(r){delete this.properties[r],this.setAttributes()}},{key:"setStyle",value:function(r,i){this.style=Gr(Gr({},this.style),{},qr({},r,bn(i)))}},{key:"setStyles",value:function(r){this.style=Gr(Gr({},this.style),bn(r))}},{key:"updateStyles",value:function(r){this.style=Gr({},bn(r))}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=r}},{key:"updateAttributes",value:function(r){Jn(this,r)}}],n&&t0(e.prototype,n),t}(),Tv=Xt(Ge.prototype,"type",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Dv=Xt(Ge.prototype,"x",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Mv=Xt(Ge.prototype,"y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Nv=Xt(Ge.prototype,"text",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Cv=Xt(Ge.prototype,"properties",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Rv=Xt(Ge.prototype,"_width",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),Iv=Xt(Ge.prototype,"_height",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),Lv=Xt(Ge.prototype,"anchorsOffset",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),zv=Xt(Ge.prototype,"isSelected",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Bv=Xt(Ge.prototype,"isHovered",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Fv=Xt(Ge.prototype,"isShowAnchor",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Uv=Xt(Ge.prototype,"isDragging",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Xv=Xt(Ge.prototype,"isHitable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Hv=Xt(Ge.prototype,"draggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Gv=Xt(Ge.prototype,"visible",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Yv=Xt(Ge.prototype,"enableRotate",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Wv=Xt(Ge.prototype,"zIndex",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Vv=Xt(Ge.prototype,"state",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),$v=Xt(Ge.prototype,"autoToFront",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Kv=Xt(Ge.prototype,"style",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Zv=Xt(Ge.prototype,"transform",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qv=Xt(Ge.prototype,"_rotate",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Xt(Ge.prototype,"incoming",[f.m],Object.getOwnPropertyDescriptor(Ge.prototype,"incoming"),Ge.prototype),Xt(Ge.prototype,"outgoing",[f.m],Object.getOwnPropertyDescriptor(Ge.prototype,"outgoing"),Ge.prototype),Xt(Ge.prototype,"addNodeMoveRules",[f.k],Object.getOwnPropertyDescriptor(Ge.prototype,"addNodeMoveRules"),Ge.prototype),Xt(Ge.prototype,"move",[f.k],Object.getOwnPropertyDescriptor(Ge.prototype,"move"),Ge.prototype),Xt(Ge.prototype,"getMoveDistance",[f.k],Object.getOwnPropertyDescriptor(Ge.prototype,"getMoveDistance"),Ge.prototype),Xt(Ge.prototype,"moveTo",[f.k],Object.getOwnPropertyDescriptor(Ge.prototype,"moveTo"),Ge.prototype),Xt(Ge.prototype,"moveText",[f.k],Object.getOwnPropertyDescriptor(Ge.prototype,"moveText"),Ge.prototype),Xt(Ge.prototype,"updateText",[f.k],Object.getOwnPropertyDescriptor(Ge.prototype,"updateText"),Ge.prototype),Xt(Ge.prototype,"setSelected",[f.k],Object.getOwnPropertyDescriptor(Ge.prototype,"setSelected"),Ge.prototype),Xt(Ge.prototype,"setHovered",[f.k],Object.getOwnPropertyDescriptor(Ge.prototype,"setHovered"),Ge.prototype),Xt(Ge.prototype,"setIsShowAnchor",[f.k],Object.getOwnPropertyDescriptor(Ge.prototype,"setIsShowAnchor"),Ge.prototype),Xt(Ge.prototype,"setEnableRotate",[f.k],Object.getOwnPropertyDescriptor(Ge.prototype,"setEnableRotate"),Ge.prototype),Xt(Ge.prototype,"setHitable",[f.k],Object.getOwnPropertyDescriptor(Ge.prototype,"setHitable"),Ge.prototype),Xt(Ge.prototype,"setElementState",[f.k],Object.getOwnPropertyDescriptor(Ge.prototype,"setElementState"),Ge.prototype),Xt(Ge.prototype,"setProperty",[f.k],Object.getOwnPropertyDescriptor(Ge.prototype,"setProperty"),Ge.prototype),Xt(Ge.prototype,"setProperties",[f.k],Object.getOwnPropertyDescriptor(Ge.prototype,"setProperties"),Ge.prototype),Xt(Ge.prototype,"deleteProperty",[f.k],Object.getOwnPropertyDescriptor(Ge.prototype,"deleteProperty"),Ge.prototype),Xt(Ge.prototype,"setStyle",[f.k],Object.getOwnPropertyDescriptor(Ge.prototype,"setStyle"),Ge.prototype),Xt(Ge.prototype,"setStyles",[f.k],Object.getOwnPropertyDescriptor(Ge.prototype,"setStyles"),Ge.prototype),Xt(Ge.prototype,"updateStyles",[f.k],Object.getOwnPropertyDescriptor(Ge.prototype,"updateStyles"),Ge.prototype),Xt(Ge.prototype,"setZIndex",[f.k],Object.getOwnPropertyDescriptor(Ge.prototype,"setZIndex"),Ge.prototype),Xt(Ge.prototype,"updateAttributes",[f.k],Object.getOwnPropertyDescriptor(Ge.prototype,"updateAttributes"),Ge.prototype),Ge);function Wh(t){return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wh(t)}function ng(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ng(Object(n),!0).forEach(function(r){og(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ng(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function n0(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function r0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vh(){return Vh=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=i0(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Vh.apply(this,arguments)}function i0(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Xc(t))!==null;);return t}function $h(t,e){return $h=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},$h(t,e)}function a0(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Xc(t);if(e){var i=Xc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u0(this,n)}}function u0(t,e){if(e&&(Wh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pp(t)}function pp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xc(t){return Xc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Xc(t)}function og(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kh(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(c){o[c]=r[c]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(c,l){return l(t,e,c)||c},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Cr,ig,ag,Zh=(Xi=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&$h(o,c)})(i,t);var e,n,r=a0(i);function i(){var o;r0(this,i);for(var c=arguments.length,l=new Array(c),p=0;p<c;p++)l[p]=arguments[p];return og(pp(o=r.call.apply(r,[this].concat(l))),"modelType",Gt.CIRCLE_NODE),n0(pp(o),"r",tg,pp(o)),o}return e=i,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var o=Vh(Xc(i.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.circle;return rg(rg({},o),wn(c))}},{key:"getDefaultAnchor",value:function(){var o=this.x,c=this.y,l=this.r;return[{x:o,y:c-l,id:"".concat(this.id,"_0")},{x:o+l,y:c,id:"".concat(this.id,"_1")},{x:o,y:c+l,id:"".concat(this.id,"_2")},{x:o-l,y:c,id:"".concat(this.id,"_3")}]}}])&&o0(e.prototype,n),i}(Hi),tg=Kh(Xi.prototype,"r",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Kh(Xi.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(Xi.prototype,"width"),Xi.prototype),Kh(Xi.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(Xi.prototype,"height"),Xi.prototype),Xi);u(129);function qh(t){return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qh(t)}function Jh(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||function(n,r){if(n){if(typeof n=="string")return ug(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ug(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ug(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cg(Object(n),!0).forEach(function(r){fg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lg(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function c0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qh(){return Qh=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=l0(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Qh.apply(this,arguments)}function l0(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Gc(t))!==null;);return t}function ed(t,e){return ed=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ed(t,e)}function f0(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Gc(t);if(e){var i=Gc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p0(this,n)}}function p0(t,e){if(e&&(qh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hc(t)}function Hc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gc(t){return Gc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Gc(t)}function fg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yc(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(c){o[c]=r[c]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(c,l){return l(t,e,c)||c},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var gi,pg,hg,td=(Cr=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&ed(o,c)})(i,t);var e,n,r=f0(i);function i(){var o;c0(this,i);for(var c=arguments.length,l=new Array(c),p=0;p<c;p++)l[p]=arguments[p];return fg(Hc(o=r.call.apply(r,[this].concat(l))),"modelType",Gt.DIAMOND_NODE),lg(Hc(o),"rx",ig,Hc(o)),lg(Hc(o),"ry",ag,Hc(o)),o}return e=i,(n=[{key:"getNodeStyle",value:function(){var o=Qh(Gc(i.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.diamond;return sg(sg({},o),wn(c))}},{key:"points",get:function(){var o=this.x,c=this.y,l=this.rx,p=this.ry;return[[o,c-p],[o+l,c],[o,c+p],[o-l,c]]}},{key:"pointsPosition",get:function(){return this.points.map(function(o){return{x:o[0],y:o[1]}})}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var p=Jh(l,1)[0];p<o&&(o=p),p>c&&(c=p)}),c-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var p=Jh(l,2)[1];p<o&&(o=p),p>c&&(c=p)}),c-o}},{key:"getDefaultAnchor",value:function(){var o=this;return this.points.map(function(c,l){var p=Jh(c,2);return{x:p[0],y:p[1],id:"".concat(o.id,"_").concat(l)}})}}])&&s0(e.prototype,n),i}(Hi),ig=Yc(Cr.prototype,"rx",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),ag=Yc(Cr.prototype,"ry",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Yc(Cr.prototype,"points",[f.m],Object.getOwnPropertyDescriptor(Cr.prototype,"points"),Cr.prototype),Yc(Cr.prototype,"pointsPosition",[f.m],Object.getOwnPropertyDescriptor(Cr.prototype,"pointsPosition"),Cr.prototype),Yc(Cr.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(Cr.prototype,"width"),Cr.prototype),Yc(Cr.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(Cr.prototype,"height"),Cr.prototype),Cr);function nd(t){return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(t)}function dg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dg(Object(n),!0).forEach(function(r){gg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vg(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function h0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rd(){return rd=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=y0(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},rd.apply(this,arguments)}function y0(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Vc(t))!==null;);return t}function od(t,e){return od=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},od(t,e)}function v0(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Vc(t);if(e){var i=Vc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g0(this,n)}}function g0(t,e){if(e&&(nd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wc(t)}function Wc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vc(t){return Vc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Vc(t)}function gg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hp(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(c){o[c]=r[c]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(c,l){return l(t,e,c)||c},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Mo,bg,id=(gi=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&od(o,c)})(i,t);var e,n,r=v0(i);function i(){var o;h0(this,i);for(var c=arguments.length,l=new Array(c),p=0;p<c;p++)l[p]=arguments[p];return gg(Wc(o=r.call.apply(r,[this].concat(l))),"modelType",Gt.ELLIPSE_NODE),vg(Wc(o),"rx",pg,Wc(o)),vg(Wc(o),"ry",hg,Wc(o)),o}return e=i,(n=[{key:"getNodeStyle",value:function(){var o=rd(Vc(i.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.ellipse;return yg(yg({},o),wn(c))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var o=this.x,c=this.y,l=this.rx,p=this.ry;return[{x:o,y:c-p,id:"".concat(this.id,"_0")},{x:o+l,y:c,id:"".concat(this.id,"_1")},{x:o,y:c+p,id:"".concat(this.id,"_2")},{x:o-l,y:c,id:"".concat(this.id,"_3")}]}}])&&d0(e.prototype,n),i}(Hi),pg=hp(gi.prototype,"rx",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),hg=hp(gi.prototype,"ry",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),hp(gi.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(gi.prototype,"width"),gi.prototype),hp(gi.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(gi.prototype,"height"),gi.prototype),gi);function ad(t){return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}function ud(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||function(n,r){if(n){if(typeof n=="string")return mg(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return mg(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function mg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Og(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _g(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Og(Object(n),!0).forEach(function(r){wg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Og(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function b0(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function m0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cd(){return cd=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=_0(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},cd.apply(this,arguments)}function _0(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=$c(t))!==null;);return t}function sd(t,e){return sd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},sd(t,e)}function w0(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=$c(t);if(e){var i=$c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return x0(this,n)}}function x0(t,e){if(e&&(ad(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dp(t)}function dp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $c(t){return $c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$c(t)}function wg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yp(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(c){o[c]=r[c]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(c,l){return l(t,e,c)||c},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var ld,xg,fd=(Mo=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&sd(o,c)})(i,t);var e,n,r=w0(i);function i(){var o;m0(this,i);for(var c=arguments.length,l=new Array(c),p=0;p<c;p++)l[p]=arguments[p];return wg(dp(o=r.call.apply(r,[this].concat(l))),"modelType",Gt.POLYGON_NODE),b0(dp(o),"points",bg,dp(o)),o}return e=i,(n=[{key:"getNodeStyle",value:function(){var o=cd($c(i.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.polygon;return _g(_g({},o),wn(c))}},{key:"pointsPosition",get:function(){var o=this.x,c=this.y,l=this.width,p=this.height;return this.points.map(function(O){return{x:O[0]+o-l/2,y:O[1]+c-p/2}})}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var p=ud(l,1)[0];p<o&&(o=p),p>c&&(c=p)}),c-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var p=ud(l,2)[1];p<o&&(o=p),p>c&&(c=p)}),c-o}},{key:"getDefaultAnchor",value:function(){var o=this,c=this.x,l=this.y,p=this.width,O=this.height;return this.points.map(function(w,A){var D=ud(w,2),F=D[0],Z=D[1];return{x:c+F-p/2,y:l+Z-O/2,id:"".concat(o.id,"_").concat(A)}})}}])&&O0(e.prototype,n),i}(Hi),bg=yp(Mo.prototype,"points",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),yp(Mo.prototype,"pointsPosition",[f.m],Object.getOwnPropertyDescriptor(Mo.prototype,"pointsPosition"),Mo.prototype),yp(Mo.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(Mo.prototype,"width"),Mo.prototype),yp(Mo.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(Mo.prototype,"height"),Mo.prototype),Mo);function pd(t){return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(t)}function Eg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Eg(Object(n),!0).forEach(function(r){Sg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Eg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E0(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function j0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hd(){return hd=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=P0(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},hd.apply(this,arguments)}function P0(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Kc(t))!==null;);return t}function dd(t,e){return dd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},dd(t,e)}function A0(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Kc(t);if(e){var i=Kc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return k0(this,n)}}function k0(t,e){if(e&&(pd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vp(t)}function vp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kc(t){return Kc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Kc(t)}function Sg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ta,yd=(ld=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&dd(o,c)})(i,t);var e,n,r=A0(i);function i(){var o;j0(this,i);for(var c=arguments.length,l=new Array(c),p=0;p<c;p++)l[p]=arguments[p];return Sg(vp(o=r.call.apply(r,[this].concat(l))),"modelType",Gt.RECT_NODE),E0(vp(o),"radius",xg,vp(o)),o}return e=i,(n=[{key:"getDefaultAnchor",value:function(){var o=this.x,c=this.y,l=this.width,p=this.height;return[{x:o,y:c-p/2,id:"".concat(this.id,"_0")},{x:o+l/2,y:c,id:"".concat(this.id,"_1")},{x:o,y:c+p/2,id:"".concat(this.id,"_2")},{x:o-l/2,y:c,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var o=hd(Kc(i.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.rect;return jg(jg({},o),wn(c))}}])&&S0(e.prototype,n),i}(Hi),xg=function(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(c){o[c]=r[c]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(c,l){return l(t,e,c)||c},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}(ld.prototype,"radius",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ld);function vd(t){return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}function Pg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ag(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pg(Object(n),!0).forEach(function(r){Tg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gd(){return gd=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=M0(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},gd.apply(this,arguments)}function M0(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Zc(t))!==null;);return t}function bd(t,e){return bd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},bd(t,e)}function N0(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Zc(t);if(e){var i=Zc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return C0(this,n)}}function C0(t,e){if(e&&(vd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kg(t)}function kg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zc(t){return Zc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Zc(t)}function Tg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dg(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(c){o[c]=r[c]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(c,l){return l(t,e,c)||c},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var md=(Ta=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&bd(o,c)})(i,t);var e,n,r=N0(i);function i(){var o;T0(this,i);for(var c=arguments.length,l=new Array(c),p=0;p<c;p++)l[p]=arguments[p];return Tg(kg(o=r.call.apply(r,[this].concat(l))),"modelType",Gt.TEXT_NODE),o}return e=i,(n=[{key:"getTextStyle",value:function(){var o=gd(Zc(i.prototype),"getTextStyle",this).call(this),c=this.graphModel.theme.text;return Ag(Ag({},o),wn(c))}},{key:"width",get:function(){var o=String(this.text.value).split(/[\r\n]/g),c=this.getTextStyle().fontSize;return Hs({rows:o,fontSize:c,rowsLength:o.length}).width}},{key:"height",get:function(){var o=String(this.text.value).split(/[\r\n]/g),c=this.getTextStyle().fontSize;return Hs({rows:o,fontSize:c,rowsLength:o.length}).height}}])&&D0(e.prototype,n),i}(Hi),Dg(Ta.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(Ta.prototype,"width"),Ta.prototype),Dg(Ta.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(Ta.prototype,"height"),Ta.prototype),Ta);function Od(t){return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Od(t)}function R0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _d(t,e){return _d=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},_d(t,e)}function L0(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=gp(t);if(e){var i=gp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return z0(this,n)}}function z0(t,e){if(e&&(Od(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mg(t)}function Mg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gp(t){return gp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},gp(t)}function B0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var qo,Ng,Cg,Rg,wd=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&_d(o,c)})(i,t);var e,n,r=L0(i);function i(){var o;R0(this,i);for(var c=arguments.length,l=new Array(c),p=0;p<c;p++)l[p]=arguments[p];return B0(Mg(o=r.call.apply(r,[this].concat(l))),"modelType",Gt.HTML_NODE),o}return e=i,(n=[{key:"getDefaultAnchor",value:function(){var o=this.x,c=this.y,l=this.width,p=this.height;return[{x:o,y:c-p/2,id:"".concat(this.id,"_0")},{x:o+l/2,y:c,id:"".concat(this.id,"_1")},{x:o,y:c+p/2,id:"".concat(this.id,"_2")},{x:o-l/2,y:c,id:"".concat(this.id,"_3")}]}}])&&I0(e.prototype,n),i}(Hi);function Ig(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xd(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function F0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kl(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(c){o[c]=r[c]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(c,l){return l(t,e,c)||c},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var zg=(qo=function(){function t(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,t),Lg(this,"graphModel",void 0),xd(this,"isShowHorizontal",Ng,this),xd(this,"isShowVertical",Cg,this),xd(this,"position",Rg,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}var e,n;return e=t,n=[{key:"getStyle",value:function(){return function(r){for(var i=1;i<arguments.length;i++){var o=arguments[i]!=null?arguments[i]:{};i%2?Ig(Object(o),!0).forEach(function(c){Lg(r,c,o[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):Ig(Object(o)).forEach(function(c){Object.defineProperty(r,c,Object.getOwnPropertyDescriptor(o,c))})}return r}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(r,i){for(var o=r.x,c=r.y,l=!1,p=!1,O=0;O<i.length;O++){var w=i[O];if(w.id!==r.id&&(o===w.x&&(l=!0),c===w.y&&(p=!0),l&&p))break}return{isShowVertical:l,isShowHorizontal:p,position:{x:o,y:c}}}},{key:"getHorizontalSnapline",value:function(r,i){var o,c,l=!1,p=r.id;if(p){var O=this.graphModel.fakerNode;if(O&&O.id===p)c=Ur(O);else{var w=this.graphModel.getNodeModelById(p);c=Ur(w)}}for(var A=0;A<i.length;A++){var D=i[A];if(D.id!==r.id){var F=Ur(D);if(F.minY===c.minY||F.maxY===c.minY){l=!0,o=c.minY;break}if(F.minY===c.maxY||F.maxY===c.maxY){l=!0,o=c.maxY;break}}}return Jn({isShowHorizontal:l,position:{y:o}})}},{key:"getVerticalSnapline",value:function(r,i){var o,c,l=!1,p=r.id;if(p){var O=this.graphModel.fakerNode;if(O&&O.id===p)c=Ur(O);else{var w=this.graphModel.getNodeModelById(p);c=Ur(w)}}for(var A=0;A<i.length;A++){var D=i[A];if(D.id!==r.id){var F=Ur(D);if(F.minX===c.minX||F.maxX===c.minX){l=!0,o=c.minX;break}if(F.minX===c.maxX||F.maxX===c.maxX){l=!0,o=c.maxX;break}}}return Jn({isShowVertical:l,position:{x:o}})}},{key:"getSnapLinePosition",value:function(r,i){var o=this.getCenterSnapLine(r,i),c=o.isShowHorizontal,l=o.isShowVertical;if(!c){var p=this.getHorizontalSnapline(r,i);p.isShowHorizontal&&(o.isShowHorizontal=p.isShowHorizontal,o.position.y=p.position.y)}if(!l){var O=this.getVerticalSnapline(r,i);O.isShowVertical&&(o.isShowVertical=O.isShowVertical,o.position.x=O.position.x)}return o}},{key:"setSnaplineInfo",value:function(r){var i=r.isShowHorizontal,o=r.isShowVertical,c=r.position;this.position=c,this.isShowHorizontal=i,this.isShowVertical=o}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(r){var i=this.graphModel.nodes,o=this.getSnapLinePosition(r,i);this.setSnaplineInfo(o)}}],n&&F0(e.prototype,n),t}(),Ng=kl(qo.prototype,"isShowHorizontal",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cg=kl(qo.prototype,"isShowVertical",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rg=kl(qo.prototype,"position",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kl(qo.prototype,"clearSnapline",[f.k],Object.getOwnPropertyDescriptor(qo.prototype,"clearSnapline"),qo.prototype),kl(qo.prototype,"setNodeSnapLine",[f.k],Object.getOwnPropertyDescriptor(qo.prototype,"setNodeSnapLine"),qo.prototype),qo),Tl=new Map,Bg=function(t){var e=io(),n=window.requestAnimationFrame(function r(){if(t(),Tl.get(e)){var i=window.requestAnimationFrame(r);Tl.set(e,i)}});return Tl.set(e,n),e},bp=function(t){var e=Tl.get(t);e&&(window.cancelAnimationFrame(e),Tl.delete(t))};function Ed(t){return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ed(t)}function Dl(){return Dl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dl.apply(this,arguments)}function Fg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ml(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fg(Object(n),!0).forEach(function(r){mi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Ug(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Ug(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ug(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function X0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jd(t,e){return jd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},jd(t,e)}function H0(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=mp(t);if(e){var i=mp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return G0(this,n)}}function G0(t,e){if(e&&(Ed(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bi(t)}function bi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mp(t){return mp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},mp(t)}function mi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Y0=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&jd(o,c)})(i,t);var e,n,r=H0(i);function i(){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,i),mi(bi(o=r.call(this)),"preTargetNode",void 0),mi(bi(o),"sourceRuleResults",void 0),mi(bi(o),"targetRuleResults",void 0),mi(bi(o),"dragHandler",void 0),mi(bi(o),"t",void 0),mi(bi(o),"onDragStart",function(c){var l=c.event,p=o.props,O=p.anchorData,w=p.nodeModel,A=p.graphModel;A.overlapMode,A.selectNodeById(w.id),w.autoToFront&&A.toFront(w.id),A.eventCenter.emit(lt.ANCHOR_DRAGSTART,{data:O,e:l,nodeModel:w}),o.setState({startX:O.x,startY:O.y,endX:O.x,endY:O.y})}),mi(bi(o),"onDragging",function(c){var l=c.event,p=o.props,O=p.graphModel,w=p.nodeModel,A=p.anchorData,D=O.transformModel,F=O.eventCenter,Z=O.width,te=O.height,ye=O.editConfigModel,ge=ye.autoExpand,we=ye.stopMoveGraph,Ce=l.clientX,$e=l.clientY,Je=O.getPointByClient({x:Ce,y:$e}),bt=Je.domOverlayPosition,Ze=bt.x,ft=bt.y,et=Je.canvasOverlayPosition,Vt=et.x,qt=et.y;o.t&&bp(o.t);var Tt=[];Ze<10?Tt=[10,0]:Ze+10>Z?Tt=[-10,0]:ft<10?Tt=[0,10]:ft+10>te&&(Tt=[0,-10]),o.setState({endX:Vt,endY:qt,dragging:!0}),o.moveAnchorEnd(Vt,qt),Tt.length>0&&!we&&ge&&(o.t=Bg(function(){var nn=U0(Tt,2),Un=nn[0],Xn=nn[1];D.translate(Un,Xn);var jr=o.state,fo=jr.endX,po=jr.endY;o.setState({endX:fo-Un,endY:po-Xn}),o.moveAnchorEnd(fo-Un,po-Xn)})),F.emit(lt.ANCHOR_DRAG,{data:A,e:l,nodeModel:w})}),mi(bi(o),"onDragEnd",function(c){var l=c.event;o.t&&bp(o.t);var p=o.checkEnd(l);o.setState({startX:0,startY:0,endX:0,endY:0,dragging:!1}),o.sourceRuleResults.clear(),o.targetRuleResults.clear();var O=o.props,w=O.graphModel,A=O.nodeModel,D=O.anchorData;w.eventCenter.emit(lt.ANCHOR_DRAGEND,{data:D,e:l,nodeModel:A,edgeModel:p})}),mi(bi(o),"checkEnd",function(c){var l=o.props,p=l.graphModel,O=l.nodeModel,w=l.anchorData,A=w.x,D=w.y,F=w.id,Z=(p.edgeType,o.state),te=Z.endX,ye=Z.endY,ge=Z.dragging,we=Mi({x:te,y:ye},p);if(o.preTargetNode&&o.preTargetNode.state!==un.DEFAULT&&o.preTargetNode.setElementState(un.DEFAULT),ge&&we&&we.node){var Ce=we.node,$e=we.anchor.id,Je="".concat(O.id,"_").concat(Ce.id,"_").concat($e,"_").concat(F),bt=o.sourceRuleResults.get(Je)||{},Ze=bt.isAllPass,ft=bt.msg,et=o.targetRuleResults.get(Je)||{},Vt=et.isAllPass,qt=et.msg;if(Ze&&Vt){Ce.setElementState(un.DEFAULT);var Tt=p.edgeGenerator(O.getData(),p.getNodeModelById(we.node.id).getData()),nn=p.addEdge(Ml(Ml({},Tt),{},{sourceNodeId:O.id,sourceAnchorId:F,startPoint:{x:A,y:D},targetNodeId:we.node.id,targetAnchorId:we.anchor.id,endPoint:{x:we.anchor.x,y:we.anchor.y}})),Un=o.props.anchorData;return p.eventCenter.emit(lt.ANCHOR_DROP,{data:Un,e:c,nodeModel:O,edgeModel:nn}),nn}var Xn=Ce.getData();return p.eventCenter.emit(lt.CONNECTION_NOT_ALLOWED,{data:Xn,msg:qt||ft}),null}}),o.sourceRuleResults=new Map,o.targetRuleResults=new Map,o.state={startX:0,startY:0,endX:0,endY:0,dragging:!1},o.dragHandler=new ao({onDragStart:o.onDragStart,onDragging:o.onDragging,onDragEnd:o.onDragEnd}),o}return e=i,(n=[{key:"getAnchorShape",value:function(){var o=this.props,c=o.anchorData,l=o.style,p=o.node.getAnchorShape(c);if(p)return p;var O=c.x,w=c.y,A=Ml(Ml({},l),l.hover);return Object(le.g)("g",null,Object(le.g)(Uc,Dl({className:"lf-node-anchor-hover"},A,{x:O,y:w})),Object(le.g)(Uc,Dl({className:"lf-node-anchor"},l,{x:O,y:w})))}},{key:"customTrajectory",get:function(){return this.props.graphModel.customTrajectory}},{key:"moveAnchorEnd",value:function(o,c){var l=this.props,p=l.graphModel,O=l.nodeModel,w=l.anchorData,A=Mi({x:o,y:c},p);if(A){var D=A.node,F=A.anchor.id;if(this.preTargetNode&&this.preTargetNode!==A.node&&this.preTargetNode.setElementState(un.DEFAULT),w.id===F)return;this.preTargetNode=D;var Z="".concat(O.id,"_").concat(D.id,"_").concat(F,"_").concat(w.id);if(!this.targetRuleResults.has(Z)){var te=A.anchor,ye=O.isAllowConnectedAsSource(D,w,te),ge=D.isAllowConnectedAsTarget(O,w,te);this.sourceRuleResults.set(Z,pu(ye)),this.targetRuleResults.set(Z,pu(ge))}var we=this.sourceRuleResults.get(Z).isAllPass,Ce=this.targetRuleResults.get(Z).isAllPass;we&&Ce?D.setElementState(un.ALLOW_CONNECT):D.setElementState(un.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==un.DEFAULT&&this.preTargetNode.setElementState(un.DEFAULT)}},{key:"isShowLine",value:function(){var o=this.state,c=o.startX,l=o.startY,p=o.endX,O=o.endY;return Yn(c,l,p,O)>10}},{key:"render",value:function(){var o=this,c=this.state,l=c.startX,p=c.startY,O=c.endX,w=c.endY,A=this.props,D=A.anchorData.edgeAddable,F=A.edgeStyle;return Object(le.g)("g",{className:"lf-anchor"},Object(le.g)("g",{onMouseDown:function(Z){D!==!1&&o.dragHandler.handleMouseDown(Z)}},this.getAnchorShape()),this.isShowLine()&&(this.customTrajectory?this.customTrajectory(Ml({sourcePoint:{x:l,y:p},targetPoint:{x:O,y:w}},F)):Object(le.g)(Bc,Dl({x1:l,y1:p,x2:O,y2:w},F,{"pointer-events":"none"}))))}}])&&X0(e.prototype,n),i}(le.a);function Xg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function W0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xg(Object(n),!0).forEach(function(r){V0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function V0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sd(t){return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sd(t)}function $0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Hg(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Hg(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Hg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gg(t){var e=t.x,n=e===void 0?0:e,r=t.y,i=r===void 0?0:r,o=t.value,c=t.fontSize,l=t.fill,p=l===void 0?"currentColor":l,O=t.overflowMode,w=O===void 0?"default":O,A=t.textWidth,D=A===void 0?"":A,F=t.model,Z={textAnchor:"middle","dominant-baseline":"middle",x:n,y:i,fill:p};if(Object.entries(t).forEach(function($e){var Je=$0($e,2),bt=Je[0],Ze=Je[1];Sd(Ze)!=="object"&&(Z[bt]=Ze)}),o){var te=String(o).split(/[\r\n]/g),ye=te.length;if(w!=="default"){var ge=F.BaseType,we=F.modelType;if(ge===Fn.NODE&&we!==Gt.TEXT_NODE||ge===Fn.EDGE&&D)return function($e){var Je=$e.value,bt=$e.fontSize,Ze=$e.model,ft=$e.fontFamily,et=ft===void 0?"":ft,Vt=$e.lineHeight,qt=$e.wrapPadding,Tt=qt===void 0?"0, 0":qt,nn=$e.overflowMode,Un=$e.x,Xn=$e.y,jr=Ze.width,fo=Ze.textHeight,po=$e.textWidth||jr,wi=String(Je).split(/[\r\n]/g),Mu=wi.length,Gp=kf({rows:wi,style:{fontSize:"".concat(bt,"px"),width:"".concat(po,"px"),fontFamily:et,lineHeight:Vt,padding:Tt},rowsLength:Mu,className:"lf-get-text-height"}),Nu=Ze.height>Gp?Ze.height:Gp;fo&&(Nu=fo);var Na=nn==="ellipsis";return Na&&(Nu=bt+2),Object(le.g)("g",null,Object(le.g)("foreignObject",{width:po,height:Nu,x:Un-po/2,y:Xn-Nu/2},Object(le.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:Nu,width:po,padding:Tt}},Object(le.g)("div",{className:Na?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",title:Na?wi.join(""):"",style:W0({},$e)},wi.map(function(Ca){return Object(le.g)("div",{className:"lf-node-text--auto-wrap-inner"},Ca)})))))}(t)}if(ye>1){var Ce=te.map(function($e,Je){var bt=(Je-(ye-1)/2)*(c+2);return Object(le.g)("tspan",{className:"lf-text-tspan",x:n,y:i+bt},$e)});return Object(le.g)("text",Z,Ce)}return Object(le.g)("text",Z,o)}}function Pd(t){return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pd(t)}function Ad(){return Ad=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ad.apply(this,arguments)}function K0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Yg(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Yg(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Yg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Z0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kd(t,e){return kd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},kd(t,e)}function q0(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Op(t);if(e){var i=Op(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return J0(this,n)}}function J0(t,e){if(e&&(Pd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Da(t)}function Da(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Op(t){return Op=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Op(t)}function Au(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Wg=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&kd(o,c)})(i,t);var e,n,r=q0(i);function i(o){var c;(function(p,O){if(!(p instanceof O))throw new TypeError("Cannot call a class as a function")})(this,i),Au(Da(c=r.call(this)),"dragHandler",void 0),Au(Da(c),"sumDeltaX",0),Au(Da(c),"sumDeltaY",0),Au(Da(c),"stepDrag",void 0),Au(Da(c),"onDragging",function(p){var O=p.deltaX,w=p.deltaY,A=c.props,D=A.model,F=K0(A.graphModel.transformModel.fixDeltaXY(O,w),2),Z=F[0],te=F[1];D.moveText(Z,te)}),Au(Da(c),"dblClickHandler",function(){c.props.editable&&c.props.model.setElementState(un.TEXT_EDIT)}),Au(Da(c),"mouseDownHandle",function(p){var O=c.props,w=O.draggable,A=O.model,D=O.graphModel.editConfigModel.nodeTextDraggable;(w||D)&&(c.stepDrag.model=A,c.stepDrag.handleMouseDown(p))}),o.model;var l=o.draggable;return c.stepDrag=new ao({onDragging:c.onDragging,step:1,isStopPropagation:l}),c}return e=i,(n=[{key:"getShape",value:function(){var o=this.props,c=o.model,l=o.graphModel,p=c.text,O=l.editConfigModel,w=p.value,A=p.x,D=p.y,F=p.editable,Z=p.draggable,te={x:A,y:D,className:"",value:w};F?te.className="lf-element-text":Z||O.nodeTextDraggable?te.className="lf-text-draggable":te.className="lf-text-disabled";var ye=c.getTextStyle();return Object(le.g)(Gg,Ad({},te,ye,{model:c}))}},{key:"render",value:function(){if(this.props.model.text)return Object(le.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&Z0(e.prototype,n),i}(le.a),Q0=window.navigator.userAgent.match(/MSIE|Trident/)!==null,Vg=u(130);function Td(t){return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Td(t)}function Dd(){return Dd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dd.apply(this,arguments)}function eO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Md(t,e){return Md=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Md(t,e)}function tO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=_p(t);if(e){var i=_p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return nO(this,n)}}function nO(t,e){if(e&&(Td(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qc(t)}function qc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _p(t){return _p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_p(t)}function Nl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var rO=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&Md(o,c)})(i,t);var e,n,r=tO(i);function i(o){var c;return function(l,p){if(!(l instanceof p))throw new TypeError("Cannot call a class as a function")}(this,i),Nl(qc(c=r.call(this,o)),"style",{}),Nl(qc(c),"defaultAngle",void 0),Nl(qc(c),"normal",void 0),Nl(qc(c),"stepperDrag",void 0),Nl(qc(c),"onDragging",function(l){var p,O=l.event,w=c.props,A=w.graphModel,D=w.nodeModel,F=w.eventCenter,Z=A.selectNodes,te=D.x,ye=D.y,ge=O.clientX,we=O.clientY,Ce=A.getPointByClient({x:ge,y:we}).canvasOverlayPosition,$e=Ce.x,Je=Ce.y,bt=new or($e-te,Je-ye),Ze=((p=c.normal)===null||p===void 0?void 0:p.angle(bt))-c.defaultAngle,ft=new ur(-te,-ye).rotate(Ze).translate(te,ye).toString();D.transform=ft,D.rotate=Ze;var et=Object(Vg.map)(Z,function(qt){return qt.id});et.indexOf(D.id)===-1&&(et=[D.id]);var Vt=Object(Vg.reduce)(et,function(qt,Tt){var nn=A.getNodeModelById(Tt);return qt[Tt]=nn==null?void 0:nn.getMoveDistance(0,0,!1),qt},{});et.forEach(function(qt){A.getNodeEdges(qt).forEach(function(Tt){if(Vt[Tt.sourceNodeId]){var nn=A.getNodeModelById(Tt.sourceNodeId).anchors.find(function(Xn){return Xn.id===Tt.sourceAnchorId});Tt.updateStartPoint(nn)}if(Vt[Tt.targetNodeId]){var Un=A.getNodeModelById(Tt.targetNodeId).anchors.find(function(Xn){return Xn.id===Tt.targetAnchorId});Tt.updateEndPoint(Un)}})}),F.emit(lt.NODE_ROTATE,{e:O,nodeModel:D})}),c.style=o.style,c.stepperDrag=new ao({onDragging:c.onDragging}),c}return e=i,(n=[{key:"render",value:function(){var o=this,c=this.props.nodeModel,l=c.x,p=c.y,O=l+c.width/2+20,w=p-c.height/2-20;return this.normal=new or(1,0),this.defaultAngle=this.normal.angle(new or(O-l,w-p)),c.defaultAngle=this.defaultAngle,Object(le.g)("g",{className:"lf-rotate-control"},Object(le.g)("g",{onMouseDown:function(A){o.stepperDrag.handleMouseDown(A)}},Object(le.g)(Uc,Dd({},this.style,{cx:O,cy:w}))))}}])&&eO(e.prototype,n),i}(le.a);function Nd(t){return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nd(t)}var oO=["className"];function wp(){return wp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wp.apply(this,arguments)}function iO(t,e){if(t==null)return{};var n,r,i=function(c,l){if(c==null)return{};var p,O,w={},A=Object.keys(c);for(O=0;O<A.length;O++)p=A[O],l.indexOf(p)>=0||(w[p]=c[p]);return w}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xp(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||function(n,r){if(n){if(typeof n=="string")return $g(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return $g(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $g(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Cd(t,e){return Cd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Cd(t,e)}function aO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ep(t);if(e){var i=Ep(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return uO(this,n)}}function uO(t,e){if(e&&(Nd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dr(t)}function dr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ep(t){return Ep=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ep(t)}function Er(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Gi=function(t){(function(c,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(l&&l.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),l&&Cd(c,l)})(o,t);var e,n,r,i=aO(o);function o(c){var l;(function(D,F){if(!(D instanceof F))throw new TypeError("Cannot call a class as a function")})(this,o),Er(dr(l=i.call(this)),"t",void 0),Er(dr(l),"moveOffset",void 0),Er(dr(l),"stepDrag",void 0),Er(dr(l),"contextMenuTime",void 0),Er(dr(l),"mouseUpDrag",void 0),Er(dr(l),"startTime",void 0),Er(dr(l),"clickTimer",void 0),Er(dr(l),"modelDisposer",void 0),Er(dr(l),"onDragStart",function(D){var F=D.event,Z=F.clientX,te=F.clientY,ye=l.props,ge=ye.model,we=ye.graphModel.getPointByClient({x:Z,y:te}).canvasOverlayPosition,Ce=we.x,$e=we.y;l.moveOffset={x:ge.x-Ce,y:ge.y-$e}}),Er(dr(l),"onDragging",function(D){var F=D.event,Z=l.props,te=Z.model,ye=Z.graphModel,ge=ye.editConfigModel,we=ge.stopMoveGraph,Ce=ge.autoExpand,$e=ye.transformModel,Je=ye.selectNodes,bt=ye.width,Ze=ye.height,ft=ye.gridSize;te.isDragging=!0;var et=F.clientX,Vt=F.clientY,qt=ye.getPointByClient({x:et,y:Vt}).canvasOverlayPosition,Tt=qt.x,nn=qt.y,Un=xp($e.CanvasPointToHtmlPoint([Tt,nn]),2),Xn=Un[0],jr=Un[1];if(Tt+=l.moveOffset.x,nn+=l.moveOffset.y,Tt=Po(Tt,ft),nn=Po(nn,ft),bt&&Ze){if(!Ce||we||!(Xn<0||jr<0||Xn>bt||jr>Ze)){var fo=xp($e.CanvasPointToHtmlPoint([Tt-te.width/2,nn-te.height/2]),2),po=fo[0],wi=fo[1],Mu=xp($e.CanvasPointToHtmlPoint([Tt+te.width/2,nn+te.height/2]),2),Gp=Mu[0],Nu=Mu[1],Na=Math.max(ft,20),Ca=[];po<0?Ca=[Na,0]:Gp>ye.width?Ca=[-Na,0]:wi<0?Ca=[0,Na]:Nu>ye.height&&(Ca=[0,-Na]),l.t&&bp(l.t);var J_=new ur(-Tt,-nn).rotate(te.rotate).translate(Tt,nn).toString();te.transform=J_;var Yp=Je.map(function(Wp){return Wp.id});Yp.indexOf(te.id)===-1&&(Yp=[te.id]),Ca.length>0&&!we&&Ce?l.t=Bg(function(){var Wp=xp(Ca,2),Tb=Wp[0],Db=Wp[1];$e.translate(Tb,Db);var Q_=-Tb/$e.SCALE_X,e1=-Db/$e.SCALE_X;ye.moveNodes(Yp,Q_,e1)}):ye.moveNodes(Yp,Tt-te.x,nn-te.y)}}else ye.moveNode2Coordinate(te.id,Tt,nn)}),Er(dr(l),"onDragEnd",function(){l.t&&bp(l.t),l.props.model.isDragging=!1}),Er(dr(l),"handleMouseUp",function(){var D=l.props.model;l.mouseUpDrag=D.isDragging}),Er(dr(l),"handleClick",function(D){var F=l.mouseUpDrag===!1;if(l.startTime){var Z=l.props,te=Z.model,ye=Z.graphModel;if(F){var ge={data:te.getData(),e:D,position:ye.getPointByClient({x:D.clientX,y:D.clientY}),isSelected:!1,isMultiple:!1},we=D.button===2,Ce=D.detail===2;if(!we){var $e=ye.editConfigModel,Je=Ao(D,$e);ge.isMultiple=Je,te.isSelected&&!Ce&&Je?(ge.isSelected=!1,te.setSelected(!1)):(ye.selectNodeById(te.id,Je),ge.isSelected=!0,l.toFront()),Ce?($e.nodeTextEdit&&te.text.editable&&(te.setSelected(!1),ye.setElementStateById(te.id,un.TEXT_EDIT)),ye.eventCenter.emit(lt.NODE_DBCLICK,ge)):(ye.eventCenter.emit(lt.ELEMENT_CLICK,ge),ye.eventCenter.emit(lt.NODE_CLICK,ge))}}}}),Er(dr(l),"handleContextMenu",function(D){D.preventDefault();var F=l.props,Z=F.model,te=F.graphModel,ye=Z.getData(),ge=te.getPointByClient({x:D.clientX,y:D.clientY});te.setElementStateById(Z.id,un.SHOW_MENU,ge.domOverlayPosition),Z.isSelected||te.selectNodeById(Z.id),te.eventCenter.emit(lt.NODE_CONTEXTMENU,{data:ye,e:D,position:ge}),l.toFront()}),Er(dr(l),"handleMouseDown",function(D){var F=l.props,Z=F.model,te=F.graphModel;l.startTime=new Date().getTime(),te.editConfigModel.adjustNodePosition&&Z.draggable&&l.stepDrag&&l.stepDrag.handleMouseDown(D)}),Er(dr(l),"setHoverON",function(D){var F=l.props,Z=F.model,te=F.graphModel;if(!Z.isHovered){var ye=Z.getData();Z.setHovered(!0),te.eventCenter.emit(lt.NODE_MOUSEENTER,{data:ye,e:D})}}),Er(dr(l),"setHoverOFF",function(D){var F=l.props,Z=F.model,te=F.graphModel,ye=Z.getData();Z.isHovered&&(Z.setHovered(!1),te.eventCenter.emit(lt.NODE_MOUSELEAVE,{data:ye,e:D}))}),Er(dr(l),"onMouseOut",function(D){Q0&&l.setHoverOFF(D)});var p=c.graphModel,O=p.gridSize,w=p.eventCenter,A=c.model;return l.stepDrag=new ao({onDragStart:l.onDragStart,onDragging:l.onDragging,onDragEnd:l.onDragEnd,step:O,eventType:"NODE",isStopPropagation:!1,eventCenter:w,model:A}),l.modelDisposer=Object(f.F)(function(){return l.props},function(D){D&&D.model&&l.stepDrag.setModel(D.model)}),l}return e=o,r=[{key:"getModel",value:function(c){return c}}],(n=[{key:"componentWillUnmount",value:function(){this.modelDisposer&&this.modelDisposer()}},{key:"getAnchorShape",value:function(c){return null}},{key:"getAnchors",value:function(){var c=this,l=this.props,p=l.model,O=l.graphModel,w=p.isSelected,A=p.isHitable,D=p.isDragging,F=p.isShowAnchor;return A&&(w||F)&&!D?Zu(p.anchors,function(Z,te){var ye=p.getAnchorLineStyle(Z),ge=p.getAnchorStyle(Z);return Object(le.g)(Y0,{anchorData:Z,node:c,style:ge,edgeStyle:ye,anchorIndex:te,nodeModel:p,graphModel:O,setHoverOFF:c.setHoverOFF})}):[]}},{key:"getRotateControl",value:function(){var c=this.props,l=c.model,p=c.graphModel,O=l.isSelected,w=l.isHitable,A=l.enableRotate,D=l.isHovered,F=l.getRotateControlStyle().style;if(w&&(O||D)&&A)return Object(le.g)(rO,{graphModel:p,nodeModel:l,eventCenter:p.eventCenter,style:F})}},{key:"getText",value:function(){var c=this.props,l=c.model,p=c.graphModel;if(l.state===un.TEXT_EDIT)return"";if(l.text){var O=p.editConfigModel,w=!1;return(l.text.draggable||O.nodeTextDraggable)&&(w=!0),Object(le.g)(Wg,{editable:O.nodeTextEdit&&l.text.editable,model:l,graphModel:p,draggable:w})}}},{key:"getStateClassName",value:function(){var c=this.props.model,l=c.state,p=c.isDragging,O=c.isSelected,w="lf-node";switch(l){case un.ALLOW_CONNECT:w+=" lf-node-allow";break;case un.NOT_ALLOW_CONNECT:w+=" lf-node-not-allow";break;default:w+=" lf-node-default"}return p&&(w+=" lf-isDragging"),O&&(w+=" lf-node-selected"),w}},{key:"toFront",value:function(){var c=this.props,l=c.model,p=c.graphModel;l.autoToFront&&p.toFront(l.id)}},{key:"render",value:function(){var c,l=this.props,p=l.model,O=l.graphModel,w=O.editConfigModel,A=w.hideAnchors,D=w.adjustNodePosition,F=w.allowRotation,Z=O.gridSize,te=O.transformModel.SCALE_X,ye=p.isHitable,ge=p.draggable,we=p.transform,Ce=p.getOuterGAttributes(),$e=Ce.className,Je=$e===void 0?"":$e,bt=iO(Ce,oO),Ze=Object(le.g)("g",{className:"lf-node-content"},Object(le.g)("g",{transform:we},this.getShape(),this.getText(),F&&this.getRotateControl()),!A&&this.getAnchors());return ye?(D&&ge&&this.stepDrag.setStep(Z*te),c=Object(le.g)("g",wp({className:"".concat(this.getStateClassName()," ").concat(Je),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onClick:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},bt),Ze)):c=Object(le.g)("g",wp({className:"".concat(this.getStateClassName()," ").concat(Je)},bt),Ze),c}}])&&Kg(e.prototype,n),r&&Kg(e,r),o}(le.a);function Rd(t){return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rd(t)}function Id(){return Id=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Id.apply(this,arguments)}function cO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ld(t,e){return Ld=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ld(t,e)}function lO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=jp(t);if(e){var i=jp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return fO(this,n)}}function fO(t,e){if(e&&(Rd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function jp(t){return jp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},jp(t)}var zd=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&Ld(o,c)})(i,t);var e,n,r=lO(i);function i(){return cO(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getShape",value:function(){var o=this.props.model,c=o.getNodeStyle();return Object(le.g)(Aa,Id({},c,{x:o.x,y:o.y,width:o.width,height:o.height,radius:o.radius}))}}])&&sO(e.prototype,n),i}(Gi);function Bd(t){return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bd(t)}function Fd(){return Fd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fd.apply(this,arguments)}function pO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ud(t,e){return Ud=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ud(t,e)}function dO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Sp(t);if(e){var i=Sp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yO(this,n)}}function yO(t,e){if(e&&(Bd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Sp(t){return Sp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Sp(t)}var Xd=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&Ud(o,c)})(i,t);var e,n,r=dO(i);function i(){return pO(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getShape",value:function(){var o=this.props.model,c=o.x,l=o.y,p=o.r,O=o.getNodeStyle();return Object(le.g)(Uc,Fd({},O,{x:c,y:l,r:p}))}}])&&hO(e.prototype,n),i}(Gi);function Hd(t){return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(t)}function vO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Zg(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Zg(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Zg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qg(t){var e=t.points,n=t.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(t).forEach(function(i){var o=vO(i,2),c=o[0],l=o[1];Hd(l)!=="object"&&(r[c]=l)}),r.className=n?"lf-basic-shape ".concat(n):"lf-basic-shape",r.points=e.map(function(i){return i.join(",")}).join(" "),Object(le.g)("polygon",r)}function Gd(t){return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gd(t)}function Yd(){return Yd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yd.apply(this,arguments)}function gO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wd(t,e){return Wd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Wd(t,e)}function mO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Pp(t);if(e){var i=Pp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return OO(this,n)}}function OO(t,e){if(e&&(Gd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Pp(t){return Pp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Pp(t)}var Vd=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&Wd(o,c)})(i,t);var e,n,r=mO(i);function i(){return gO(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getShape",value:function(){var o=this.props.model,c=o.x,l=o.y,p=o.width,O=o.height,w=o.points,A=o.getNodeStyle(),D={transform:"matrix(1 0 0 1 ".concat(c-p/2," ").concat(l-O/2,")")};return Object(le.g)("g",D,Object(le.g)(qg,Yd({},A,{points:w,x:c,y:l})))}}])&&bO(e.prototype,n),i}(Gi);function $d(t){return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$d(t)}function Kd(){return Kd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kd.apply(this,arguments)}function _O(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zd(t,e){return Zd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Zd(t,e)}function xO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ap(t);if(e){var i=Ap(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return EO(this,n)}}function EO(t,e){if(e&&($d(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ap(t){return Ap=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ap(t)}var qd=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&Zd(o,c)})(i,t);var e,n,r=xO(i);function i(){return _O(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getShape",value:function(){var o=this.props.model,c=o.getNodeStyle();return Object(le.g)("g",null,Object(le.g)(qg,Kd({},c,{points:o.points,x:o.x,y:o.y})))}}])&&wO(e.prototype,n),i}(Gi);function Jd(t){return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jd(t)}function jO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Jg(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Jg(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Jg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function SO(t){var e=t.x,n=e===void 0?0:e,r=t.y,i=r===void 0?0:r,o=t.rx,c=o===void 0?4:o,l=t.ry,p=l===void 0?4:l,O=t.className,w={cx:n,cy:i,rx:c,ry:p,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(A){var D=jO(A,2),F=D[0],Z=D[1];Jd(Z)!=="object"&&(w[F]=Z)}),w.className=O?"lf-basic-shape ".concat(O):"lf-basic-shape",Object(le.g)("ellipse",w)}function Qd(t){return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qd(t)}function ey(){return ey=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ey.apply(this,arguments)}function PO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ty(t,e){return ty=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ty(t,e)}function kO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=kp(t);if(e){var i=kp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return TO(this,n)}}function TO(t,e){if(e&&(Qd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function kp(t){return kp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},kp(t)}var ny=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&ty(o,c)})(i,t);var e,n,r=kO(i);function i(){return PO(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getShape",value:function(){var o=this.props.model,c=o.getNodeStyle();return Object(le.g)(SO,ey({},c,{x:o.x,y:o.y,rx:o.rx,ry:o.ry}))}}])&&AO(e.prototype,n),i}(Gi);function ry(t){return ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ry(t)}function Qg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qg(Object(n),!0).forEach(function(r){DO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function oy(t,e){return oy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},oy(t,e)}function CO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Tp(t);if(e){var i=Tp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return RO(this,n)}}function RO(t,e){if(e&&(ry(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Tp(t){return Tp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Tp(t)}var iy=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&oy(o,c)})(i,t);var e,n,r=CO(i);function i(){return MO(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getBackground",value:function(){var o=this.props.model,c=o.getTextStyle(),l=o.width,p=o.height,O=o.x,w=o.y,A=eb(eb({},c.background),{},{x:O,y:w-1,width:l,height:p});return Object(le.g)(Aa,A)}},{key:"getShape",value:function(){return Object(le.g)("g",null,this.getBackground())}}])&&NO(e.prototype,n),i}(Gi);function ay(t){return ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ay(t)}function uy(){return uy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uy.apply(this,arguments)}function IO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cy(t,e){return cy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},cy(t,e)}function zO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Dp(t);if(e){var i=Dp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return BO(this,n)}}function BO(t,e){if(e&&(ay(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cl(t)}function Cl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dp(t){return Dp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Dp(t)}function Mp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var sy=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&cy(o,c)})(i,t);var e,n,r=zO(i);function i(){var o;IO(this,i);for(var c=arguments.length,l=new Array(c),p=0;p<c;p++)l[p]=arguments[p];return Mp(Cl(o=r.call.apply(r,[this].concat(l))),"ref",void 0),Mp(Cl(o),"currentProperties",void 0),Mp(Cl(o),"preProperties",void 0),Mp(Cl(o),"setRef",function(O){o.ref=O}),o}return e=i,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(o){o.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currentProperties)return this.preProperties=this.currentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var o=this.props.model,c=o.x,l=o.y,p=o.height,O=o.width,w=o.getNodeStyle();return this.currentProperties=JSON.stringify(o.properties),Object(le.g)("foreignObject",uy({},w,{x:c-O/2,y:l-p/2,width:O,height:p,ref:this.setRef}))}}])&&LO(e.prototype,n),i}(Gi);function ly(t){return ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ly(t)}function fy(){return fy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fy.apply(this,arguments)}function tb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ku(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tb(Object(n),!0).forEach(function(r){dy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function py(t,e){return py=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},py(t,e)}function UO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Np(t);if(e){var i=Np(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return XO(this,n)}}function XO(t,e){if(e&&(ly(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hy(t)}function hy(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Np(t){return Np=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Np(t)}function dy(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var HO=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&py(o,c)})(i,t);var e,n,r=UO(i);function i(o){var c;return function(l,p){if(!(l instanceof p))throw new TypeError("Cannot call a class as a function")}(this,i),dy(hy(c=r.call(this,o)),"setHoverON",function(){c.setState({isHovered:!0})}),dy(hy(c),"setHoverOFF",function(){c.setState({isHovered:!1})}),c.state={isHovered:!1},c}return e=i,(n=[{key:"getBackground",value:function(){var o=this.props.model,c=o.getTextStyle(),l=o.text,p=o.width,O=c.background||{};if(this.state.isHovered&&c.hover&&c.hover.background&&(O=ku(ku({},O),c.hover.background)),l&&l.value&&O.fill!=="transparent"){var w,A=c.fontSize,D=c.overflowMode,F=c.lineHeight,Z=c.wrapPadding,te=c.textWidth,ye=l.value,ge=l.x,we=l.y,Ce=String(ye).split(/[\r\n]/g),$e=Ce.length;if(D==="autoWrap"&&te){var Je=kf({rows:Ce,style:{fontSize:"".concat(A,"px"),width:"".concat(te,"px"),lineHeight:F,padding:Z},rowsLength:$e,className:"lf-get-text-height"});w=ku(ku({},O),{},{x:ge-1,y:we-1,width:te,height:Je})}else{Ce&&Ce.forEach(function(Vt){pl(Vt)});var bt=Hs({rows:Ce,fontSize:A,rowsLength:$e}),Ze=bt.width,ft=bt.height;if(D==="ellipsis"&&(Ze=te||p,ft=A+2),typeof O.wrapPadding=="string"){var et=O.wrapPadding.split(",").filter(function(Vt){return Vt.trim()}).map(function(Vt){return parseFloat(Vt.trim())});et.length>0&&et.length<=4&&(et.length===1?et=[et[0],et[0],et[0],et[0]]:et.length===2?et=[et[0],et[1],et[0],et[1]]:et.length===3&&(et=[et[0],et[1],et[2],et[1]]),Ze+=et[1]+et[3],ft+=et[0]+et[2],ge+=(et[1]-et[3])/2,we+=(et[2]-et[0])/2)}w=ku(ku({},O),{},{x:ge-1,y:we-1,width:Ze,height:ft})}return Object(le.g)(Aa,w)}}},{key:"getShape",value:function(){var o=this.props.model,c=o.text,l=c.value,p=c.x,O=c.y;if(l){var w=ku({x:p,y:O,className:"lf-element-text",value:l},o.getTextStyle());return Object(le.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackground(),Object(le.g)(Gg,fy({},w,{model:o})))}}}])&&FO(e.prototype,n),i}(Wg);function yy(t){return yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yy(t)}var Oi,GO=["text","sourceAnchorId","targetAnchorId"];function nb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nb(Object(n),!0).forEach(function(r){lo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YO(t,e){if(t==null)return{};var n,r,i=function(c,l){if(c==null)return{};var p,O,w={},A=Object.keys(c);for(O=0;O<A.length;O++)p=A[O],l.indexOf(p)>=0||(w[p]=c[p]);return w}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function WO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||function(n,r){if(n){if(typeof n=="string")return rb(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return rb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function rb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vy(t,e){return vy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},vy(t,e)}function $O(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Cp(t);if(e){var i=Cp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return KO(this,n)}}function KO(t,e){if(e&&(yy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return so(t)}function so(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cp(t){return Cp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Cp(t)}function lo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(Oi||(Oi={}));var ob=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&vy(o,c)})(i,t);var e,n,r=$O(i);function i(o){var c;(function(w,A){if(!(w instanceof A))throw new TypeError("Cannot call a class as a function")})(this,i),lo(so(c=r.call(this)),"stepDragData",void 0),lo(so(c),"stepDrag",void 0),lo(so(c),"oldEdge",void 0),lo(so(c),"preTargetNode",void 0),lo(so(c),"targetRuleResults",void 0),lo(so(c),"sourceRuleResults",void 0),lo(so(c),"handleMouseDown",function(w){c.stepDrag&&c.stepDrag.handleMouseDown(w)}),lo(so(c),"onDragStart",function(){var w=c.props,A=w.x,D=w.y,F=w.edgeModel,Z=F.startPoint,te=F.endPoint,ye=F.pointsList;c.oldEdge={startPoint:Z,endPoint:te,pointsList:ye},c.setState({endX:A,endY:D,dragging:!0})}),lo(so(c),"onDragging",function(w){var A=w.deltaX,D=w.deltaY,F=c.state,Z=F.endX,te=F.endY,ye=c.props,ge=ye.graphModel,we=ye.type,Ce=ge.transformModel,$e=ge.editConfigModel,Je=WO(Ce.moveCanvasPointByHtml([Z,te],A,D),2),bt=Je[0],Ze=Je[1];c.setState({endX:bt,endY:Ze,dragging:!0});var ft=c.props.edgeModel,et=Mi({x:Z,y:te},ge);if(et&&et.node&&c.isAllowAdjust(et).pass){var Vt,qt=ft.startPoint,Tt=ft.endPoint,nn=ft.sourceNode,Un=ft.targetNode;we===Oi.SOURCE?Vt={startPoint:{x:et.anchor.x,y:et.anchor.y},endPoint:{x:Tt.x,y:Tt.y},sourceNode:et.node,targetNode:Un}:we===Oi.TARGET&&(Vt={startPoint:{x:qt.x,y:qt.y},endPoint:{x:et.anchor.x,y:et.anchor.y},sourceNode:nn,targetNode:et.node}),ft.updateAfterAdjustStartAndEnd(Vt)}else we===Oi.SOURCE?ft.updateStartPoint({x:bt,y:Ze}):we===Oi.TARGET&&ft.updateEndPoint({x:bt,y:Ze});ft.text.value&&$e.adjustEdge&&ft.setText(Object.assign({},ft.text,ft.textPosition))}),lo(so(c),"onDragEnd",function(w){var A=w.event;try{var D;c.setState({dragging:!1});var F=c.props,Z=F.graphModel,te=F.edgeModel,ye=F.type,ge=c.state,we=ge.endX,Ce=ge.endY,$e=ge.dragging,Je=Mi({x:we,y:Ce},Z);if(!$e)return;var bt,Ze=!1;if(Je&&Je.node){var ft=c.isAllowAdjust(Je),et=ft.pass,Vt=ft.msg,qt=ft.newTargetNode;if(et){var Tt=te.getData(),nn=Tt.text,Un=Tt.sourceAnchorId,Xn=Un===void 0?"":Un,jr=Tt.targetAnchorId;bt=Yi(Yi({sourceAnchorId:Xn,targetAnchorId:jr===void 0?"":jr},YO(Tt,GO)),{},{text:(nn==null?void 0:nn.value)||""}),ye===Oi.SOURCE?(bt=Yi(Yi({},Z.edgeGenerator(Z.getNodeModelById(Je.node.id).getData(),Z.getNodeModelById(te.targetNodeId).getData(),bt)),{},{sourceNodeId:Je.node.id,sourceAnchorId:Je.anchor.id,startPoint:{x:Je.anchor.x,y:Je.anchor.y},targetNodeId:te.targetNodeId,endPoint:Yi({},te.endPoint)}),te.sourceNodeId===Je.node.id&&te.sourceAnchorId===Je.anchor.id&&(Ze=!0)):ye===Oi.TARGET&&(bt=Yi(Yi({},Z.edgeGenerator(Z.getNodeModelById(te.sourceNodeId).getData(),Z.getNodeModelById(Je.node.id).getData(),bt)),{},{sourceNodeId:te.sourceNodeId,startPoint:Yi({},te.startPoint),targetNodeId:Je.node.id,targetAnchorId:Je.anchor.id,endPoint:{x:Je.anchor.x,y:Je.anchor.y}}),te.targetNodeId===Je.node.id&&te.targetAnchorId===Je.anchor.id&&(Ze=!0))}else{Ze=!0;var fo=qt.getData();Z.eventCenter.emit(lt.CONNECTION_NOT_ALLOWED,{data:fo,msg:Vt})}}else Ze=!0;if(Ze)c.recoveryEdge();else{var po=te.getData();Z.deleteEdgeById(te.id);var wi=Z.addEdge(Yi({},bt));Z.eventCenter.emit(lt.EDGE_EXCHANGE_NODE,{data:{newEdge:wi.getData(),oldEdge:po}})}(D=c.preTargetNode)===null||D===void 0||D.setElementState(un.DEFAULT)}finally{c.props.graphModel.eventCenter.emit(lt.ADJUST_POINT_DRAGEND,{e:A,data:c.stepDragData})}}),lo(so(c),"recoveryEdge",function(){var w=c.props.edgeModel,A=c.oldEdge,D=A.startPoint,F=A.endPoint,Z=A.pointsList;w.updateStartPoint(D),w.updateEndPoint(F),w.modelType!==Gt.LINE_EDGE&&(w.pointsList=Z,w.initPoints())}),lo(so(c),"getAdjustPointStyle",function(){var w=c.props,A=w.graphModel.theme;return w.edgeModel,A.edgeAdjust}),c.state={dragging:!1,endX:0,endY:0},c.targetRuleResults=new Map,c.sourceRuleResults=new Map;var l=o.type,p=o.edgeModel,O=o.graphModel.eventCenter;return c.stepDragData={type:l,edgeData:p.getData()},c.stepDrag=new ao({onDragStart:c.onDragStart,onDragging:c.onDragging,onDragEnd:c.onDragEnd,eventType:"ADJUST_POINT",isStopPropagation:!1,eventCenter:O,data:c.stepDragData}),c}return e=i,(n=[{key:"isAllowAdjust",value:function(o){var c=this.props,l=c.edgeModel,p=l.id,O=l.sourceNode,w=l.targetNode,A=l.sourceAnchorId,D=l.targetAnchorId,F=c.type,Z=null,te=null,ye=null,ge=null;if(F===Oi.SOURCE?(Z=o.node,te=w,ye=o.anchor,ge=w.getAnchorInfo(D)):(Z=O,te=o.node,ge=o.anchor,ye=O.getAnchorInfo(A)),this.preTargetNode&&this.preTargetNode!==o.node&&this.preTargetNode.setElementState(un.DEFAULT),this.preTargetNode=o.node,ge.id===ye.id)return{pass:!1,msg:"",newTargetNode:te};var we="".concat(Z.id,"_").concat(te.id,"_").concat(ye.id,"_").concat(ge.id);if(!this.targetRuleResults.has(we)){var Ce=Z.isAllowConnectedAsSource(te,ye,ge,p),$e=te.isAllowConnectedAsTarget(Z,ye,ge,p);this.sourceRuleResults.set(we,pu(Ce)),this.targetRuleResults.set(we,pu($e))}var Je=this.sourceRuleResults.get(we),bt=Je.isAllPass,Ze=Je.msg,ft=this.targetRuleResults.get(we),et=ft.isAllPass,Vt=ft.msg,qt=bt&&et?un.ALLOW_CONNECT:un.NOT_ALLOW_CONNECT;return F===Oi.SOURCE?Z.setElementState(qt):te.setElementState(qt),{pass:bt&&et,msg:Vt||Ze,newTargetNode:te}}},{key:"render",value:function(){var o=this.props,c=o.x,l=o.y,p=o.getAdjustPointShape,O=o.edgeModel,w=this.state.dragging;return Object(le.g)("g",{pointerEvents:w?"none":"",onMouseDown:this.handleMouseDown},w?"":p(c,l,O))}}])&&VO(e.prototype,n),i}(le.a);function gy(t){return gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gy(t)}function Rl(){return Rl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rl.apply(this,arguments)}function ZO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||function(n,r){if(n){if(typeof n=="string")return ib(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ib(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ib(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function by(t,e){return by=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},by(t,e)}function QO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Rp(t);if(e){var i=Rp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return e_(this,n)}}function e_(t,e){if(e&&(gy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jo(t)}function Jo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rp(t){return Rp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Rp(t)}function _i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Il=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&by(o,c)})(i,t);var e,n,r=QO(i);function i(){var o;qO(this,i);for(var c=arguments.length,l=new Array(c),p=0;p<c;p++)l[p]=arguments[p];return _i(Jo(o=r.call.apply(r,[this].concat(l))),"startTime",void 0),_i(Jo(o),"contextMenuTime",void 0),_i(Jo(o),"clickTimer",void 0),_i(Jo(o),"textRef",Object(le.f)()),_i(Jo(o),"handleHover",function(O,w){var A=o.props,D=A.model,F=A.graphModel.eventCenter;D.setHovered(O);var Z=O?lt.EDGE_MOUSEENTER:lt.EDGE_MOUSELEAVE,te=D.getData();F.emit(Z,{data:te,e:w})}),_i(Jo(o),"setHoverON",function(O){o.props.model.isHovered||(o.textRef&&o.textRef.current&&o.textRef.current.setHoverON(),o.handleHover(!0,O))}),_i(Jo(o),"setHoverOFF",function(O){o.props.model.isHovered&&(o.textRef&&o.textRef.current&&o.textRef.current.setHoverOFF(),o.handleHover(!1,O))}),_i(Jo(o),"handleContextMenu",function(O){O.preventDefault(),o.contextMenuTime=new Date().getTime(),o.clickTimer&&clearTimeout(o.clickTimer);var w=o.props,A=w.model,D=w.graphModel,F=D.getPointByClient({x:O.clientX,y:O.clientY});D.setElementStateById(A.id,un.SHOW_MENU,F.domOverlayPosition),o.toFront(),A.isSelected||D.selectEdgeById(A.id);var Z=A==null?void 0:A.getData();D.eventCenter.emit(lt.EDGE_CONTEXTMENU,{data:Z,e:O,position:F})}),_i(Jo(o),"handleMouseDown",function(O){O.stopPropagation(),o.startTime=new Date().getTime()}),_i(Jo(o),"handleMouseUp",function(O){if(o.startTime&&!(new Date().getTime()-o.startTime>200||O.button===2)){var w=O.detail===2,A=o.props,D=A.model,F=A.graphModel,Z=D==null?void 0:D.getData(),te=F.getPointByClient({x:O.clientX,y:O.clientY});if(w){var ye=F.editConfigModel,ge=F.textEditElement;if(ge&&ge.id===D.id&&F.setElementStateById(D.id,un.DEFAULT),ye.edgeTextEdit&&D.text.editable&&F.setElementStateById(D.id,un.TEXT_EDIT),D.modelType===Gt.POLYLINE_EDGE){var we=D,Ce=F.getPointByClient({x:O.x,y:O.y}).canvasOverlayPosition,$e=Ce.x,Je=Ce.y,bt=dl({x:$e,y:Je},we.points);we.dbClickPosition=bt}F.eventCenter.emit(lt.EDGE_DBCLICK,{data:Z,e:O,position:te})}else F.eventCenter.emit(lt.ELEMENT_CLICK,{data:Z,e:O,position:te}),F.eventCenter.emit(lt.EDGE_CLICK,{data:Z,e:O,position:te});var Ze=F.editConfigModel;F.selectEdgeById(D.id,Ao(O,Ze)),o.toFront()}}),o}return e=i,(n=[{key:"getShape",value:function(){return Object(le.g)("g",null,this.getEdge())}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var o=this.props,c=o.model,l=o.graphModel;if(c.state===un.TEXT_EDIT)return null;var p=!1,O=l.editConfigModel;return(c.text.draggable||O.edgeTextDraggable)&&(p=!0),Object(le.g)(HO,{ref:this.textRef,editable:O.edgeTextEdit&&c.text.editable,model:c,graphModel:l,draggable:p})}},{key:"getArrowInfo",value:function(){var o=this.props.model,c=o.startPoint,l=o.endPoint,p=o.isSelected;return{start:c,end:l,hover:this.state.hover,isSelected:p}}},{key:"getLastTwoPoints",value:function(){var o=this.props.model;return[o.startPoint,o.endPoint]}},{key:"getArrowStyle",value:function(){return null}},{key:"getArrow",value:function(){var o=this.props.model,c=o.id,l=o.getArrowStyle(),p=l.refY,O=p===void 0?0:p,w=l.refX,A=w===void 0?2:w,D=ZO(this.getLastTwoPoints(),2),F=D[0],Z=D[1],te="auto";return F!==null&&Z!==null&&(te=Rn(wr({x:Z.x-F.x,y:Z.y-F.y,z:0}))),Object(le.g)("g",null,Object(le.g)("defs",null,Object(le.g)("marker",{id:"marker-start-".concat(c),refX:-A,refY:O,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getStartArrow()),Object(le.g)("marker",{id:"marker-end-".concat(c),refX:A,refY:O,overflow:"visible",orient:te,markerUnits:"userSpaceOnUse"},this.getEndArrow())))}},{key:"getStartArrow",value:function(){var o=this.props.model.getArrowStyle();return o.stroke,o.strokeWidth,o.offset,o.verticalLength,Object(le.g)("path",null)}},{key:"getEndArrow",value:function(){var o=this.props.model.getArrowStyle(),c=o.stroke,l=o.strokeWidth,p=o.offset,O=o.verticalLength;return Object(le.g)("path",{stroke:c,fill:c,strokeWidth:l,transform:"rotate(180)",d:"M 0 0 L ".concat(p," -").concat(O," L ").concat(p," ").concat(O," Z")})}},{key:"getAdjustPointShape",value:function(o,c,l){var p=l.getAdjustPointStyle();return Object(le.g)(Uc,Rl({className:"lf-edge-adjust-point"},p,{x:o,y:c}))}},{key:"getAdjustPoints",value:function(){var o=this.props,c=o.model,l=o.graphModel,p=c.getAdjustStart(),O=c.getAdjustEnd();return Object(le.g)("g",null,Object(le.g)(ob,Rl({type:"SOURCE"},p,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:c,graphModel:l})),Object(le.g)(ob,Rl({type:"TARGET"},O,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:c,graphModel:l})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(le.g)("g",null)}},{key:"getAppend",value:function(){return Object(le.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"getEdge",value:function(){return null}},{key:"toFront",value:function(){var o=this.props,c=o.graphModel,l=o.model;c.toFront(l.id)}},{key:"render",value:function(){var o=this.props,c=o.model,l=c.isSelected,p=c.isHitable,O=c.isShowAdjustPoint;return o.graphModel.animation,Object(le.g)("g",null,Object(le.g)("g",{className:["lf-edge",!p&&"pointer-none",l&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),this.getText(),this.getArrow()),O&&l?this.getAdjustPoints():"")}}])&&JO(e.prototype,n),i}(le.a);function my(t){return my=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},my(t)}function t_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||function(n,r){if(n){if(typeof n=="string")return ab(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ab(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ab(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ll=function(t){var e={d:""};return Object.entries(t).forEach(function(n){var r=t_(n,2),i=r[0],o=r[1],c=my(o);i!=="style"&&c==="object"||(e[i]=o)}),Object(le.g)("path",e)};function Oy(t){return Oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oy(t)}function _y(){return _y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_y.apply(this,arguments)}function n_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wy(t,e){return wy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},wy(t,e)}function o_(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ip(t);if(e){var i=Ip(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return i_(this,n)}}function i_(t,e){if(e&&(Oy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ip(t){return Ip=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ip(t)}var xy=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&wy(o,c)})(i,t);var e,n,r=o_(i);function i(){return n_(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getEdge",value:function(){var o=this.props.model,c=o.startPoint,l=o.endPoint,p=o.isAnimation,O=o.arrowConfig,w=o.getEdgeStyle(),A=o.getEdgeAnimationStyle(),D=A.strokeDasharray,F=A.stroke,Z=A.strokeDashoffset,te=A.animationName,ye=A.animationDuration,ge=A.animationIterationCount,we=A.animationTimingFunction,Ce=A.animationDirection;return Object(le.g)(Bc,_y({},w,{x1:c.x,y1:c.y,x2:l.x,y2:l.y},O,p?{strokeDasharray:D,stroke:F,style:{strokeDashoffset:Z,animationName:te,animationDuration:ye,animationIterationCount:ge,animationTimingFunction:we,animationDirection:Ce}}:{}))}},{key:"getAppendWidth",value:function(){var o=this.props.model,c=o.startPoint,l=o.endPoint,p=hl({start:c,end:l}),O=p.d,w=p.strokeWidth,A=p.fill,D=p.strokeDasharray,F=p.stroke;return Object(le.g)(Ll,{d:O,fill:A,strokeWidth:w,stroke:F,strokeDasharray:D})}}])&&r_(e.prototype,n),i}(Il);function Ey(t){return Ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ey(t)}function a_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||function(n,r){if(n){if(typeof n=="string")return ub(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ub(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ub(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var u_=function(t){var e={points:"",fill:"none"};return Object.entries(t).forEach(function(n){var r=a_(n,2),i=r[0],o=r[1];(i==="style"||Ey(o)!=="object")&&(e[i]=o)}),Object(le.g)("polyline",e)};function jy(t){return jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jy(t)}function cb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cb(Object(n),!0).forEach(function(r){Vi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sy(){return Sy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sy.apply(this,arguments)}function c_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||function(n,r){if(n){if(typeof n=="string")return sb(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return sb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function sb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Py(t,e){return Py=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Py(t,e)}function l_(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=zp(t);if(e){var i=zp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f_(this,n)}}function f_(t,e){if(e&&(jy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wi(t)}function Wi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zp(t){return zp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},zp(t)}function Vi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ay=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&Py(o,c)})(i,t);var e,n,r=l_(i);function i(){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,i),Vi(Wi(o=r.call(this)),"drag",void 0),Vi(Wi(o),"isDragging",void 0),Vi(Wi(o),"isShowAdjustPointTemp",void 0),Vi(Wi(o),"appendInfo",void 0),Vi(Wi(o),"onDragStart",function(){var c=o.props.model;c.dragAppendStart(),o.isShowAdjustPointTemp=c.isShowAdjustPoint,c.isShowAdjustPoint=!1}),Vi(Wi(o),"onDragging",function(c){var l=c.deltaX,p=c.deltaY,O=o.props,w=O.model,A=O.graphModel;o.isDragging=!0;var D=A.transformModel,F=A.editConfigModel,Z=c_(D.fixDeltaXY(l,p),2),te=Z[0],ye=Z[1],ge=w,we=F.adjustEdgeMiddle;o.appendInfo=we?ge.dragAppendSimple(o.appendInfo,{x:te,y:ye}):ge.dragAppend(o.appendInfo,{x:te,y:ye})}),Vi(Wi(o),"onDragEnd",function(){var c=o.props,l=c.model,p=c.graphModel.eventCenter,O=l;O.dragAppendEnd(),o.isDragging=!1,O.isShowAdjustPoint=o.isShowAdjustPointTemp,o.appendInfo=void 0,p.emit(lt.EDGE_ADJUST,{data:O.getData()})}),Vi(Wi(o),"beforeDragStart",function(c,l){l.dragAble&&o.drag.handleMouseDown(c),o.appendInfo=l}),o.drag=new ao({onDragStart:o.onDragStart,onDragging:o.onDragging,onDragEnd:o.onDragEnd,isStopPropagation:!1}),o}return e=i,(n=[{key:"getEdge",value:function(){var o=this.props.model,c=o.points,l=o.isAnimation,p=o.arrowConfig,O=o.getEdgeStyle(),w=o.getEdgeAnimationStyle(),A=w.strokeDasharray,D=w.stroke,F=w.strokeDashoffset,Z=w.animationName,te=w.animationDuration,ye=w.animationIterationCount,ge=w.animationTimingFunction,we=w.animationDirection;return Object(le.g)(u_,Sy({points:c},O,p,l?{strokeDasharray:A,stroke:D,style:{strokeDashoffset:F,animationName:Z,animationDuration:te,animationIterationCount:ye,animationTimingFunction:ge,animationDirection:we}}:{}))}},{key:"getArrowInfo",value:function(){var o=this.props.model,c=o.points,l=o.isSelected,p={start:null,end:null,hover:this.state.hover,isSelected:l},O=di(c);return O.length>=2&&(p.start=O[O.length-2],p.end=O[O.length-1]),p}},{key:"getLastTwoPoints",value:function(){var o=this.props.model.points,c=di(o);return c.length>=2?[c[c.length-2],c[c.length-1]]:[null,null]}},{key:"getAppendAttributes",value:function(o){var c,l=o.start,p=o.end;if(l.x===p.x&&l.y===p.y)c="";else{var O={start:l,end:p,offset:10,verticalLength:5},w=yu(Lp(Lp({},O),{},{type:"start"})),A=yu(Lp(Lp({},O),{},{type:"end"}));c="M".concat(w.leftX," ").concat(w.leftY,` 
      L`).concat(w.rightX," ").concat(w.rightY,` 
      L`).concat(A.rightX," ").concat(A.rightY,`
      L`).concat(A.leftX," ").concat(A.leftY," z")}return{d:c,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(o){var c=this.getAppendAttributes(o),l=c.d,p=c.strokeWidth,O=c.fill,w=c.strokeDasharray,A=c.stroke;return Object(le.g)(Ll,{d:l,fill:O,strokeWidth:p,stroke:A,strokeDasharray:w})}},{key:"getAppendWidth",value:function(){for(var o=this,c=this.props,l=c.model,p=c.graphModel,O=l.pointsList,w=l.draggable,A=[],D=O.length,F=function(te){var ye="lf-polyline-append",ge={start:{x:O[te].x,y:O[te].y},end:{x:O[te+1].x,y:O[te+1].y},startIndex:te,endIndex:te+1,direction:"",dragAble:!0},we=Object(le.g)("g",{className:ye},o.getAppendShape(ge)),Ce=p.editConfigModel,$e=Ce.adjustEdge,Je=Ce.adjustEdgeMiddle;if($e&&w){var bt=ge.startIndex,Ze=ge.endIndex,ft=Je&&(bt===0||Ze===D-1);ge.dragAble=!ft,ge.start.x===ge.end.x?(ge.dragAble&&(ye+="-ew-resize"),ge.direction=vn.VERTICAL):ge.start.y===ge.end.y&&(ge.dragAble&&(ye+="-ns-resize"),ge.direction=vn.HORIZONTAL),we=Object(le.g)("g",{className:o.isDragging?"lf-dragging":"lf-drag-able",onMouseDown:function(et){return o.beforeDragStart(et,ge)}},Object(le.g)("g",{className:ye},o.getAppendShape(ge)))}A.push(we)},Z=0;Z<D-1;Z++)F(Z);return Object(le.g)("g",null,A)}}])&&s_(e.prototype,n),i}(Il);function ky(t){return ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ky(t)}function p_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||function(n,r){if(n){if(typeof n=="string")return lb(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return lb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function lb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ty(){return Ty=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ty.apply(this,arguments)}function h_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dy(t,e){return Dy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Dy(t,e)}function y_(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Bp(t);if(e){var i=Bp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v_(this,n)}}function v_(t,e){if(e&&(ky(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Bp(t){return Bp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Bp(t)}var My=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&Dy(o,c)})(i,t);var e,n,r=y_(i);function i(){return h_(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getEdge",value:function(){var o=this.props.model,c=o.getEdgeStyle(),l=o.path,p=o.isAnimation,O=o.arrowConfig,w=o.getEdgeAnimationStyle(),A=w.strokeDasharray,D=w.stroke,F=w.strokeDashoffset,Z=w.animationName,te=w.animationDuration,ye=w.animationIterationCount,ge=w.animationTimingFunction,we=w.animationDirection;return Object(le.g)(Ll,Ty({d:l},c,O,p?{strokeDasharray:A,stroke:D,style:{strokeDashoffset:F,animationName:Z,animationDuration:te,animationIterationCount:ye,animationTimingFunction:ge,animationDirection:we}}:{}))}},{key:"getAppendWidth",value:function(){var o=this.props.model.path;return Object(le.g)(Ll,{d:o,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var o=this.props.model,c=this.state.hover,l=o.isSelected,p=o.getArrowStyle().offset,O=o.pointsList.map(function(A){return{x:A.x,y:A.y}}),w=p_(Dc(O,p),2);return{start:w[0],end:w[1],hover:c,isSelected:l}}},{key:"getLastTwoPoints",value:function(){var o=this.props.model,c=o.getArrowStyle().offset,l=o.pointsList.map(function(p){return{x:p.x,y:p.y}});return Dc(l,c)}}])&&d_(e.prototype,n),i}(Il);function Ny(t){return Ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ny(t)}function fb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function g_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Cy(t,e){return Cy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Cy(t,e)}function O_(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Fp(t);if(e){var i=Fp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return __(this,n)}}function __(t,e){if(e&&(Ny(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Fp(t){return Fp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Fp(t)}var w_=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&Cy(o,c)})(i,t);var e,n,r=O_(i);function i(){return b_(this,i),r.apply(this,arguments)}return e=i,n=[{key:"getArrowAttributes",value:function(){var o=this.props,c=o.arrowInfo,l=o.style,p=c.start,O=c.end,w={start:p,end:O,offset:l.offset,verticalLength:l.verticalLength,type:"end"},A=yu(w),D=A.leftX,F=A.leftY,Z=A.rightX,te=A.rightY;return function(ye){for(var ge=1;ge<arguments.length;ge++){var we=arguments[ge]!=null?arguments[ge]:{};ge%2?fb(Object(we),!0).forEach(function(Ce){g_(ye,Ce,we[Ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ye,Object.getOwnPropertyDescriptors(we)):fb(Object(we)).forEach(function(Ce){Object.defineProperty(ye,Ce,Object.getOwnPropertyDescriptor(we,Ce))})}return ye}({d:"M".concat(D," ").concat(F," L").concat(O.x," ").concat(O.y," L").concat(Z," ").concat(te," z")},l)}},{key:"getShape",value:function(){var o=this.getArrowAttributes(),c=o.d,l=o.strokeWidth,p=o.stroke,O=o.fill;return Object(le.g)(Ll,{d:c,fill:O,strokeWidth:l,stroke:p})}},{key:"render",value:function(){return Object(le.g)("g",{className:"lf-arrow"},this.getShape())}}],n&&m_(e.prototype,n),i}(le.a),pb=function(t,e){return xe(t,e)},x_=function(t){var e=t==null?0:t.length;return e?t[e-1]:void 0},Ry=function(){return st.a.Date.now()},E_=/\s/,j_=function(t){for(var e=t.length;e--&&E_.test(t.charAt(e)););return e},S_=/^\s+/,P_=function(t){return t&&t.slice(0,j_(t)+1).replace(S_,"")},A_=/^[-+]0x[0-9a-f]+$/i,k_=/^0b[01]+$/i,T_=/^0o[0-7]+$/i,D_=parseInt,hb=function(t){if(typeof t=="number")return t;if(Lt(t))return NaN;if(jn(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=jn(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=P_(t);var n=k_.test(t);return n||T_.test(t)?D_(t.slice(2),n?2:8):A_.test(t)?NaN:+t},M_=Math.max,N_=Math.min,C_=function(t,e,n){var r,i,o,c,l,p,O=0,w=!1,A=!1,D=!0;if(typeof t!="function")throw new TypeError("Expected a function");function F(Ce){var $e=r,Je=i;return r=i=void 0,O=Ce,c=t.apply(Je,$e)}function Z(Ce){return O=Ce,l=setTimeout(ye,e),w?F(Ce):c}function te(Ce){var $e=Ce-p;return p===void 0||$e>=e||$e<0||A&&Ce-O>=o}function ye(){var Ce=Ry();if(te(Ce))return ge(Ce);l=setTimeout(ye,function($e){var Je=e-($e-p);return A?N_(Je,o-($e-O)):Je}(Ce))}function ge(Ce){return l=void 0,D&&r?F(Ce):(r=i=void 0,c)}function we(){var Ce=Ry(),$e=te(Ce);if(r=arguments,i=this,p=Ce,$e){if(l===void 0)return Z(p);if(A)return clearTimeout(l),l=setTimeout(ye,e),F(p)}return l===void 0&&(l=setTimeout(ye,e)),c}return e=hb(e)||0,jn(n)&&(w=!!n.leading,o=(A="maxWait"in n)?M_(hb(n.maxWait)||0,e):o,D="trailing"in n?!!n.trailing:D),we.cancel=function(){l!==void 0&&clearTimeout(l),O=0,r=p=i=l=void 0},we.flush=function(){return l===void 0?c:ge(Ry())},we},R_=u(172);function I_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ma(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var db,yb,vb,L_=function(){function t(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,t),Ma(this,"undos",[]),Ma(this,"redos",[]),Ma(this,"callbacks",[]),Ma(this,"stopWatch",null),Ma(this,"curData",null),Ma(this,"maxSize",50),Ma(this,"waitTime",100),Ma(this,"eventCenter",void 0),this.eventCenter=r}var e,n;return e=t,(n=[{key:"add",value:function(r){pb(x_(this.undos),r)||(this.undos.push(r),pb(this.curData,r)||(this.redos=[]),this.eventCenter.emit(lt.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var r=this.undos.pop();this.redos.push(r);var i=this.undos.pop();return this.curData=wn(i),i}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var r=this.redos.pop();return this.curData=wn(r),r}}},{key:"watch",value:function(r){var i=this;this.stopWatch&&this.stopWatch(),this.undos.push(r.modelToGraphData()),this.stopWatch=Object(R_.a)(r,C_(function(){var o=r.modelToHistoryData();o&&i.add(o)},this.waitTime))}}])&&I_(e.prototype,n),t}();function Iy(t){return Iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iy(t)}function z_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||function(n,r){if(n){if(typeof n=="string")return gb(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return gb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function gb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bb(Object(n),!0).forEach(function(r){Du(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ly(t,e){return Ly=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ly(t,e)}function B_(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Up(t);if(e){var i=Up(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return F_(this,n)}}function F_(t,e){if(e&&(Iy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jc(t)}function Jc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Up(t){return Up=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Up(t)}function Du(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ob,_b,wb,zy=Qo((vb=yb=function(t){(function(c,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(l&&l.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),l&&Ly(c,l)})(o,t);var e,n,r,i=B_(o);function o(){var c;return function(l,p){if(!(l instanceof p))throw new TypeError("Cannot call a class as a function")}(this,o),Du(Jc(c=i.call(this)),"ref",Object(le.f)()),Du(Jc(c),"__prevText",{type:"",text:"",id:""}),Du(Jc(c),"keyupHandler",function(l){var p=c.props.graphModel.textEditElement;l.key==="Enter"&&l.altKey&&p.setElementState(0)}),Du(Jc(c),"inputHandler",function(l){var p=l.target.innerText,O=c.props.graphModel.textEditElement;c.__prevText={type:O.type,text:p.replace(/(\r\n)+$|(\n)+$/,""),id:O.id}}),Du(Jc(c),"keydownHandler",function(l){l.stopPropagation()}),c.state={style:{left:0,top:0}},c}return e=o,r=[{key:"getDerivedStateFromProps",value:function(c){var l,p=c.graphModel,O=p.transformModel,w=p.theme,A=w.inputText,D=p.textEditElement;if(D){var F;if((F=D.text)===null||F===void 0||!F.value)if(D.BaseType===Fn.EDGE){var Z=(D=D).text,te=D.textPosition,ye=te.x,ge=te.y;Z.x=ye,Z.y=ge,D.setText(Z)}else D=D;var we={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(D.BaseType===Fn.EDGE){var Ce=w.edgeText,$e=Ce.overflowMode,Je=Ce.lineHeight,bt=Ce.wrapPadding,Ze=Ce.textWidth;Ze&&$e==="autoWrap"&&(l=Tu(Tu({},we),{},{width:Ze,minWidth:Ze,lineHeight:Je,padding:bt}))}else if(D.BaseType===Fn.NODE){var ft=w.nodeText,et=ft.overflowMode,Vt=ft.lineHeight,qt=ft.wrapPadding,Tt=ft.textWidth,nn=D,Un=nn.width,Xn=nn.modelType,jr=nn.textWidth||Tt||Un;(Xn!==Gt.TEXT_NODE&&et==="autoWrap"||Xn===Gt.TEXT_NODE&&Tt)&&(l=Tu(Tu({},we),{},{width:jr,minWidth:jr,lineHeight:Vt,padding:qt}))}var fo=D.text,po=fo.x,wi=fo.y,Mu=z_(O.CanvasPointToHtmlPoint([po,wi]),2);return{style:Tu(Tu({left:Mu[0],top:Mu[1]},l),A)}}}}],(n=[{key:"componentDidUpdate",value:function(){var c=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var l=this.__prevText,p=l.text,O=l.id;c.updateText(O,p),c.eventCenter.emit(lt.TEXT_UPDATE,Tu({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(c){if(window.getSelection!==void 0&&document.createRange!==void 0){var l=document.createRange();l.selectNodeContents(c),l.collapse(!1);var p=window.getSelection();p.removeAllRanges(),p.addRange(l)}}},{key:"render",value:function(){var c,l=this.props.graphModel.textEditElement,p=this.state.style;return l?Object(le.g)("div",{contentEditable:!0,className:"lf-text-input",style:p,ref:this.ref,key:l.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler},(c=l.text)===null||c===void 0?void 0:c.value):null}}])&&mb(e.prototype,n),r&&mb(e,r),o}(le.a),Du(yb,"toolName","textEdit"),db=vb))||db,U_=function(t){return t.modelType===Gt.LINE_EDGE?function(e){var n=e.startPoint,r=e.endPoint,i=(n.x+r.x)/2,o=(n.y+r.y)/2,c=Math.abs(n.x-r.x)+10,l=Math.abs(n.y-r.y)+10;return{x:i-c/2,y:o-l/2,x1:i+c/2,y1:o+l/2}}(t):t.modelType===Gt.POLYLINE_EDGE?function(e){var n=e.points,r=di(n),i=Ea(r,8),o=i.x,c=i.y,l=i.width,p=i.height;return{x:o-l/2,y:c-p/2,x1:o+l/2,y1:c+p/2}}(t):t.modelType===Gt.BEZIER_EDGE?function(e){var n=e.path,r=Tc(n),i=Ea(r,8),o=i.x,c=i.y,l=i.width,p=i.height;return{x:o-l/2,y:c-p/2,x1:o+l/2,y1:c+p/2}}(t):void 0};function By(t){return By=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},By(t)}function xb(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,l=[],p=!0,O=!1;try{for(i=i.call(n);!(p=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);p=!0);}catch(w){O=!0,c=w}finally{try{p||i.return==null||i.return()}finally{if(O)throw c}}return l}}(t,e)||Eb(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function X_(t){return function(e){if(Array.isArray(e))return Fy(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Eb(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Eb(t,e){if(t){if(typeof t=="string")return Fy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fy(t,e):void 0}}function Fy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function H_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Uy(t,e){return Uy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Uy(t,e)}function G_(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Xp(t);if(e){var i=Xp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Y_(this,n)}}function Y_(t,e){if(e&&(By(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zl(t)}function zl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xp(t){return Xp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Xp(t)}function Bl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Xy=Qo((wb=_b=function(t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),c&&Uy(o,c)})(i,t);var e,n,r=G_(i);function i(o){var c;(function(w,A){if(!(w instanceof A))throw new TypeError("Cannot call a class as a function")})(this,i),Bl(zl(c=r.call(this)),"stepDrag",void 0),Bl(zl(c),"handleMouseDown",function(w){c.stepDrag.handleMouseDown(w)}),Bl(zl(c),"onDragging",function(w){var A=w.deltaX,D=w.deltaY,F=c.props.graphModel,Z=F.getSelectElements(!0);F.moveNodes(Z.nodes.map(function(te){return te.id}),A,D)}),Bl(zl(c),"handleContextMenu",function(w){w.preventDefault();var A=c.props,D=A.graphModel,F=A.graphModel,Z=F.eventCenter,te=F.selectElements,ye=D.getPointByClient({x:w.clientX,y:w.clientY}),ge={nodes:[],edges:[]};X_(te.values()).forEach(function(we){we.BaseType===Fn.NODE&&ge.nodes.push(we.getData()),we.BaseType===Fn.EDGE&&ge.edges.push(we.getData())}),Z.emit(lt.SELECTION_CONTEXTMENU,{data:ge,e:w,position:ye})});var l=o.graphModel,p=l.gridSize,O=l.eventCenter;return c.stepDrag=new ao({onDragging:c.onDragging,step:p,eventType:"SELECTION",eventCenter:O}),c}return e=i,(n=[{key:"render",value:function(){var o=this.props.graphModel,c=o.selectElements,l=o.transformModel;if(!(c.size<=1)){var p=Number.MAX_SAFE_INTEGER,O=Number.MAX_SAFE_INTEGER,w=Number.MIN_SAFE_INTEGER,A=Number.MIN_SAFE_INTEGER;c.forEach(function(te){var ye={x:0,y:0,x1:0,y1:0};te.BaseType===Fn.NODE&&(ye=function(ge){var we=ge.x,Ce=ge.y,$e=ge.width,Je=ge.height;return{x:we-$e/2,y:Ce-Je/2,x1:we+$e/2,y1:Ce+Je/2}}(te)),te.BaseType===Fn.EDGE&&(ye=U_(te)),p=Math.min(p,ye.x),O=Math.min(O,ye.y),w=Math.max(w,ye.x1),A=Math.max(A,ye.y1)});var D=xb(l.CanvasPointToHtmlPoint([p,O]),2);p=D[0],O=D[1];var F=xb(l.CanvasPointToHtmlPoint([w,A]),2);w=F[0],A=F[1];var Z={left:"".concat(p-10,"px"),top:"".concat(O-10,"px"),width:"".concat(w-p+20,"px"),height:"".concat(A-O+20,"px")};return Object(le.g)("div",{className:"lf-multiple-select",style:Z,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}])&&H_(e.prototype,n),i}(le.a),Bl(_b,"toolName","multipleSelect"),Ob=wb))||Ob;function W_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var V_=function(){function t(r){(function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),Hp(this,"tools",void 0),Hp(this,"components",void 0),Hp(this,"toolMap",new Map),Hp(this,"instance",void 0),this.instance=r,this.isDisabledTool(zy.toolName)||this.registerTool(zy.toolName,zy),this.isDisabledTool(Xy.toolName)||this.registerTool(Xy.toolName,Xy);var i=r.graphModel;i.eventCenter.on("".concat(lt.GRAPH_TRANSFORM,",").concat(lt.NODE_CLICK,",").concat(lt.BLANK_CLICK," "),function(){var o=i.textEditElement,c=i.editConfigModel,l=c.edgeTextEdit,p=c.nodeTextEdit;(l||p)&&o&&i.textEditElement.setElementState(un.DEFAULT)})}var e,n;return e=t,(n=[{key:"isDisabledTool",value:function(r){return this.instance.options.disabledTools.indexOf(r)!==-1}},{key:"registerTool",value:function(r,i){this.toolMap.set(r,i)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&W_(e.prototype,n),t}(),$_=u(173),K_=u.n($_);function Z_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hy(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var jb=function(){function t(r){(function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),Hy(this,"mousetrap",void 0),Hy(this,"options",void 0),Hy(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var i=r.lf;this.target=i.container,this.mousetrap=new K_.a(this.target),r.keyboard.enabled&&!i.options.isSilentMode&&this.enable(!0)}var e,n;return e=t,(n=[{key:"initShortcuts",value:function(){var r=this,i=this.options.keyboard.shortcuts;if(i)if(dn(i))i.forEach(function(p){var O=p.keys,w=p.callback,A=p.action;return r.on(O,w,A)});else{var o=i.keys,c=i.callback,l=i.action;this.on(o,c,l)}}},{key:"on",value:function(r,i,o){this.mousetrap.bind(this.getKeys(r),i,o)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(r,i){this.mousetrap.unbind(this.getKeys(r),i)}},{key:"enable",value:function(r){(this.disabled||r)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(r){var i=this;return(Array.isArray(r)?r:[r]).map(function(o){return i.formatKey(o)})}},{key:"formatKey",value:function(r){return r.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&Z_(e.prototype,n),t}(),q_=jb,$i=null;function Sb(t,e){return t.x+=e,t.y+=e,t.text&&(t.text.x+=e,t.text.y+=e),t}function Pb(t,e){return t.startPoint&&(t.startPoint.x+=e,t.startPoint.y+=e),t.endPoint&&(t.endPoint.x+=e,t.endPoint.y+=e),t.pointsList&&t.pointsList.length>0&&t.pointsList.forEach(function(n){n.x+=e,n.y+=e}),t.text&&(t.text.x+=e,t.text.y+=e),t}var Qc=40,Gy=40;function Yy(t){return Yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yy(t)}function Ab(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ab(Object(n),!0).forEach(function(r){Ln(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ab(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ln(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Wy=Symbol("plugin register by Logicflow.use"),Vy=function(){function t(i){var o,c,l=this;(function(p,O){if(!(p instanceof O))throw new TypeError("Cannot call a class as a function")})(this,t),Ln(this,"container",void 0),Ln(this,"width",void 0),Ln(this,"height",void 0),Ln(this,"graphModel",void 0),Ln(this,"history",void 0),Ln(this,"viewMap",new Map),Ln(this,"tool",void 0),Ln(this,"keyboard",void 0),Ln(this,"dnd",void 0),Ln(this,"options",void 0),Ln(this,"snaplineModel",void 0),Ln(this,"components",[]),Ln(this,"plugins",void 0),Ln(this,"extension",{}),Ln(this,"adapterIn",void 0),Ln(this,"adapterOut",void 0),Ln(this,"getView",function(p){return l.viewMap.get(p)}),i=Ev(i),this.options=i,this.container=this.initContainer(i.container),this.plugins=i.plugins,this.graphModel=new zc(Fl({},i)),this.tool=new V_(this),this.history=new L_(this.graphModel.eventCenter),this.dnd=new Wm({lf:this}),this.keyboard=new q_({lf:this,keyboard:i.keyboard}),i.snapline!==!1&&(this.snaplineModel=new zg(this.graphModel),o=this.graphModel.eventCenter,c=this.snaplineModel,o.on("node:mousemove",function(p){var O=p.data;c.setNodeSnapLine(O)}),o.on("node:mouseup",function(){c.clearSnapline()})),function(p,O){var w=p.keyboard,A=w.options.keyboard;w.on(["cmd + c","ctrl + c"],function(){if(Gy=Qc,!A.enabled||O.textEditElement)return!0;var D=p.options.guards,F=O.getSelectElements(!1);return D&&D.beforeClone&&!D.beforeClone(F)||F.nodes.length===0&&F.edges.length===0?($i=null,!0):(($i=F).nodes.forEach(function(Z){return Sb(Z,Qc)}),$i.edges.forEach(function(Z){return Pb(Z,Qc)}),!1)}),w.on(["cmd + v","ctrl + v"],function(){if(!A.enabled||O.textEditElement)return!0;if($i&&($i.nodes||$i.edges)){p.clearSelectElements();var D=p.addElements($i,Gy);if(!D)return!0;D.nodes.forEach(function(F){return p.selectElementById(F.id,!0)}),D.edges.forEach(function(F){return p.selectElementById(F.id,!0)}),$i.nodes.forEach(function(F){return Sb(F,Qc)}),$i.edges.forEach(function(F){return Pb(F,Qc)}),Gy+=Qc}return!1}),w.on(["cmd + z","ctrl + z"],function(){return!A.enabled||!!O.textEditElement||(p.undo(),!1)}),w.on(["cmd + y","ctrl + y"],function(){return!A.enabled||!!O.textEditElement||(p.redo(),!1)}),w.on(["backspace"],function(){if(!A.enabled||O.textEditElement)return!0;var D=O.getSelectElements(!0);return p.clearSelectElements(),D.edges.forEach(function(F){return p.deleteEdge(F.id)}),D.nodes.forEach(function(F){return p.deleteNode(F.id)}),!1})}(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(i.disabledPlugins)}var e,n,r;return e=t,n=[{key:"register",value:function(i,o){var c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(typeof i=="string"){var l={BaseEdge:Il,BaseEdgeModel:Ys,BaseNode:Gi,BaseNodeModel:Hi,RectNode:zd,RectNodeModel:yd,CircleNode:Xd,CircleNodeModel:Zh,PolygonNode:Vd,PolygonNodeModel:fd,TextNode:iy,TextNodeModel:md,LineEdge:xy,LineEdgeModel:Ci,DiamondNode:qd,DiamondNodeModel:td,PolylineEdge:Ay,PolylineEdgeModel:Sc,BezierEdge:My,BezierEdgeModel:Gh,EllipseNode:ny,EllipseNodeModel:id,HtmlNode:sy,HtmlNodeModel:wd,h:le.g,type:i};this.viewMap.forEach(function(D){var F=D.extendKey;F&&(l[F]=D)}),this.graphModel.modelMap.forEach(function(D){var F=D.extendKey;F&&(l[F]=D)});var p=o(l),O=p.view,w=p.model,A=O;c&&!A.isObervered&&(A.isObervered=!0,A=at(A)),this.setView(i,A),this.graphModel.setModel(i,w)}else this.registerElement(i)}},{key:"registerElement",value:function(i){var o=i.view;i.isObserverView===!1||o.isObervered||(o.isObervered=!0,o=at(o)),this.setView(i.type,o),this.graphModel.setModel(i.type,i.model)}},{key:"batchRegister",value:function(){var i=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];o.forEach(function(c){i.registerElement(c)})}},{key:"defaultRegister",value:function(){this.registerElement({view:zd,model:yd,type:"rect"}),this.registerElement({type:"circle",view:Xd,model:Zh}),this.registerElement({type:"polygon",view:Vd,model:fd}),this.registerElement({type:"line",view:xy,model:Ci}),this.registerElement({type:"polyline",view:Ay,model:Sc}),this.registerElement({type:"bezier",view:My,model:Gh}),this.registerElement({type:"text",view:iy,model:md}),this.registerElement({type:"ellipse",view:ny,model:id}),this.registerElement({type:"diamond",view:qd,model:td}),this.registerElement({type:"html",view:sy,model:wd})}},{key:"selectElementById",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1],c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];this.graphModel.selectElementById(i,o),!o&&c&&this.graphModel.toFront(i)}},{key:"focusOn",value:function(i){var o=this.graphModel.transformModel,c=i.coordinate,l=i.id;if(!c){var p=this.getNodeModelById(l);p&&(c=p.getData());var O=this.getEdgeModelById(l);O&&(c=O.textPosition)}var w=c,A=w.x,D=w.y;o.focusOn(A,D,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(i){this.graphModel.setTheme(i)}},{key:"resize",value:function(i,o){this.graphModel.resize(i,o),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(i){this.graphModel.setDefaultEdgeType(i)}},{key:"updateText",value:function(i,o){this.graphModel.updateText(i,o)}},{key:"deleteElement",value:function(i){var o,c,l,p=this.getModelById(i);return!!p&&(c=(l=(Ln(o={},Fn.NODE,this.deleteNode),Ln(o,Fn.EDGE,this.deleteEdge),o)[p.BaseType])===null||l===void 0?void 0:l.call(this,i))!==null&&c!==void 0&&c}},{key:"getModelById",value:function(i){return this.graphModel.getElement(i)}},{key:"getDataById",value:function(i){var o;return(o=this.graphModel.getElement(i))===null||o===void 0?void 0:o.getData()}},{key:"changeNodeType",value:function(i,o){this.graphModel.changeNodeType(i,o)}},{key:"changeEdgeType",value:function(i,o){this.graphModel.changeEdgeType(i,o)}},{key:"getNodeEdges",value:function(i){return this.graphModel.getNodeEdges(i)}},{key:"addNode",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:lt.NODE_ADD,c=arguments.length>2?arguments[2]:void 0;return this.graphModel.addNode(i,o,c)}},{key:"deleteNode",value:function(i){var o=this.graphModel.getNodeModelById(i);if(!o)return!1;var c=o.getData(),l=this.options.guards,p=!l||!l.beforeDelete||l.beforeDelete(c);return p&&this.graphModel.deleteNode(i),p}},{key:"cloneNode",value:function(i){var o=this.graphModel.getNodeModelById(i).getData(),c=this.options.guards;if(!c||!c.beforeClone||c.beforeClone(o))return this.graphModel.cloneNode(i)}},{key:"changeNodeId",value:function(i,o){return this.graphModel.changeNodeId(i,o)}},{key:"getNodeModelById",value:function(i){return this.graphModel.getNodeModelById(i)}},{key:"getNodeDataById",value:function(i){var o;return(o=this.graphModel.getNodeModelById(i))===null||o===void 0?void 0:o.getData()}},{key:"addEdge",value:function(i){return this.graphModel.addEdge(i)}},{key:"deleteEdge",value:function(i){var o=this.options.guards,c=this.graphModel.edgesMap[i];if(!c)return!1;var l=c.model.getData(),p=!o||!o.beforeDelete||o.beforeDelete(l);return p&&this.graphModel.deleteEdgeById(i),p}},{key:"deleteEdgeByNodeId",value:function(i){var o=i.sourceNodeId,c=i.targetNodeId;o&&c?this.graphModel.deleteEdgeBySourceAndTarget(o,c):o?this.graphModel.deleteEdgeBySource(o):c&&this.graphModel.deleteEdgeByTarget(c)}},{key:"changeEdgeId",value:function(i,o){return this.graphModel.changeEdgeId(i,o)}},{key:"getEdgeModelById",value:function(i){var o;return(o=this.graphModel.edgesMap[i])===null||o===void 0?void 0:o.model}},{key:"getEdgeModels",value:function(i){var o=this.graphModel.edges,c=i.sourceNodeId,l=i.targetNodeId;if(c&&l){var p=[];return o.forEach(function(A){A.sourceNodeId===c&&A.targetNodeId===l&&p.push(A)}),p}if(c){var O=[];return o.forEach(function(A){A.sourceNodeId===c&&O.push(A)}),O}if(l){var w=[];return o.forEach(function(A){A.targetNodeId===l&&w.push(A)}),w}return[]}},{key:"getEdgeDataById",value:function(i){var o;return(o=this.getEdgeModelById(i))===null||o===void 0?void 0:o.getData()}},{key:"getNodeIncomingEdge",value:function(i){return this.graphModel.getNodeIncomingEdge(i)}},{key:"getNodeOutgoingEdge",value:function(i){return this.graphModel.getNodeOutgoingEdge(i)}},{key:"getNodeIncomingNode",value:function(i){return this.graphModel.getNodeIncomingNode(i)}},{key:"getNodeOutgoingNode",value:function(i){return this.graphModel.getNodeOutgoingNode(i)}},{key:"editText",value:function(i){this.graphModel.editText(i)}},{key:"setProperties",value:function(i,o){var c;(c=this.graphModel.getElement(i))===null||c===void 0||c.setProperties(bn(o))}},{key:"deleteProperty",value:function(i,o){var c;(c=this.graphModel.getElement(i))===null||c===void 0||c.deleteProperty(o)}},{key:"getProperties",value:function(i){var o;return(o=this.graphModel.getElement(i))===null||o===void 0?void 0:o.getProperties()}},{key:"toFront",value:function(i){this.graphModel.toFront(i)}},{key:"setElementZIndex",value:function(i,o){return this.graphModel.setElementZIndex(i,o)}},{key:"addElements",value:function(i){for(var o=this,c=i.nodes,l=i.edges,p={},O={nodes:[],edges:[]},w=0;w<c.length;w++){var A=c[w],D=A.id,F=this.addNode(A);if(!F)return;D&&(p[D]=F.id),O.nodes.push(F)}return l.forEach(function(Z){var te=Z.sourceNodeId,ye=Z.targetNodeId;p[te]&&(te=p[te]),p[ye]&&(ye=p[ye]);var ge=o.graphModel.addEdge(Fl(Fl({},Z),{},{sourceNodeId:te,targetNodeId:ye}));O.edges.push(ge)}),O}},{key:"getAreaElement",value:function(i,o){var c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],l=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],p=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return this.graphModel.getAreaElement(i,o,c,l,p).map(function(O){return O.getData()})}},{key:"getSelectElements",value:function(){var i=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.graphModel.getSelectElements(i)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var i=this.graphModel.modelToGraphData();if(this.adapterOut){for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];return this.adapterOut.apply(this,[i].concat(c))}return i}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(i){var o=this.graphModel,c=o.editConfigModel,l=o.transformModel;c.updateEditConfig(i),(i==null?void 0:i.stopMoveGraph)!==void 0&&l.updateTranslateLimits(i.stopMoveGraph),i!=null&&i.isSilentMode?this.keyboard.disable():this.keyboard.enable(!0)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(i,o){return this.graphModel.getPointByClient({x:i,y:o})}},{key:"undo",value:function(){if(this.history.undoAble()){var i=bn(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(i)}}},{key:"redo",value:function(){if(this.history.redoAble()){var i=bn(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(i)}}},{key:"zoom",value:function(i,o){return this.graphModel.transformModel.zoom(i,o)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(i){this.graphModel.transformModel.setZoomMiniSize(i)}},{key:"setZoomMaxSize",value:function(i){this.graphModel.transformModel.setZoomMaxSize(i)}},{key:"getTransform",value:function(){var i=this.graphModel.transformModel;return{SCALE_X:i.SCALE_X,SCALE_Y:i.SCALE_Y,TRANSLATE_X:i.TRANSLATE_X,TRANSLATE_Y:i.TRANSLATE_Y}}},{key:"translate",value:function(i,o){this.graphModel.transformModel.translate(i,o)}},{key:"resetTranslate",value:function(){var i=this.graphModel.transformModel,o=i.TRANSLATE_X,c=i.TRANSLATE_Y;this.translate(-o,-c)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(i,o){o===void 0&&(o=i),this.graphModel.fitView(i,o)}},{key:"openEdgeAnimation",value:function(i){this.graphModel.openEdgeAnimation(i)}},{key:"closeEdgeAnimation",value:function(i){this.graphModel.closeEdgeAnimation(i)}},{key:"on",value:function(i,o){this.graphModel.eventCenter.on(i,o)}},{key:"off",value:function(i,o){this.graphModel.eventCenter.off(i,o)}},{key:"once",value:function(i,o){this.graphModel.eventCenter.once(i,o)}},{key:"emit",value:function(i,o){this.graphModel.eventCenter.emit(i,o)}},{key:"initContainer",value:function(i){var o=document.createElement("div");return o.style.position="relative",o.style.width="100%",o.style.height="100%",i.innerHTML="",i.appendChild(o),o}},{key:"installPlugins",value:function(){var i,o=this,c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=(i=this.plugins)!==null&&i!==void 0?i:t.extensions;l.forEach(function(p){var O=null,w=null;p[Wy]?(O=p.extension,w=p.props):O=p;var A=O.pluginName||O.name;c.indexOf(A)===-1&&o.installPlugin(O,w)})}},{key:"installPlugin",value:function(i,o){if(Yy(i)==="object"){var c=i.install,l=i.render;return c&&c.call(i,this,t),l&&this.components.push(l.bind(i)),void(this.extension[i.pluginName]=i)}var p=i,O=new p({lf:this,LogicFlow:t,options:this.options.pluginsOptions,props:o});O.render&&this.components.push(O.render.bind(O)),this.extension[p.pluginName]=O}},{key:"updateAttributes",value:function(i,o){this.graphModel.updateAttributes(i,o)}},{key:"createFakerNode",value:function(i){var o=this.graphModel.modelMap.get(i.type);if(o){var c=new o(Fl(Fl({},i),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(c),c}}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(i){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(i)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(i,o){this.viewMap.set(i,o)}},{key:"renderRawData",value:function(i){this.graphModel.graphDataToModel(bn(i)),this.options.history!==!1&&this.history.watch(this.graphModel),Object(le.j)(Object(le.g)(Gm,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(lt.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(i=this.adapterIn(i)),this.renderRawData(i)}}],r=[{key:"use",value:function(i,o){var c,l,p=i.pluginName;p||(p=i.name);var O=(c=this.extensions.get(p))===null||c===void 0?void 0:c.extension;O&&O.destroy&&O.destroy(),this.extensions.set(p,(Ln(l={},Wy,Wy),Ln(l,"extension",i),Ln(l,"props",o),l))}}],n&&kb(e.prototype,n),r&&kb(e,r),t}();function Qo(t){return at(t)}Ln(Vy,"extensions",new Map),b.default=Vy}])})})(n1,n1.exports);var en=n1.exports,bw=function(){function P(){globalThis._ids=this,this._ids=new Set}return P.prototype.generateId=function(){var j="xxxxxxx".replace(/[x]/g,function(h){var b=Math.random()*16|0,u=h==="x"?b:b&3|8;return u.toString(16)});return j},P.prototype.next=function(){for(var j=this.generateId();this._ids.has(j);)j=this.generateId();return this._ids.add(j),j},P}(),mw=(globalThis==null?void 0:globalThis._ids)||new bw;function Qy(){return mw.next()}var J1=globalThis&&globalThis.__extends||function(){var P=function(j,h){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,u){b.__proto__=u}||function(b,u){for(var d in u)u.hasOwnProperty(d)&&(b[d]=u[d])},P(j,h)};return function(j,h){P(j,h);function b(){this.constructor=j}j.prototype=h===null?Object.create(h):(b.prototype=h.prototype,new b)}}();(function(P){J1(j,P);function j(h,b){var u=this;return h.id||(h.id="Event_"+Qy()),h.text||(h.text=""),h.text&&typeof h.text=="string"&&(h.text={value:h.text,x:h.x,y:h.y+40}),u=P.call(this,h,b)||this,u}return j.prototype.setAttributes=function(){this.r=18},j.prototype.getConnectedTargetRules=function(){var h=P.prototype.getConnectedTargetRules.call(this),b={message:"起始节点不能作为边的终点",validate:function(){return!1}};return h.push(b),h},j.extendKey="StartEventModel",j})(en.CircleNodeModel);(function(P){J1(j,P);function j(){return P!==null&&P.apply(this,arguments)||this}return j.extendKey="StartEventNode",j})(en.CircleNode);var Q1=globalThis&&globalThis.__extends||function(){var P=function(j,h){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,u){b.__proto__=u}||function(b,u){for(var d in u)u.hasOwnProperty(d)&&(b[d]=u[d])},P(j,h)};return function(j,h){P(j,h);function b(){this.constructor=j}j.prototype=h===null?Object.create(h):(b.prototype=h.prototype,new b)}}(),Bb=globalThis&&globalThis.__assign||function(){return Bb=Object.assign||function(P){for(var j,h=1,b=arguments.length;h<b;h++){j=arguments[h];for(var u in j)Object.prototype.hasOwnProperty.call(j,u)&&(P[u]=j[u])}return P},Bb.apply(this,arguments)};(function(P){Q1(j,P);function j(h,b){var u=this;return h.id||(h.id="Event_"+Qy()),h.text||(h.text=""),h.text&&typeof h.text=="string"&&(h.text={value:h.text,x:h.x,y:h.y+40}),u=P.call(this,h,b)||this,u}return j.prototype.setAttributes=function(){this.r=18},j.prototype.getConnectedSourceRules=function(){var h=P.prototype.getConnectedSourceRules.call(this),b={message:"结束节点不能作为边的起点",validate:function(){return!1}};return h.push(b),h},j.extendKey="EndEventModel",j})(en.CircleNodeModel);(function(P){Q1(j,P);function j(){return P!==null&&P.apply(this,arguments)||this}return j.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},j.prototype.getShape=function(){var h=this.props.model,b=h.getNodeStyle(),u=h.x,d=h.y,f=h.r,_=P.prototype.getShape.call(this);return en.h("g",{},_,en.h("circle",Bb(Bb({},b),{cx:u,cy:d,r:f-5})))},j.extendKey="EndEventView",j})(en.CircleNode);var ew=globalThis&&globalThis.__extends||function(){var P=function(j,h){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,u){b.__proto__=u}||function(b,u){for(var d in u)u.hasOwnProperty(d)&&(b[d]=u[d])},P(j,h)};return function(j,h){P(j,h);function b(){this.constructor=j}j.prototype=h===null?Object.create(h):(b.prototype=h.prototype,new b)}}(),Nb=globalThis&&globalThis.__assign||function(){return Nb=Object.assign||function(P){for(var j,h=1,b=arguments.length;h<b;h++){j=arguments[h];for(var u in j)Object.prototype.hasOwnProperty.call(j,u)&&(P[u]=j[u])}return P},Nb.apply(this,arguments)};(function(P){ew(j,P);function j(h,b){var u=this;return h.id||(h.id="Gateway_"+Qy()),h.text||(h.text=""),h.text&&typeof h.text=="string"&&(h.text={value:h.text,x:h.x,y:h.y+40}),u=P.call(this,h,b)||this,u.points=[[25,0],[50,25],[25,50],[0,25]],u}return j.extendKey="ExclusiveGatewayModel",j})(en.PolygonNodeModel);(function(P){ew(j,P);function j(){return P!==null&&P.apply(this,arguments)||this}return j.prototype.getShape=function(){var h=this.props.model,b=h.x,u=h.y,d=h.width,f=h.height,_=h.points,g=h.getNodeStyle();return en.h("g",{transform:"matrix(1 0 0 1 "+(b-d/2)+" "+(u-f/2)+")"},en.h("polygon",Nb(Nb({},g),{x:b,y:u,points:_})),en.h("path",Nb({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},g)))},j.extendKey="ExclusiveGatewayNode",j})(en.PolygonNode);var tw=globalThis&&globalThis.__extends||function(){var P=function(j,h){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,u){b.__proto__=u}||function(b,u){for(var d in u)u.hasOwnProperty(d)&&(b[d]=u[d])},P(j,h)};return function(j,h){P(j,h);function b(){this.constructor=j}j.prototype=h===null?Object.create(h):(b.prototype=h.prototype,new b)}}(),Fb=globalThis&&globalThis.__assign||function(){return Fb=Object.assign||function(P){for(var j,h=1,b=arguments.length;h<b;h++){j=arguments[h];for(var u in j)Object.prototype.hasOwnProperty.call(j,u)&&(P[u]=j[u])}return P},Fb.apply(this,arguments)};(function(P){tw(j,P);function j(h,b){var u=this;return h.id||(h.id="Activity_"+Qy()),u=P.call(this,h,b)||this,u}return j.extendKey="UserTaskModel",j})(en.RectNodeModel);(function(P){tw(j,P);function j(){return P!==null&&P.apply(this,arguments)||this}return j.prototype.getLabelShape=function(){var h=this.props.model,b=h.x,u=h.y,d=h.width,f=h.height,_=h.getNodeStyle();return en.h("svg",{x:b-d/2+5,y:u-f/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},en.h("path",{fill:_.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},j.prototype.getShape=function(){var h=this.props.model,b=h.x,u=h.y,d=h.width,f=h.height,_=h.radius,g=h.getNodeStyle();return en.h("g",{},[en.h("rect",Fb(Fb({},g),{x:b-d/2,y:u-f/2,rx:_,ry:_,width:d,height:f})),this.getLabelShape()])},j.extendKey="UserTaskNode",j})(en.RectNode);var nw=globalThis&&globalThis.__extends||function(){var P=function(j,h){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,u){b.__proto__=u}||function(b,u){for(var d in u)u.hasOwnProperty(d)&&(b[d]=u[d])},P(j,h)};return function(j,h){P(j,h);function b(){this.constructor=j}j.prototype=h===null?Object.create(h):(b.prototype=h.prototype,new b)}}(),r1=globalThis&&globalThis.__assign||function(){return r1=Object.assign||function(P){for(var j,h=1,b=arguments.length;h<b;h++){j=arguments[h];for(var u in j)Object.prototype.hasOwnProperty.call(j,u)&&(P[u]=j[u])}return P},r1.apply(this,arguments)};(function(P){nw(j,P);function j(h,b){var u=this;return h.id||(h.id="Activity_"+Qy()),u=P.call(this,h,b)||this,u}return j.extendKey="ServiceTaskModel",j})(en.RectNodeModel);(function(P){nw(j,P);function j(){return P!==null&&P.apply(this,arguments)||this}return j.prototype.getLabelShape=function(){var h=this.props.model,b=h.x,u=h.y,d=h.width,f=h.height,_=h.getNodeStyle();return en.h("svg",{x:b-d/2+5,y:u-f/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},en.h("path",{fill:_.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},j.prototype.getShape=function(){var h=this.props.model,b=h.x,u=h.y,d=h.width,f=h.height,_=h.radius,g=h.getNodeStyle();return en.h("g",{},[en.h("rect",r1({x:b-d/2,y:u-f/2,rx:_,ry:_,width:d,height:f},g)),this.getLabelShape()])},j.extendKey="ServiceTaskNode",j})(en.RectNode);var rw=globalThis&&globalThis.__extends||function(){var P=function(j,h){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,u){b.__proto__=u}||function(b,u){for(var d in u)u.hasOwnProperty(d)&&(b[d]=u[d])},P(j,h)};return function(j,h){P(j,h);function b(){this.constructor=j}j.prototype=h===null?Object.create(h):(b.prototype=h.prototype,new b)}}();(function(P){rw(j,P);function j(h,b){var u=this;return h.id||(h.id="Flow_"+Qy()),u=P.call(this,h,b)||this,u}return j.extendKey="SequenceFlowModel",j})(en.PolylineEdgeModel);(function(P){rw(j,P);function j(){return P!==null&&P.apply(this,arguments)||this}return j.extendKey="SequenceFlowEdge",j})(en.PolylineEdge);var l1={width:40,height:40},f1={width:40,height:40},p1={width:40,height:40},h1={width:100,height:80},d1={width:100,height:80},Ow=function(){function P(){globalThis._ids=this,this._ids=new Set}return P.prototype.generateId=function(){var j="xxxxxxx".replace(/[x]/g,function(h){var b=Math.random()*16|0,u=h==="x"?b:b&3|8;return u.toString(16)});return j},P.prototype.next=function(){for(var j=this.generateId();this._ids.has(j);)j=this.generateId();return this._ids.add(j),j},P}(),_w=(globalThis==null?void 0:globalThis._ids)||new Ow;function y1(){return _w.next()}function ow(P){return Object.prototype.toString.call(P)}function ww(P){return"  ".repeat(P)}function Ub(P){var j=P;return ow(P)==="[object Object]"?(j={},Object.keys(P).forEach(function(h){var b=h;h.charAt(0)==="-"&&(b=h.substring(1)),j[b]=Ub(P[h])})):Array.isArray(P)&&(j=[],P.forEach(function(h,b){j[b]=Ub(h)})),j}function xw(P){var j=P;try{typeof j!="string"&&(j=JSON.parse(P))}catch{j=JSON.stringify(Ub(P)).replace(/"/g,"'")}return j}var Ky=`	
`;function Lb(P,j,h){var b=ww(h),u="";if(j==="#text")return Ky+b+P;if(j==="#cdata-section")return Ky+b+"<![CDATA["+P+"]]>";if(j==="#comment")return Ky+b+"<!--"+P+"-->";if((""+j).charAt(0)==="-")return" "+j.substring(1)+'="'+xw(P)+'"';if(Array.isArray(P))P.forEach(function(g){u+=Lb(g,j,h+1)});else if(ow(P)==="[object Object]"){var d=Object.keys(P),f="",_="";u+=(h===0?"":Ky+b)+"<"+j,d.forEach(function(g){g.charAt(0)==="-"?f+=Lb(P[g],g,h+1):_+=Lb(P[g],g,h+1)}),u+=f+(_!==""?">"+_+(Ky+b)+"</"+j+">":" />")}else u+=Ky+b+("<"+j+">"+P.toString()+"</"+j+">");return u}function Ew(P){var j="";for(var h in P)j+=Lb(P[h],h,0);return j}var Ru=function(){};Ru.ObjTree=function(){return this};Ru.ObjTree.VERSION="0.23";Ru.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;Ru.ObjTree.prototype.attr_prefix="-";Ru.ObjTree.prototype.parseXML=function(P){var j;if(window.DOMParser){var h=new DOMParser,b=h.parseFromString(P,"application/xml");if(!b)return;j=b.documentElement}else window.ActiveXObject&&(h=new ActiveXObject("Microsoft.XMLDOM"),h.async=!1,h.loadXML(P),j=h.documentElement);if(j)return this.parseDOM(j)};Ru.ObjTree.prototype.parseHTTP=function(P,j,h){var b={};for(var u in j)b[u]=j[u];if(b.method||(typeof b.postBody>"u"&&typeof b.postbody>"u"&&typeof b.parameters>"u"?b.method="get":b.method="post"),h){b.asynchronous=!0;var d=this,f=h,_=b.onComplete;b.onComplete=function(T){var M;T&&T.responseXML&&T.responseXML.documentElement&&(M=d.parseDOM(T.responseXML.documentElement)),f(M,T),_&&_(T)}}else b.asynchronous=!1;var g;if(typeof HTTP<"u"&&HTTP.Request){b.uri=P;var S=new HTTP.Request(b);S&&(g=S.transport)}else if(typeof Ajax<"u"&&Ajax.Request){var S=new Ajax.Request(P,b);S&&(g=S.transport)}if(h)return g;if(g&&g.responseXML&&g.responseXML.documentElement)return this.parseDOM(g.responseXML.documentElement)};Ru.ObjTree.prototype.parseDOM=function(P){if(P){if(this.__force_array={},this.force_array)for(var j=0;j<this.force_array.length;j++)this.__force_array[this.force_array[j]]=1;var h=this.parseElement(P);if(this.__force_array[P.nodeName]&&(h=[h]),P.nodeType!=11){var b={};b[P.nodeName]=h,h=b}return h}};Ru.ObjTree.prototype.parseElement=function(P){if(P.nodeType!=7){if(P.nodeType==3||P.nodeType==4||P.nodeType==8){var j=P.nodeValue.match(/[^\x00-\x20]/);return j==null?void 0:P.nodeValue}var h=null,b={};if(P.attributes&&P.attributes.length){h={};for(var u=0;u<P.attributes.length;u++){var d=P.attributes[u].nodeName;if(typeof d=="string"){var f=P.attributes[u].nodeValue;try{f=JSON.parse(P.attributes[u].nodeValue.replace(/'/g,'"'))}catch{f=P.attributes[u].nodeValue}f&&(d=this.attr_prefix+d,typeof b[d]>"u"&&(b[d]=0),b[d]++,this.addNode(h,d,b[d],f))}}}if(P.childNodes&&P.childNodes.length){var _=!0;h&&(_=!1);for(var u=0;u<P.childNodes.length&&_;u++){var g=P.childNodes[u].nodeType;g==3||g==4||g==8||(_=!1)}if(_){h||(h="");for(var u=0;u<P.childNodes.length;u++)h+=P.childNodes[u].nodeValue}else{h||(h={});for(var u=0;u<P.childNodes.length;u++){var d=P.childNodes[u].nodeName;if(typeof d=="string"){var f=this.parseElement(P.childNodes[u]);f&&(typeof b[d]>"u"&&(b[d]=0),b[d]++,this.addNode(h,d,b[d],f))}}}}else h===null&&(h={});return h}};Ru.ObjTree.prototype.addNode=function(P,j,h,b){this.__force_array[j]?(h==1&&(P[j]=[]),P[j][P[j].length]=b):h==1?P[j]=b:h==2?P[j]=[P[j],b]:P[j][P[j].length]=b};Ru.ObjTree.prototype.writeXML=function(P){var j=this.hash_to_xml(null,P);return this.xmlDecl+j};Ru.ObjTree.prototype.hash_to_xml=function(P,j){var h=[],b=[];for(var u in j)if(j.hasOwnProperty(u)){var d=j[u];u.charAt(0)!=this.attr_prefix?typeof d>"u"||d==null?h[h.length]="<"+u+" />":typeof d=="object"&&d.constructor==Array?h[h.length]=this.array_to_xml(u,d):typeof d=="object"?h[h.length]=this.hash_to_xml(u,d):h[h.length]=this.scalar_to_xml(u,d):b[b.length]=" "+u.substring(1)+'="'+this.xml_escape(d)+'"'}var f=b.join(""),_=h.join("");return typeof P>"u"||P==null||(h.length>0?_.match(/\n/)?_="<"+P+f+`>
`+_+"</"+P+`>
`:_="<"+P+f+">"+_+"</"+P+`>
`:_="<"+P+f+` />
`),_};Ru.ObjTree.prototype.array_to_xml=function(P,j){for(var h=[],b=0;b<j.length;b++){var u=j[b];typeof u>"u"||u==null?h[h.length]="<"+P+" />":typeof u=="object"&&u.constructor==Array?h[h.length]=this.array_to_xml(P,u):typeof u=="object"?h[h.length]=this.hash_to_xml(P,u):h[h.length]=this.scalar_to_xml(P,u)}return h.join("")};Ru.ObjTree.prototype.scalar_to_xml=function(P,j){return P=="#text"?this.xml_escape(j):"<"+P+">"+this.xml_escape(j)+"</"+P+`>
`};Ru.ObjTree.prototype.xml_escape=function(P){return P.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var jw=function(P){return new Ru.ObjTree().parseXML(P)},Sw=globalThis&&globalThis.__extends||function(){var P=function(j,h){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,u){b.__proto__=u}||function(b,u){for(var d in u)u.hasOwnProperty(d)&&(b[d]=u[d])},P(j,h)};return function(j,h){P(j,h);function b(){this.constructor=j}j.prototype=h===null?Object.create(h):(b.prototype=h.prototype,new b)}}(),o1=globalThis&&globalThis.__assign||function(){return o1=Object.assign||function(P){for(var j,h=1,b=arguments.length;h<b;h++){j=arguments[h];for(var u in j)Object.prototype.hasOwnProperty.call(j,u)&&(P[u]=j[u])}return P},o1.apply(this,arguments)},Kb=globalThis&&globalThis.__read||function(P,j){var h=typeof Symbol=="function"&&P[Symbol.iterator];if(!h)return P;var b=h.call(P),u,d=[],f;try{for(;(j===void 0||j-- >0)&&!(u=b.next()).done;)d.push(u.value)}catch(_){f={error:_}}finally{try{u&&!u.done&&(h=b.return)&&h.call(b)}finally{if(f)throw f.error}}return d},Ul;(function(P){P.START="bpmn:startEvent",P.END="bpmn:endEvent",P.GATEWAY="bpmn:exclusiveGateway",P.USER="bpmn:userTask",P.SYSTEM="bpmn:serviceTask",P.FLOW="bpmn:sequenceFlow"})(Ul||(Ul={}));var iw=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"],v1=["properties","startPoint","endPoint","pointsList"];function g1(P){var j=P?v1.concat(P):v1;return function(h){function b(u){var d={};return typeof u=="string"?u:Array.isArray(u)?u.map(function(f){return b(f)}):(Object.entries(u).forEach(function(f){var _=Kb(f,2),g=_[0],S=_[1];typeof S!="object"?g.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(g)?d[g]=S:d["-"+g]=S:j.includes(g)?d["-"+g]=b(S):d[g]=b(S)}),d)}return b(h)}}function Xb(P){var j={};return Object.entries(P).forEach(function(h){var b=Kb(h,2),u=b[0],d=b[1];u.indexOf("-")===0?j[u.substring(1)]=Ub(d):typeof d=="string"?j[u]=d:Object.prototype.toString.call(d)==="[object Object]"?j[u]=Xb(d):Array.isArray(d)?j[u]=d.map(function(f){return Xb(f)}):j[u]=d}),j}function Pw(P,j,h){var b=new Map;j.nodes.forEach(function(d){var f,_={"-id":d.id};if(!((f=d.text)===null||f===void 0)&&f.value&&(_["-name"]=d.text.value),d.properties){var g=g1(h)(d.properties);Object.assign(_,g)}b.set(d.id,_),P[d.type]?Array.isArray(P[d.type])?P[d.type].push(_):P[d.type]=[P[d.type],_]:P[d.type]=_});var u=j.edges.map(function(d){var f,_,g=b.get(d.targetNodeId);g["bpmn:incoming"]?Array.isArray(g["bpmn:incoming"])?g["bpmn:incoming"].push(d.id):g["bpmn:incoming"]=[g["bpmn:incoming"],d.id]:g["bpmn:incoming"]=d.id;var S={"-id":d.id,"-sourceRef":d.sourceNodeId,"-targetRef":d.targetNodeId};if(!((f=d.text)===null||f===void 0)&&f.value&&(S["-name"]=(_=d.text)===null||_===void 0?void 0:_.value),d.properties){var T=g1(h)(d.properties);Object.assign(S,T)}return S});j.edges.forEach(function(d){var f=b.get(d.sourceNodeId);f["bpmn:outgoing"]?Array.isArray(f["bpmn:outgoing"])?f["bpmn:outgoing"].push(d.id):f["bpmn:outgoing"]=[f["bpmn:outgoing"],d.id]:f["bpmn:outgoing"]=d.id}),P[Ul.FLOW]=u}function Aw(P,j){P["bpmndi:BPMNEdge"]=j.edges.map(function(h){var b,u=h.id,d=h.pointsList.map(function(_){var g=_.x,S=_.y;return{"-x":g,"-y":S}}),f={"-id":u+"_di","-bpmnElement":u,"di:waypoint":d};return!((b=h.text)===null||b===void 0)&&b.value&&(f["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":h.text.x-h.text.value.length*10/2,"-y":h.text.y-7,"-width":h.text.value.length*10,"-height":14}}),f}),P["bpmndi:BPMNShape"]=j.nodes.map(function(h){var b,u=h.id,d=100,f=80,_=h.x,g=h.y,S=Vp.shapeConfigMap.get(h.type);S&&(d=S.width,f=S.height),_-=d/2,g-=f/2;var T={"-id":u+"_di","-bpmnElement":u,"dc:Bounds":{"-x":_,"-y":g,"-width":d,"-height":f}};return!((b=h.text)===null||b===void 0)&&b.value&&(T["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":h.text.x-h.text.value.length*10/2,"-y":h.text.y-7,"-width":h.text.value.length*10,"-height":14}}),T})}function kw(P){var j=[],h=[],b=P["bpmn:definitions"];if(b){var u=b["bpmn:process"];Object.keys(u).forEach(function(d){if(d.indexOf("bpmn:")===0){var f=u[d];if(d===Ul.FLOW){var _=b["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];h=Dw(f,_)}else{var g=b["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];j=j.concat(Tw(f,g,d))}}})}return{nodes:j,edges:h}}function Tw(P,j,h){var b=[];if(Array.isArray(P))P.forEach(function(f){var _;Array.isArray(j)?_=j.find(function(S){return S["-bpmnElement"]===f["-id"]}):_=j;var g=b1(_,h,f);b.push(g)});else{var u=void 0;Array.isArray(j)?u=j.find(function(f){return f["-bpmnElement"]===P["-id"]}):u=j;var d=b1(u,h,P);b.push(d)}return b}function b1(P,j,h){var b=Number(P["dc:Bounds"]["-x"]),u=Number(P["dc:Bounds"]["-y"]),d=h["-name"],f=Vp.shapeConfigMap.get(j);f&&(b+=f.width/2,u+=f.height/2);var _;Object.entries(h).forEach(function(M){var I=Kb(M,2),C=I[0],U=I[1];iw.indexOf(C)===-1&&(_||(_={}),_[C]=U)}),_&&(_=Xb(_));var g;if(d&&(g={x:b,y:u,value:d},P["bpmndi:BPMNLabel"]&&P["bpmndi:BPMNLabel"]["dc:Bounds"])){var S=P["bpmndi:BPMNLabel"]["dc:Bounds"];g.x=Number(S["-x"])+Number(S["-width"])/2,g.y=Number(S["-y"])+Number(S["-height"])/2}var T={id:P["-bpmnElement"],type:j,x:b,y:u,properties:_};return g&&(T.text=g),T}function Dw(P,j){var h=[];if(Array.isArray(P))P.forEach(function(u){var d;Array.isArray(j)?d=j.find(function(f){return f["-bpmnElement"]===u["-id"]}):d=j,h.push(m1(d,u))});else{var b=void 0;Array.isArray(j)?b=j.find(function(u){return u["-bpmnElement"]===P["-id"]}):b=j,h.push(m1(b,P))}return h}function m1(P,j){var h,b=j["-name"];if(b){var u=P["bpmndi:BPMNLabel"]["dc:Bounds"],d=0;b.split(`
`).forEach(function(g){d<g.length&&(d=g.length)}),h={value:b,x:Number(u["-x"])+d*10/2,y:Number(u["-y"])+7}}var f;Object.entries(j).forEach(function(g){var S=Kb(g,2),T=S[0],M=S[1];iw.indexOf(T)===-1&&(f||(f={}),f[T]=M)}),f&&(f=Xb(f));var _={id:j["-id"],type:Ul.FLOW,pointsList:P["di:waypoint"].map(function(g){return{x:Number(g["-x"]),y:Number(g["-y"])}}),sourceNodeId:j["-sourceRef"],targetNodeId:j["-targetRef"],properties:f};return h&&(_.text=h),_}var Vp=function(){function P(j){var h=this,b=j.lf;this.adapterOut=function(u,d){var f=o1({},h.processAttributes);Pw(f,u,d);var _={"-id":"BPMNPlane_1","-bpmnElement":f["-id"]};Aw(_,u);var g=h.definitionAttributes;g["bpmn:process"]=f,g["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":_};var S={"bpmn:definitions":g};return S},this.adapterIn=function(u){if(u)return kw(u)},b.adapterIn=function(u){return h.adapterIn(u)},b.adapterOut=function(u,d){return h.adapterOut(u,d)},this.processAttributes={"-isExecutable":"true","-id":"Process_"+y1()},this.definitionAttributes={"-id":"Definitions_"+y1(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.0"}}return P.prototype.setCustomShape=function(j,h){P.shapeConfigMap.set(j,h)},P.pluginName="bpmn-adapter",P.shapeConfigMap=new Map,P}();Vp.shapeConfigMap.set(Ul.START,{width:l1.width,height:l1.height});Vp.shapeConfigMap.set(Ul.END,{width:f1.width,height:f1.height});Vp.shapeConfigMap.set(Ul.GATEWAY,{width:p1.width,height:p1.height});Vp.shapeConfigMap.set(Ul.SYSTEM,{width:h1.width,height:h1.height});Vp.shapeConfigMap.set(Ul.USER,{width:d1.width,height:d1.height});(function(P){Sw(j,P);function j(h){var b=P.call(this,h)||this;b.adapterXmlIn=function(d){var f=jw(d);return b.adapterIn(f)},b.adapterXmlOut=function(d,f){var _=b.adapterOut(d,f);return Ew(_)};var u=h.lf;return u.adapterIn=b.adapterXmlIn,u.adapterOut=b.adapterXmlOut,b}return j.pluginName="bpmnXmlAdapter",j})(Vp);var Mw=function(){function P(){globalThis._ids=this,this._ids=new Set}return P.prototype.generateId=function(){var j="xxxxxxx".replace(/[x]/g,function(h){var b=Math.random()*16|0,u=h==="x"?b:b&3|8;return u.toString(16)});return j},P.prototype.next=function(){for(var j=this.generateId();this._ids.has(j);)j=this.generateId();return this._ids.add(j),j},P}(),Nw=(globalThis==null?void 0:globalThis._ids)||new Mw;function Cw(){return Nw.next()}globalThis&&globalThis.__extends||function(){var P=function(j,h){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,u){b.__proto__=u}||function(b,u){for(var d in u)u.hasOwnProperty(d)&&(b[d]=u[d])},P(j,h)};return function(j,h){P(j,h);function b(){this.constructor=j}j.prototype=h===null?Object.create(h):(b.prototype=h.prototype,new b)}}();var O1=globalThis&&globalThis.__assign||function(){return O1=Object.assign||function(P){for(var j,h=1,b=arguments.length;h<b;h++){j=arguments[h];for(var u in j)Object.prototype.hasOwnProperty.call(j,u)&&(P[u]=j[u])}return P},O1.apply(this,arguments)},Rw=globalThis&&globalThis.__read||function(P,j){var h=typeof Symbol=="function"&&P[Symbol.iterator];if(!h)return P;var b=h.call(P),u,d=[],f;try{for(;(j===void 0||j-- >0)&&!(u=b.next()).done;)d.push(u.value)}catch(_){f={error:_}}finally{try{u&&!u.done&&(h=b.return)&&h.call(b)}finally{if(f)throw f.error}}return d};globalThis&&globalThis.__spread;globalThis&&globalThis.__extends||function(){var P=function(j,h){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,u){b.__proto__=u}||function(b,u){for(var d in u)u.hasOwnProperty(d)&&(b[d]=u[d])},P(j,h)};return function(j,h){P(j,h);function b(){this.constructor=j}j.prototype=h===null?Object.create(h):(b.prototype=h.prototype,new b)}}();var _1=globalThis&&globalThis.__assign||function(){return _1=Object.assign||function(P){for(var j,h=1,b=arguments.length;h<b;h++){j=arguments[h];for(var u in j)Object.prototype.hasOwnProperty.call(j,u)&&(P[u]=j[u])}return P},_1.apply(this,arguments)},Iw=globalThis&&globalThis.__read||function(P,j){var h=typeof Symbol=="function"&&P[Symbol.iterator];if(!h)return P;var b=h.call(P),u,d=[],f;try{for(;(j===void 0||j-- >0)&&!(u=b.next()).done;)d.push(u.value)}catch(_){f={error:_}}finally{try{u&&!u.done&&(h=b.return)&&h.call(b)}finally{if(f)throw f.error}}return d};globalThis&&globalThis.__spread;globalThis&&globalThis.__extends||function(){var P=function(j,h){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,u){b.__proto__=u}||function(b,u){for(var d in u)u.hasOwnProperty(d)&&(b[d]=u[d])},P(j,h)};return function(j,h){P(j,h);function b(){this.constructor=j}j.prototype=h===null?Object.create(h):(b.prototype=h.prototype,new b)}}();var w1=globalThis&&globalThis.__assign||function(){return w1=Object.assign||function(P){for(var j,h=1,b=arguments.length;h<b;h++){j=arguments[h];for(var u in j)Object.prototype.hasOwnProperty.call(j,u)&&(P[u]=j[u])}return P},w1.apply(this,arguments)},Lw=globalThis&&globalThis.__read||function(P,j){var h=typeof Symbol=="function"&&P[Symbol.iterator];if(!h)return P;var b=h.call(P),u,d=[],f;try{for(;(j===void 0||j-- >0)&&!(u=b.next()).done;)d.push(u.value)}catch(_){f={error:_}}finally{try{u&&!u.done&&(h=b.return)&&h.call(b)}finally{if(f)throw f.error}}return d};globalThis&&globalThis.__spread;globalThis&&globalThis.__extends||function(){var P=function(j,h){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,u){b.__proto__=u}||function(b,u){for(var d in u)u.hasOwnProperty(d)&&(b[d]=u[d])},P(j,h)};return function(j,h){P(j,h);function b(){this.constructor=j}j.prototype=h===null?Object.create(h):(b.prototype=h.prototype,new b)}}();var x1=globalThis&&globalThis.__assign||function(){return x1=Object.assign||function(P){for(var j,h=1,b=arguments.length;h<b;h++){j=arguments[h];for(var u in j)Object.prototype.hasOwnProperty.call(j,u)&&(P[u]=j[u])}return P},x1.apply(this,arguments)},zw=globalThis&&globalThis.__read||function(P,j){var h=typeof Symbol=="function"&&P[Symbol.iterator];if(!h)return P;var b=h.call(P),u,d=[],f;try{for(;(j===void 0||j-- >0)&&!(u=b.next()).done;)d.push(u.value)}catch(_){f={error:_}}finally{try{u&&!u.done&&(h=b.return)&&h.call(b)}finally{if(f)throw f.error}}return d};globalThis&&globalThis.__spread;globalThis&&globalThis.__extends||function(){var P=function(j,h){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,u){b.__proto__=u}||function(b,u){for(var d in u)u.hasOwnProperty(d)&&(b[d]=u[d])},P(j,h)};return function(j,h){P(j,h);function b(){this.constructor=j}j.prototype=h===null?Object.create(h):(b.prototype=h.prototype,new b)}}();var E1=globalThis&&globalThis.__assign||function(){return E1=Object.assign||function(P){for(var j,h=1,b=arguments.length;h<b;h++){j=arguments[h];for(var u in j)Object.prototype.hasOwnProperty.call(j,u)&&(P[u]=j[u])}return P},E1.apply(this,arguments)},Bw=globalThis&&globalThis.__read||function(P,j){var h=typeof Symbol=="function"&&P[Symbol.iterator];if(!h)return P;var b=h.call(P),u,d=[],f;try{for(;(j===void 0||j-- >0)&&!(u=b.next()).done;)d.push(u.value)}catch(_){f={error:_}}finally{try{u&&!u.done&&(h=b.return)&&h.call(b)}finally{if(f)throw f.error}}return d};globalThis&&globalThis.__spread;en.h("circle",{cx:18,cy:18,r:11,style:"stroke-linecap: round;stroke-linejoin: round;stroke: rgb(34, 36, 42);stroke-width: 2px;fill: white"}),en.h("path",{d:"M 18,18 l 2.25,-7.5 m -2.25,7.5 l 5.25,1.5",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2px;"}),en.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(0,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),en.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(30,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),en.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(60,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),en.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(90,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),en.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(120,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),en.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(150,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),en.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(180,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),en.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(210,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),en.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(240,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),en.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(270,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),en.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(300,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),en.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(330,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"});en.h("circle",{cx:18,cy:18,r:10,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 4px; fill: rgb(34, 36, 42);"});en.h("circle",{cx:25,cy:25,r:13,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2.5px; fill: white;"});globalThis&&globalThis.__extends||function(){var P=function(j,h){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,u){b.__proto__=u}||function(b,u){for(var d in u)u.hasOwnProperty(d)&&(b[d]=u[d])},P(j,h)};return function(j,h){P(j,h);function b(){this.constructor=j}j.prototype=h===null?Object.create(h):(b.prototype=h.prototype,new b)}}();var j1=globalThis&&globalThis.__assign||function(){return j1=Object.assign||function(P){for(var j,h=1,b=arguments.length;h<b;h++){j=arguments[h];for(var u in j)Object.prototype.hasOwnProperty.call(j,u)&&(P[u]=j[u])}return P},j1.apply(this,arguments)};globalThis&&globalThis.__extends||function(){var P=function(j,h){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,u){b.__proto__=u}||function(b,u){for(var d in u)u.hasOwnProperty(d)&&(b[d]=u[d])},P(j,h)};return function(j,h){P(j,h);function b(){this.constructor=j}j.prototype=h===null?Object.create(h):(b.prototype=h.prototype,new b)}}();var S1=globalThis&&globalThis.__assign||function(){return S1=Object.assign||function(P){for(var j,h=1,b=arguments.length;h<b;h++){j=arguments[h];for(var u in j)Object.prototype.hasOwnProperty.call(j,u)&&(P[u]=j[u])}return P},S1.apply(this,arguments)},Fw=globalThis&&globalThis.__read||function(P,j){var h=typeof Symbol=="function"&&P[Symbol.iterator];if(!h)return P;var b=h.call(P),u,d=[],f;try{for(;(j===void 0||j-- >0)&&!(u=b.next()).done;)d.push(u.value)}catch(_){f={error:_}}finally{try{u&&!u.done&&(h=b.return)&&h.call(b)}finally{if(f)throw f.error}}return d};globalThis&&globalThis.__spread;var Cb=globalThis&&globalThis.__assign||function(){return Cb=Object.assign||function(P){for(var j,h=1,b=arguments.length;h<b;h++){j=arguments[h];for(var u in j)Object.prototype.hasOwnProperty.call(j,u)&&(P[u]=j[u])}return P},Cb.apply(this,arguments)};function c1(P){var j=P.x,h=P.y,b=P.width,u=P.height,d=P.radius,f=P.className,_=j-b/2,g=h-u/2,S=Cb(Cb({width:10,height:10,cx:0,cy:0,rx:d||0,ry:d||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+f},P),{x:_,y:g});return en.h("rect",Cb({},S))}c1.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var Zy;(function(P){P.NODE="node",P.CIRCLE_NODE="circle-node",P.POLYGON_NODE="polygon-node",P.RECT_NODE="rect-node",P.HTML_NODE="html-node",P.TEXT_NODE="text-node",P.ELLIPSE_NODE="ellipse-node",P.DIAMOND_NODE="diamond-node",P.EDGE="edge",P.LINE_EDGE="line-edge",P.POLYLINE_EDGE="polyline-edge",P.BEZIER_EDGE="bezier-edge",P.GRAPH="graph"})(Zy||(Zy={}));var Uw=globalThis&&globalThis.__extends||function(){var P=function(j,h){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,u){b.__proto__=u}||function(b,u){for(var d in u)u.hasOwnProperty(d)&&(b[d]=u[d])},P(j,h)};return function(j,h){P(j,h);function b(){this.constructor=j}j.prototype=h===null?Object.create(h):(b.prototype=h.prototype,new b)}}(),$y=globalThis&&globalThis.__assign||function(){return $y=Object.assign||function(P){for(var j,h=1,b=arguments.length;h<b;h++){j=arguments[h];for(var u in j)Object.prototype.hasOwnProperty.call(j,u)&&(P[u]=j[u])}return P},$y.apply(this,arguments)},Xw=globalThis&&globalThis.__read||function(P,j){var h=typeof Symbol=="function"&&P[Symbol.iterator];if(!h)return P;var b=h.call(P),u,d=[],f;try{for(;(j===void 0||j-- >0)&&!(u=b.next()).done;)d.push(u.value)}catch(_){f={error:_}}finally{try{u&&!u.done&&(h=b.return)&&h.call(b)}finally{if(f)throw f.error}}return d},Hw=en.LogicFlowUtil.StepDrag,Gw=function(P){Uw(j,P);function j(h){var b=P.call(this)||this;return b.updatePosition=function(u){var d=u.deltaX,f=u.deltaY,_=b.nodeModel,g=_.x,S=_.y;b.nodeModel.x=g+d/2,b.nodeModel.y=S+f/2,b.nodeModel.moveText(d/2,f/2)},b.getResize=function(u){var d=u.index,f=u.deltaX,_=u.deltaY,g=u.width,S=u.height,T=u.PCTResizeInfo,M=u.pct,I=M===void 0?1:M,C={width:g,height:S,deltaX:f,deltaY:_};if(T){var U=4,z=0,G=0;switch(d){case 0:G=(f*-1-_)/U;break;case 1:G=(f-_)/U;break;case 2:G=(f+_)/U;break;case 3:G=(f*-1+_)/U;break}G!==0&&(z=Math.round(G/T.ResizeBasis.basisHeight*1e5)/1e3),T.ResizePCT.widthPCT=Math.max(Math.min(T.ResizePCT.widthPCT+z,T.ScaleLimit.maxScaleLimit),T.ScaleLimit.minScaleLimit),T.ResizePCT.hightPCT=Math.max(Math.min(T.ResizePCT.hightPCT+z,T.ScaleLimit.maxScaleLimit),T.ScaleLimit.minScaleLimit);var q=Math.round(T.ResizePCT.widthPCT*T.ResizeBasis.basisWidth/100),J=Math.round(T.ResizePCT.hightPCT*T.ResizeBasis.basisHeight/100);switch(d){case 0:f=g-q,_=S-J;break;case 1:f=q-g,_=S-J;break;case 2:f=q-g,_=J-S;break;case 3:f=g-q,_=J-S;break}return C.width=q,C.height=J,C.deltaX=f/I,C.deltaY=_/I,C}switch(d){case 0:C.width=g-f*I,C.height=S-_*I;break;case 1:C.width=g+f*I,C.height=S-_*I;break;case 2:C.width=g+f*I,C.height=S+_*I;break;case 3:C.width=g-f*I,C.height=S+_*I;break}return C},b.updateEdgePointByAnchors=function(){var u=b.nodeModel,d=u.id,f=u.anchors,_=b.getNodeEdges(d);_.sourceEdges.forEach(function(g){var S=f.find(function(T){return T.id===g.sourceAnchorId});g.updateStartPoint({x:S.x,y:S.y})}),_.targetEdges.forEach(function(g){var S=f.find(function(T){return T.id===g.targetAnchorId});g.updateEndPoint({x:S.x,y:S.y})})},b.updateRect=function(u){var d=u.deltaX,f=u.deltaY,_=b.nodeModel,g=_.id,S=_.x,T=_.y,M=_.width,I=_.height,C=_.radius,U=_.PCTResizeInfo,z=b.index,G=b.getResize({index:z,deltaX:d,deltaY:f,width:M,height:I,PCTResizeInfo:U,pct:1}),q=b.nodeModel,J=q.minWidth,ce=q.minHeight,he=q.maxWidth,se=q.maxHeight;if(G.width<J||G.width>he||G.height<ce||G.height>se){b.dragHandler.cancelDrag();return}b.updatePosition({deltaX:G.deltaX,deltaY:G.deltaY}),b.nodeModel.width=G.width,b.nodeModel.height=G.height,b.nodeModel.setProperties({nodeSize:{width:G.width,height:G.height}}),b.getNodeEdges(g);var Q={x:S,y:T,width:M,height:I,radius:C},re={x:b.nodeModel.x,y:b.nodeModel.y,width:b.nodeModel.width,height:b.nodeModel.height,radius:C};b.updateEdgePointByAnchors(),b.eventEmit({beforeNode:Q,afterNode:re})},b.updateEllipse=function(u){var d=u.deltaX,f=u.deltaY,_=b.nodeModel,g=_.id,S=_.rx,T=_.ry,M=_.x,I=_.y,C=_.PCTResizeInfo,U=b.index,z=S,G=T,q=b.getResize({index:U,deltaX:d,deltaY:f,width:z,height:G,PCTResizeInfo:C,pct:1/2}),J=b.nodeModel,ce=J.minWidth,he=J.minHeight,se=J.maxWidth,Q=J.maxHeight;if(q.width<ce/2||q.width>se/2||q.height<he/2||q.height>Q/2){b.dragHandler.cancelDrag();return}b.updatePosition({deltaX:q.deltaX,deltaY:q.deltaY}),b.nodeModel.rx=q.width,b.nodeModel.ry=q.height,b.nodeModel.setProperties({nodeSize:{rx:q.width,ry:q.height}}),b.getNodeEdges(g);var re={x:M,y:I},W={rx:q.width,ry:q.height,x:b.nodeModel.x,y:b.nodeModel.y};b.updateEdgePointByAnchors(),b.eventEmit({beforeNode:$y($y({},re),{rx:S,ry:T}),afterNode:W})},b.updateDiamond=function(u){var d=u.deltaX,f=u.deltaY,_=b.nodeModel;_.id;var g=_.rx,S=_.ry,T=_.x,M=_.y,I=_.PCTResizeInfo,C=b.index,U=g,z=S,G=b.getResize({index:C,deltaX:d,deltaY:f,width:U,height:z,PCTResizeInfo:I,pct:1/2}),q=b.nodeModel,J=q.minWidth,ce=q.minHeight,he=q.maxWidth,se=q.maxHeight;if(G.width<J/2||G.width>he/2||G.height<ce/2||G.height>se/2){b.dragHandler.cancelDrag();return}b.updatePosition({deltaX:G.deltaX,deltaY:G.deltaY}),b.nodeModel.rx=G.width,b.nodeModel.ry=G.height,b.nodeModel.setProperties({nodeSize:{rx:G.width,ry:G.height}});var Q={x:T,y:M,rx:g,ry:S},re={rx:G.width,ry:G.height,x:b.nodeModel.x,y:b.nodeModel.y};b.updateEdgePointByAnchors(),b.eventEmit({beforeNode:Q,afterNode:re})},b.eventEmit=function(u){var d=u.beforeNode,f=u.afterNode,_=b.nodeModel,g=_.id,S=_.modelType,T=_.type,M=$y({id:g,modelType:S,type:T},d),I=$y({id:g,modelType:S,type:T},f);b.graphModel.eventCenter.emit("node:resize",{oldNodeSize:M,newNodeSize:I})},b.onDragging=function(u){var d,f=u.deltaX,_=u.deltaY,g=b.graphModel.transformModel,S=b.nodeModel.modelType;d=Xw(g.fixDeltaXY(f,_),2),f=d[0],_=d[1],S===Zy.RECT_NODE||S===Zy.HTML_NODE?b.updateRect({deltaX:f,deltaY:_}):S===Zy.ELLIPSE_NODE?b.updateEllipse({deltaX:f,deltaY:_}):S===Zy.DIAMOND_NODE&&b.updateDiamond({deltaX:f,deltaY:_})},b.onDragEnd=function(){b.updateEdgePointByAnchors();var u=b.graphModel.gridSize,d=u===void 0?1:u,f=d*Math.round(b.nodeModel.x/d),_=d*Math.round(b.nodeModel.y/d);b.nodeModel.moveTo(f,_)},b.index=h.index,b.nodeModel=h.model,b.graphModel=h.graphModel,b.state={},b.dragHandler=new Hw({onDragging:b.onDragging,onDragEnd:b.onDragEnd,step:1}),b}return j.prototype.getNodeEdges=function(h){for(var b=this.graphModel,u=b.edges,d=[],f=[],_=0;_<u.length;_++){var g=u[_];g.sourceNodeId===h?d.push(g):u[_].targetNodeId===h&&f.push(g)}return{sourceEdges:d,targetEdges:f}},j.prototype.render=function(){var h=this.props,b=h.x,u=h.y,d=h.index,f=h.model,_=f.getControlPointStyle();return Mb("g",{className:"lf-resize-control-"+d},Mb(c1,$y({className:"lf-node-control"},{x:b,y:u},_,{onMouseDown:this.dragHandler.handleMouseDown})))},j}(Z1),Yw=globalThis&&globalThis.__extends||function(){var P=function(j,h){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,u){b.__proto__=u}||function(b,u){for(var d in u)u.hasOwnProperty(d)&&(b[d]=u[d])},P(j,h)};return function(j,h){P(j,h);function b(){this.constructor=j}j.prototype=h===null?Object.create(h):(b.prototype=h.prototype,new b)}}(),Hb=globalThis&&globalThis.__assign||function(){return Hb=Object.assign||function(P){for(var j,h=1,b=arguments.length;h<b;h++){j=arguments[h];for(var u in j)Object.prototype.hasOwnProperty.call(j,u)&&(P[u]=j[u])}return P},Hb.apply(this,arguments)},Zb=function(P){Yw(j,P);function j(){var h=P.call(this)||this;return h.state={},h}return j.prototype.getResizeControl=function(){var h=this.props,b=h.model,u=h.graphModel,d=b.x,f=b.y,_=b.width,g=b.height,S={minX:d-_/2,minY:f-g/2,maxX:d+_/2,maxY:f+g/2},T=S.minX,M=S.minY,I=S.maxX,C=S.maxY,U=[{x:T,y:M},{x:I,y:M},{x:I,y:C},{x:T,y:C}];return U.map(function(z,G){return Mb(Gw,Hb({index:G},z,{model:b,graphModel:u}))})},j.prototype.getGroupSolid=function(){var h=this.props.model,b=h.x,u=h.y,d=h.width,f=h.height,_=h.getResizeOutlineStyle();return Mb(c1,Hb({fill:"none"},_,{x:b,y:u,width:d,height:f}))},j.prototype.render=function(){return Mb("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},j}(Z1),aw=globalThis&&globalThis.__extends||function(){var P=function(j,h){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,u){b.__proto__=u}||function(b,u){for(var d in u)u.hasOwnProperty(d)&&(b[d]=u[d])},P(j,h)};return function(j,h){P(j,h);function b(){this.constructor=j}j.prototype=h===null?Object.create(h):(b.prototype=h.prototype,new b)}}(),Ww=function(P){aw(j,P);function j(h,b){var u=P.call(this,h,b)||this,d=u.properties.nodeSize;return d&&(u.width=d.width,u.height=d.height),u}return j.prototype.initNodeData=function(h){P.prototype.initNodeData.call(this,h),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},j.prototype.getOutlineStyle=function(){var h=P.prototype.getOutlineStyle.call(this),b=this.graphModel.editConfigModel.isSilentMode;return b||(h.stroke="none",h.hover&&(h.hover.stroke="none")),h},j.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},j.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},j.prototype.resize=function(h,b){console.log(h,b)},j.prototype.enableProportionResize=function(h){if(h===void 0&&(h=!0),h){var b={widthPCT:100,hightPCT:100},u={basisWidth:this.width,basisHeight:this.height},d={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:b,ResizeBasis:u,ScaleLimit:d}}else delete this.PCTResizeInfo},j}(en.RectNodeModel),Vw=function(P){aw(j,P);function j(){return P!==null&&P.apply(this,arguments)||this}return j.prototype.getControlGroup=function(){var h=this.props,b=h.model,u=h.graphModel;return en.h(Zb,{model:b,graphModel:u})},j.prototype.getResizeShape=function(){return P.prototype.getShape.call(this)},j.prototype.getShape=function(){var h=this.props,b=h.model.isSelected,u=h.graphModel.editConfigModel.isSilentMode;return en.h("g",null,this.getResizeShape(),b&&!u?this.getControlGroup():"")},j}(en.RectNode),uw={type:"rect",view:Vw,model:Ww},cw=globalThis&&globalThis.__extends||function(){var P=function(j,h){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,u){b.__proto__=u}||function(b,u){for(var d in u)u.hasOwnProperty(d)&&(b[d]=u[d])},P(j,h)};return function(j,h){P(j,h);function b(){this.constructor=j}j.prototype=h===null?Object.create(h):(b.prototype=h.prototype,new b)}}();(function(P){cw(j,P);function j(h,b){var u=P.call(this,h,b)||this,d=u.properties.nodeSize;return d&&(u.rx=d.rx,u.ry=d.ry),u}return j.prototype.initNodeData=function(h){P.prototype.initNodeData.call(this,h),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},j.prototype.getOutlineStyle=function(){var h=P.prototype.getOutlineStyle.call(this),b=this.graphModel.editConfigModel.isSilentMode;return b||(h.stroke="none",h.hover&&(h.hover.stroke="none")),h},j.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},j.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},j.prototype.enableProportionResize=function(h){if(h===void 0&&(h=!0),h){var b={widthPCT:100,hightPCT:100},u={basisWidth:this.rx,basisHeight:this.ry},d={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:b,ResizeBasis:u,ScaleLimit:d}}else delete this.PCTResizeInfo},j})(en.EllipseNodeModel);(function(P){cw(j,P);function j(){return P!==null&&P.apply(this,arguments)||this}return j.prototype.getControlGroup=function(){var h=this.props,b=h.model,u=h.graphModel;return en.h(Zb,{model:b,graphModel:u})},j.prototype.getResizeShape=function(){return P.prototype.getShape.call(this)},j.prototype.getShape=function(){var h=this.props,b=h.model,u=h.graphModel.editConfigModel.isSilentMode;return en.h("g",null,this.getResizeShape(),b.isSelected&&!u?this.getControlGroup():"")},j})(en.EllipseNode);var i1=globalThis&&globalThis.__assign||function(){return i1=Object.assign||function(P){for(var j,h=1,b=arguments.length;h<b;h++){j=arguments[h];for(var u in j)Object.prototype.hasOwnProperty.call(j,u)&&(P[u]=j[u])}return P},i1.apply(this,arguments)};function $w(P){var j=P.fillOpacity,h=j===void 0?1:j,b=P.strokeWidth,u=b===void 0?1:b,d=P.strokeOpacity,f=d===void 0?1:d,_=P.fill,g=_===void 0?"transparent":_,S=P.stroke,T=S===void 0?"#000":S,M=P.points,I=P.className,C=I===void 0?"lf-basic-shape":I,U={fill:g,fillOpacity:h,strokeWidth:u,stroke:T,strokeOpacity:f,points:"",className:C};return U.points=M.map(function(z){return z.join(",")}).join(" "),en.h("polygon",i1({},U))}var sw=globalThis&&globalThis.__extends||function(){var P=function(j,h){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,u){b.__proto__=u}||function(b,u){for(var d in u)u.hasOwnProperty(d)&&(b[d]=u[d])},P(j,h)};return function(j,h){P(j,h);function b(){this.constructor=j}j.prototype=h===null?Object.create(h):(b.prototype=h.prototype,new b)}}(),a1=globalThis&&globalThis.__assign||function(){return a1=Object.assign||function(P){for(var j,h=1,b=arguments.length;h<b;h++){j=arguments[h];for(var u in j)Object.prototype.hasOwnProperty.call(j,u)&&(P[u]=j[u])}return P},a1.apply(this,arguments)};(function(P){sw(j,P);function j(h,b){var u=P.call(this,h,b)||this,d=u.properties.nodeSize;return d&&(u.rx=d.rx,u.ry=d.ry),u}return j.prototype.initNodeData=function(h){P.prototype.initNodeData.call(this,h),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},j.prototype.getOutlineStyle=function(){var h=P.prototype.getOutlineStyle.call(this),b=this.graphModel.editConfigModel.isSilentMode;return b||(h.stroke="none",h.hover&&(h.hover.stroke="none")),h},j.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},j.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},j.prototype.enableProportionResize=function(h){if(h===void 0&&(h=!0),h){var b={widthPCT:100,hightPCT:100},u={basisWidth:this.rx,basisHeight:this.ry},d={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:b,ResizeBasis:u,ScaleLimit:d}}else delete this.PCTResizeInfo},j})(en.DiamondNodeModel);(function(P){sw(j,P);function j(){return P!==null&&P.apply(this,arguments)||this}return j.prototype.getControlGroup=function(){var h=this.props,b=h.model,u=h.graphModel;return en.h(Zb,{model:b,graphModel:u})},j.prototype.getResizeShape=function(){var h=this.props.model,b=h.points,u=h.getNodeStyle();return en.h("g",null,en.h($w,a1({},u,{points:b})))},j.prototype.getShape=function(){var h=this.props,b=h.model.isSelected,u=h.graphModel.editConfigModel.isSilentMode;return en.h("g",null,this.getResizeShape(),b&&!u?this.getControlGroup():"")},j})(en.DiamondNode);var lw=globalThis&&globalThis.__extends||function(){var P=function(j,h){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,u){b.__proto__=u}||function(b,u){for(var d in u)u.hasOwnProperty(d)&&(b[d]=u[d])},P(j,h)};return function(j,h){P(j,h);function b(){this.constructor=j}j.prototype=h===null?Object.create(h):(b.prototype=h.prototype,new b)}}();(function(P){lw(j,P);function j(h,b){var u=P.call(this,h,b)||this,d=u.properties.nodeSize;return d&&(u.width=d.width,u.height=d.height),u}return j.prototype.initNodeData=function(h){P.prototype.initNodeData.call(this,h),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},j.prototype.getOutlineStyle=function(){var h=P.prototype.getOutlineStyle.call(this),b=this.graphModel.editConfigModel.isSilentMode;return b||(h.stroke="none",h.hover&&(h.hover.stroke="none")),h},j.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},j.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},j.prototype.enableProportionResize=function(h){if(h===void 0&&(h=!0),h){var b={widthPCT:100,hightPCT:100},u={basisWidth:this.width,basisHeight:this.height},d={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:b,ResizeBasis:u,ScaleLimit:d}}else delete this.PCTResizeInfo},j})(en.HtmlNodeModel);(function(P){lw(j,P);function j(){return P!==null&&P.apply(this,arguments)||this}return j.prototype.getControlGroup=function(){var h=this.props,b=h.model,u=h.graphModel;return en.h(Zb,{model:b,graphModel:u})},j.prototype.getResizeShape=function(){return P.prototype.getShape.call(this)},j.prototype.getShape=function(){var h=this.props,b=h.model.isSelected,u=h.graphModel.editConfigModel.isSilentMode;return en.h("g",null,this.getResizeShape(),b&&!u?this.getControlGroup():"")},j})(en.HtmlNode);var fw=globalThis&&globalThis.__extends||function(){var P=function(j,h){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,u){b.__proto__=u}||function(b,u){for(var d in u)u.hasOwnProperty(d)&&(b[d]=u[d])},P(j,h)};return function(j,h){P(j,h);function b(){this.constructor=j}j.prototype=h===null?Object.create(h):(b.prototype=h.prototype,new b)}}(),Gb=globalThis&&globalThis.__assign||function(){return Gb=Object.assign||function(P){for(var j,h=1,b=arguments.length;h<b;h++){j=arguments[h];for(var u in j)Object.prototype.hasOwnProperty.call(j,u)&&(P[u]=j[u])}return P},Gb.apply(this,arguments)},Kw=globalThis&&globalThis.__read||function(P,j){var h=typeof Symbol=="function"&&P[Symbol.iterator];if(!h)return P;var b=h.call(P),u,d=[],f;try{for(;(j===void 0||j-- >0)&&!(u=b.next()).done;)d.push(u.value)}catch(_){f={error:_}}finally{try{u&&!u.done&&(h=b.return)&&h.call(b)}finally{if(f)throw f.error}}return d},Zw=globalThis&&globalThis.__spread||function(){for(var P=[],j=0;j<arguments.length;j++)P=P.concat(Kw(arguments[j]));return P},P1=500,A1=300,qw=-1e4;(function(P){fw(j,P);function j(){var h=P!==null&&P.apply(this,arguments)||this;return h.isGroup=!0,h.unfoldedWidth=P1,h.unfoldedHight=A1,h.childrenLastFoldStatus={},h}return j.prototype.initNodeData=function(h){var b=this;P.prototype.initNodeData.call(this,h);var u=[];Array.isArray(h.children)&&(u=h.children),this.children=new Set(u),this.width=P1,this.height=A1,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=qw,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){b.isFolded&&b.foldGroup(b.isFolded)})},j.prototype.getResizeOutlineStyle=function(){var h=P.prototype.getResizeOutlineStyle.call(this);return h.stroke="none",h},j.prototype.foldGroup=function(h){var b=this;if(h!==this.isFolded){this.setProperty("isFolded",h),this.isFolded=h,h?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var u=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(d){var f=b.graphModel.getElement(d),_=f.isFolded;if(f.isGroup&&!f.isFolded&&f.foldGroup(h),f.isGroup&&!h){var g=b.childrenLastFoldStatus[d];g!==void 0&&g!==f.isFolded&&f.foldGroup(g)}b.childrenLastFoldStatus[d]=_,f.visible=!h,u=u.concat(f.incoming.edges.concat(f.outgoing.edges))}),this.foldEdge(h,u)}},j.prototype.getAnchorStyle=function(h){var b=P.prototype.getAnchorStyle.call(this,h);return b.stroke="transparent",b.fill="transparent",b.hover.fill="transparent",b.hover.stroke="transparent",b},j.prototype.foldEdge=function(h,b){var u=this;b.forEach(function(d,f){var _=d.id,g=d.sourceNodeId,S=d.targetNodeId,T=d.startPoint,M=d.endPoint,I=d.type,C=d.text,U=d.getProperties(),z={id:_+"__"+f,sourceNodeId:g,targetNodeId:S,startPoint:T,endPoint:M,type:I,properties:U,text:C==null?void 0:C.value};d.virtual&&u.graphModel.deleteEdgeById(d.id);var G=u.graphModel.group.getNodeGroup(S);G||(G=u.graphModel.getNodeModelById(S));var q=u.graphModel.group.getNodeGroup(g);q||(q=u.graphModel.getNodeModelById(g)),h&&d.visible!==!1&&(u.children.has(g)||u.id===g?(z.startPoint=void 0,z.sourceNodeId=u.id):(z.endPoint=void 0,z.targetNodeId=u.id),(G.id!==u.id||q.id!==u.id)&&u.createVirtualEdge(z),d.visible=!1),!h&&d.visible===!1&&(G&&G.isGroup&&G.isFolded?(z.targetNodeId=G.id,z.endPoint=void 0,u.createVirtualEdge(z)):q&&q.isGroup&&q.isFolded?(z.sourceNodeId=q.id,z.startPoint=void 0,u.createVirtualEdge(z)):d.visible=!0)})},j.prototype.createVirtualEdge=function(h){h.pointsList=void 0;var b=this.graphModel.addEdge(h);b.virtual=!0,b.text.editable=!1,b.isFoldedEdge=!0},j.prototype.isInRange=function(h){var b=h.x1,u=h.y1,d=h.x2,f=h.y2;return b>=this.x-this.width/2&&d<=this.x+this.width/2&&u>=this.y-this.height/2&&f<=this.y+this.height/2},j.prototype.isAllowMoveTo=function(h){var b=h.x1,u=h.y1,d=h.x2,f=h.y2;return{x:b>=this.x-this.width/2&&d<=this.x+this.width/2,y:u>=this.y-this.height/2&&f<=this.y+this.height/2}},j.prototype.setAllowAppendChild=function(h){this.setProperty("groupAddable",h)},j.prototype.addChild=function(h){this.children.add(h),this.graphModel.eventCenter.emit("group:add-node",{data:this.getData()})},j.prototype.removeChild=function(h){this.children.delete(h),this.graphModel.eventCenter.emit("group:remove-node",{data:this.getData()})},j.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},j.prototype.getData=function(){var h=this,b=P.prototype.getData.call(this);b.children=[],this.children.forEach(function(d){var f=h.graphModel.getNodeModelById(d);f&&!f.virtual&&b.children.push(d)});var u=b.properties;return delete u.groupAddable,delete u.isFolded,b},j.prototype.getHistoryData=function(){var h=P.prototype.getData.call(this);h.children=Zw(this.children),h.isGroup=!0;var b=h.properties;return delete b.groupAddable,b.isFolded&&(h.x=h.x+this.unfoldedWidth/2-this.foldedWidth/2,h.y=h.y+this.unfoldedHight/2-this.foldedHeight/2),h},j.prototype.isAllowAppendIn=function(h){return!0},j.prototype.toBack=function(){this.zIndex--},j})(uw.model);(function(P){fw(j,P);function j(){return P!==null&&P.apply(this,arguments)||this}return j.prototype.getControlGroup=function(){var h=this.props.model,b=h.resizable,u=h.properties;return b&&!u.isFolded?P.prototype.getControlGroup.call(this):null},j.prototype.getAddableShape=function(){var h=this.props.model,b=h.width,u=h.height,d=h.x,f=h.y,_=h.radius,g=h.properties;if(!g.groupAddable)return null;var S=this.props.model.getNodeStyle().strokeWidth,T=this.props.model.getAddableOutlineStyle(),M=b+S+8,I=u+S+8;return en.h("rect",Gb(Gb({},T),{width:M,height:I,x:d-M/2,y:f-I/2,rx:_,ry:_}))},j.prototype.getFoldIcon=function(){var h=this.props.model,b=h.x-h.width/2+5,u=h.y-h.height/2+5;if(!h.foldable)return null;var d=en.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:h.properties.isFolded?"M "+(b+3)+","+(u+6)+" "+(b+11)+","+(u+6)+" M"+(b+7)+","+(u+2)+" "+(b+7)+","+(u+10):"M "+(b+3)+","+(u+6)+" "+(b+11)+","+(u+6)+" "});return en.h("g",{},[en.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:h.x-h.width/2+5,y:h.y-h.height/2+5,onClick:function(){h.foldGroup(!h.properties.isFolded)}}),d])},j.prototype.getResizeShape=function(){return en.h("g",{},[this.getAddableShape(),P.prototype.getResizeShape.call(this),this.getFoldIcon()])},j})(uw.view);var k1=globalThis&&globalThis.__assign||function(){return k1=Object.assign||function(P){for(var j,h=1,b=arguments.length;h<b;h++){j=arguments[h];for(var u in j)Object.prototype.hasOwnProperty.call(j,u)&&(P[u]=j[u])}return P},k1.apply(this,arguments)};globalThis&&globalThis.__rest;var Jw=globalThis&&globalThis.__read||function(P,j){var h=typeof Symbol=="function"&&P[Symbol.iterator];if(!h)return P;var b=h.call(P),u,d=[],f;try{for(;(j===void 0||j-- >0)&&!(u=b.next()).done;)d.push(u.value)}catch(_){f={error:_}}finally{try{u&&!u.done&&(h=b.return)&&h.call(b)}finally{if(f)throw f.error}}return d};globalThis&&globalThis.__spread;globalThis&&globalThis.__extends||function(){var P=function(j,h){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,u){b.__proto__=u}||function(b,u){for(var d in u)u.hasOwnProperty(d)&&(b[d]=u[d])},P(j,h)};return function(j,h){P(j,h);function b(){this.constructor=j}j.prototype=h===null?Object.create(h):(b.prototype=h.prototype,new b)}}();var T1=globalThis&&globalThis.__assign||function(){return T1=Object.assign||function(P){for(var j,h=1,b=arguments.length;h<b;h++){j=arguments[h];for(var u in j)Object.prototype.hasOwnProperty.call(j,u)&&(P[u]=j[u])}return P},T1.apply(this,arguments)};globalThis&&globalThis.__values;var D1=globalThis&&globalThis.__extends||function(){var P=function(j,h){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,u){b.__proto__=u}||function(b,u){for(var d in u)u.hasOwnProperty(d)&&(b[d]=u[d])},P(j,h)};return function(j,h){P(j,h);function b(){this.constructor=j}j.prototype=h===null?Object.create(h):(b.prototype=h.prototype,new b)}}(),Rb=globalThis&&globalThis.__assign||function(){return Rb=Object.assign||function(P){for(var j,h=1,b=arguments.length;h<b;h++){j=arguments[h];for(var u in j)Object.prototype.hasOwnProperty.call(j,u)&&(P[u]=j[u])}return P},Rb.apply(this,arguments)};function Qw(P){var j=function(b){D1(u,b);function u(d,f){var _=this;d.id||(d.id="Flow_"+Cw());var g=Rb(Rb(Rb({},P||{}),d.properties),{isDefaultFlow:!1});return d.properties=g,_=b.call(this,d,f)||this,_}return u.extendKey="SequenceFlowModel",u}(en.PolylineEdgeModel),h=function(b){D1(u,b);function u(){return b!==null&&b.apply(this,arguments)||this}return u.prototype.getStartArrow=function(){var d=this.props.model,f=d.properties.isDefaultFlow;return f?en.h("path",{refX:15,stroke:"#000000",strokeWidth:2,d:"M 20 5 10 -5 z"}):en.h("path",{d:""})},u.extendKey="SequenceFlowEdge",u}(en.PolylineEdge);return{type:"bpmn:sequenceFlow",view:h,model:j}}Qw();globalThis&&globalThis.__read;var M1={width:40,height:40},N1={width:40,height:40},C1={width:100,height:80},Yb={width:100,height:80},R1={width:100,height:80},I1={width:100,height:80},L1={width:100,height:80},z1={width:100,height:80},B1={width:100,height:80},F1={width:100,height:80},Iu=function(){};Iu.ObjTree=function(){return this};Iu.ObjTree.VERSION="0.23";Iu.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;Iu.ObjTree.prototype.attr_prefix="-";Iu.ObjTree.prototype.parseXML=function(P){var j;if(window.DOMParser){var h=new DOMParser,b=h.parseFromString(P,"application/xml");if(!b)return;j=b.documentElement}else window.ActiveXObject&&(h=new ActiveXObject("Microsoft.XMLDOM"),h.async=!1,h.loadXML(P),j=h.documentElement);if(j){var u=this.parseDOM(j);return u}};Iu.ObjTree.prototype.parseHTTP=function(P,j,h){var b={};for(var u in j)b[u]=j[u];if(b.method||(typeof b.postBody>"u"&&typeof b.postbody>"u"&&typeof b.parameters>"u"?b.method="get":b.method="post"),h){b.asynchronous=!0;var d=this,f=h,_=b.onComplete;b.onComplete=function(T){var M;T&&T.responseXML&&T.responseXML.documentElement&&(M=d.parseDOM(T.responseXML.documentElement)),f(M,T),_&&_(T)}}else b.asynchronous=!1;var g;if(typeof HTTP<"u"&&HTTP.Request){b.uri=P;var S=new HTTP.Request(b);S&&(g=S.transport)}else if(typeof Ajax<"u"&&Ajax.Request){var S=new Ajax.Request(P,b);S&&(g=S.transport)}if(h)return g;if(g&&g.responseXML&&g.responseXML.documentElement)return this.parseDOM(g.responseXML.documentElement)};Iu.ObjTree.prototype.parseDOM=function(P){if(P){if(this.__force_array={},this.force_array)for(var j=0;j<this.force_array.length;j++)this.__force_array[this.force_array[j]]=1;var h=this.parseElement(P);if(this.__force_array[P.nodeName]&&(h=[h]),P.nodeType!==11){var b={};b[P.nodeName]=h,h=b}return h}};Iu.ObjTree.prototype.parseElement=function(P){if(P.nodeType!==7){if(P.nodeType===3||P.nodeType===4||P.nodeType===8){var j=P.nodeValue.match(/[^\x00-\x20]/);return j==null?void 0:P.nodeValue}var h=null,b={};if(P.attributes&&P.attributes.length){h={};for(var u=0;u<P.attributes.length;u++){var d=P.attributes[u].nodeName;if(typeof d=="string"){var f=P.attributes[u].nodeValue;try{f=JSON.parse(P.attributes[u].nodeValue.replace(/'/g,'"'))}catch{f=P.attributes[u].nodeValue}f!=null&&(d=this.attr_prefix+d,typeof b[d]>"u"&&(b[d]=0),b[d]++,this.addNode(h,d,b[d],f))}}}if(P.childNodes&&P.childNodes.length){var _=!0;h&&(_=!1);for(var u=0;u<P.childNodes.length&&_;u++){var g=P.childNodes[u].nodeType;g===3||g===4||g===8||(_=!1)}if(_){h||(h="");for(var u=0;u<P.childNodes.length;u++)h+=P.childNodes[u].nodeValue}else{h||(h={});for(var u=0;u<P.childNodes.length;u++){var d=P.childNodes[u].nodeName;if(typeof d=="string"){var f=this.parseElement(P.childNodes[u]);f&&(typeof b[d]>"u"&&(b[d]=0),b[d]++,this.addNode(h,d,b[d],f))}}}}else h===null&&(h={});return h}};Iu.ObjTree.prototype.addNode=function(P,j,h,b){this.__force_array[j]?(h===1&&(P[j]=[]),P[j][P[j].length]=b):h===1?P[j]=b:h===2?P[j]=[P[j],b]:P[j][P[j].length]=b};Iu.ObjTree.prototype.writeXML=function(P){var j=this.hash_to_xml(null,P);return this.xmlDecl+j};Iu.ObjTree.prototype.hash_to_xml=function(P,j){var h=[],b=[];for(var u in j)if(j!=null&&j.hasOwnProperty(u)){var d=j[u];u.charAt(0)!==this.attr_prefix?typeof d>"u"||d==null?h[h.length]="<"+u+" />":typeof d=="object"&&d.constructor===Array?h[h.length]=this.array_to_xml(u,d):typeof d=="object"?h[h.length]=this.hash_to_xml(u,d):h[h.length]=this.scalar_to_xml(u,d):b[b.length]=" "+u.substring(1)+'="'+this.xml_escape(d)+'"'}var f=b.join(""),_=h.join("");return typeof P>"u"||P==null||(h.length>0?_.match(/\n/)?_="<"+P+f+`>
`+_+"</"+P+`>
`:_="<"+P+f+">"+_+"</"+P+`>
`:_="<"+P+f+` />
`),_};Iu.ObjTree.prototype.array_to_xml=function(P,j){for(var h=[],b=0;b<j.length;b++){var u=j[b];typeof u>"u"||u==null?h[h.length]="<"+P+" />":typeof u=="object"&&u.constructor===Array?h[h.length]=this.array_to_xml(P,u):typeof u=="object"?h[h.length]=this.hash_to_xml(P,u):h[h.length]=this.scalar_to_xml(P,u)}return h.join("")};Iu.ObjTree.prototype.scalar_to_xml=function(P,j){return P==="#text"?this.xml_escape(j):"<"+P+">"+this.xml_escape(j)+"</"+P+`>
`};Iu.ObjTree.prototype.xml_escape=function(P){return P.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var ex=function(P){return new Iu.ObjTree().parseXML(P)};function pw(P){return Object.prototype.toString.call(P)}function U1(P){return"  ".repeat(P)}function Wb(P){return pw(P)==="[object Object]"?Object.keys(P).reduce(function(j,h){var b=h;return h.charAt(0)==="-"&&(b=h.substring(1)),j[b]=Wb(P[h]),j},{}):Array.isArray(P)?P.map(function(j){return Wb(j)}):P}function tx(P){var j=P;try{typeof j!="string"&&(j=JSON.parse(P))}catch{j=JSON.stringify(Wb(P)).replace(/"/g,"'")}return j}var X1=`	
`;function zb(P,j,h){var b=U1(h),u="",d=X1+b;if(j==="-json")return"";if(j==="#text")return d+P;if(j==="#cdata-section")return d+"<![CDATA["+P+"]]>";if(j==="#comment")return d+"<!--"+P+"-->";if((""+j).charAt(0)==="-")return" "+j.substring(1)+'="'+tx(P)+'"';if(Array.isArray(P))u+=P.map(function(S){return zb(S,j,h+1)}).join("");else if(pw(P)==="[object Object]"){var f=Object.keys(P),_="",g=P["-json"]?X1+U1(h+1)+P["-json"]:"";u+=(h===0?"":d)+"<"+j,f.forEach(function(S){S.charAt(0)==="-"?_+=zb(P[S],S,h+1):g+=zb(P[S],S,h+1)}),u+=_+(g!==""?">"+g+d+"</"+j+">":" />")}else u+=d+"<"+j+">"+P.toString()+"</"+j+">";return u}function nx(P){var j="";for(var h in P)j+=zb(P[h],h,0);return j}var rx=globalThis&&globalThis.__extends||function(){var P=function(j,h){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,u){b.__proto__=u}||function(b,u){for(var d in u)u.hasOwnProperty(d)&&(b[d]=u[d])},P(j,h)};return function(j,h){P(j,h);function b(){this.constructor=j}j.prototype=h===null?Object.create(h):(b.prototype=h.prototype,new b)}}(),u1=globalThis&&globalThis.__assign||function(){return u1=Object.assign||function(P){for(var j,h=1,b=arguments.length;h<b;h++){j=arguments[h];for(var u in j)Object.prototype.hasOwnProperty.call(j,u)&&(P[u]=j[u])}return P},u1.apply(this,arguments)},H1=globalThis&&globalThis.__rest||function(P,j){var h={};for(var b in P)Object.prototype.hasOwnProperty.call(P,b)&&j.indexOf(b)<0&&(h[b]=P[b]);if(P!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,b=Object.getOwnPropertySymbols(P);u<b.length;u++)j.indexOf(b[u])<0&&Object.prototype.propertyIsEnumerable.call(P,b[u])&&(h[b[u]]=P[b[u]]);return h},s1=globalThis&&globalThis.__values||function(P){var j=typeof Symbol=="function"&&Symbol.iterator,h=j&&P[j],b=0;if(h)return h.call(P);if(P&&typeof P.length=="number")return{next:function(){return P&&b>=P.length&&(P=void 0),{value:P&&P[b++],done:!P}}};throw new TypeError(j?"Object is not iterable.":"Symbol.iterator is not defined.")},ev=globalThis&&globalThis.__read||function(P,j){var h=typeof Symbol=="function"&&P[Symbol.iterator];if(!h)return P;var b=h.call(P),u,d=[],f;try{for(;(j===void 0||j-- >0)&&!(u=b.next()).done;)d.push(u.value)}catch(_){f={error:_}}finally{try{u&&!u.done&&(h=b.return)&&h.call(b)}finally{if(f)throw f.error}}return d},Jy=globalThis&&globalThis.__spread||function(){for(var P=[],j=0;j<arguments.length;j++)P=P.concat(ev(arguments[j]));return P},Cu;(function(P){P.START="bpmn:startEvent",P.END="bpmn:endEvent",P.INTERMEDIATE_CATCH="bpmn:intermediateCatchEvent",P.INTERMEDIATE_THROW="bpmn:intermediateThrowEvent",P.BOUNDARY="bpmn:boundaryEvent",P.PARALLEL_GATEWAY="bpmn:parallelGateway",P.INCLUSIVE_GATEWAY="bpmn:inclusiveGateway",P.EXCLUSIVE_GATEWAY="bpmn:exclusiveGateway",P.USER="bpmn:userTask",P.SYSTEM="bpmn:serviceTask",P.FLOW="bpmn:sequenceFlow",P.SUBPROCESS="bpmn:subProcess"})(Cu||(Cu={}));var hw=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef","-children"],ox=["properties","startPoint","endPoint","pointsList"],Vb={in:[],out:["properties.panels","properties.nodeSize","properties.definitionId","properties.timerValue","properties.timerType","properties.definitionType","properties.parent","properties.isBoundaryEventTouchingTask"]},dw=function(P,j){var h=Object.keys(j||{});return h.forEach(function(b){if(P[b]){var u=j[b],d=u.in,f=u.out;d&&(P[b].in=d),f&&(P[b].out=f)}else P[b]=j[b]}),P},es={"bpmn:startEvent":{out:function(P){var j,h,b=P.properties;return((h=(j=es[b.definitionType])===null||j===void 0?void 0:j.out)===null||h===void 0?void 0:h.call(j,P))||{}}},"bpmn:intermediateCatchEvent":{out:function(P){var j,h,b=P.properties;return((h=(j=es[b.definitionType])===null||j===void 0?void 0:j.out)===null||h===void 0?void 0:h.call(j,P))||{}}},"bpmn:intermediateThrowEvent":{out:function(P){var j,h,b=P.properties;return((h=(j=es[b.definitionType])===null||j===void 0?void 0:j.out)===null||h===void 0?void 0:h.call(j,P))||{}}},"bpmn:boundaryEvent":{out:function(P){var j,h,b=P.properties;return((h=(j=es[b.definitionType])===null||j===void 0?void 0:j.out)===null||h===void 0?void 0:h.call(j,P))||{}}},"bpmn:sequenceFlow":{out:function(P){var j=P.properties,h=j.expressionType,b=j.condition;return b?h==="cdata"?{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression"><![CDATA[${'+b+"}]]></bpmn:conditionExpression>"}:{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression">'+b+"</bpmn:conditionExpression>"}:{json:""}}},"bpmn:timerEventDefinition":{out:function(P){var j=P.properties,h=j.timerType,b=j.timerValue,u=j.definitionId,d=function(){return"<bpmn:"+h+' xsi:type="bpmn:tFormalExpression">'+b+"</bpmn:"+h+">"};return{json:'<bpmn:timerEventDefinition id="'+u+'"'+(h&&b?">"+d()+"</bpmn:timerEventDefinition>":"/>")}},in:function(P,j){var h,b,u,d,f=P,_=j["-id"],g="",S="";try{for(var T=s1(Object.keys(j)),M=T.next();!M.done;M=T.next()){var I=M.value;I.includes("bpmn:")&&(u=ev(I.split(":"),2),g=u[1],S=(d=j[I])===null||d===void 0?void 0:d["#text"])}}catch(C){h={error:C}}finally{try{M&&!M.done&&(b=T.return)&&b.call(T)}finally{if(h)throw h.error}}return{"-definitionId":_,"-definitionType":f,"-timerType":g,"-timerValue":S}}},"bpmn:conditionExpression":{in:function(P,j){var h,b="",u="";return j["#cdata-section"]?(u="cdata",b=((h=/^\$\{(.*)\}$/g.exec(j["#cdata-section"]))===null||h===void 0?void 0:h[1])||""):j["#text"]&&(u="normal",b=j["#text"]),{"-condition":b,"-expressionType":u}}}};function ix(P){var j=P??{},h=j.retainedAttrsFields,b=j.excludeFields,u=j.transformer,d=new Set(Jy(ox,h||[])),f={in:new Set(Jy(Vb.in,(b==null?void 0:b.in)||[])),out:new Set(Jy(Vb.out,(b==null?void 0:b.out)||[]))};return es=dw(es,u),function(_){var g=_.nodes,S=_.edges;function T(M,I){var C,U,z;if((M==null?void 0:M.flag)!==1){var G;if((G=es[M.type])&&G.out){var q=G.out(M),J=Object.keys(q);J.length>0&&J.forEach(function(H){M[H]=q[H]})}M!=null&&M.children&&(M.children=M.children.map(function(H){var X=g.find(function($){return $.id===H})||S.find(function($){return $.id===H});return X||{}}));var ce={};if(typeof M=="string")return M;if(Array.isArray(M))return M.map(function(H){return T(H,"")}).filter(function(H){return H!=null});try{for(var he=s1(Object.entries(M)),se=he.next();!se.done;se=he.next()){var Q=ev(se.value,2),re=Q[0],W=Q[1];if(((z=W)===null||z===void 0?void 0:z.flag)===1)return;var L=[I,re].filter(function(H){return H}).join(".");f.out.has(L)||(typeof W!="object"?re.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(re)?ce[re]=W:ce["-"+re]=W:d.has(L)?ce["-"+re]=T(W,L):ce[re]=T(W,L))}}catch(H){C={error:H}}finally{try{se&&!se.done&&(U=he.return)&&U.call(he)}finally{if(C)throw C.error}}return ce}}return T(_,"")}}function $b(P){var j,h,b={};try{for(var u=s1(Object.entries(P)),d=u.next();!d.done;d=u.next()){var f=ev(d.value,2),_=f[0],g=f[1];_.indexOf("-")===0?b[_.substring(1)]=Wb(g):typeof g=="string"?b[_]=g:Object.prototype.toString.call(g)==="[object Object]"?b[_]=$b(g):Array.isArray(g)?b[_]=g.map(function(S){return $b(S)}):b[_]=g}}catch(S){j={error:S}}finally{try{d&&!d.done&&(h=u.return)&&h.call(u)}finally{if(j)throw j.error}}return b}function ax(P,j,h){var b,u=new Map,d=ix(h)(j);d.nodes.forEach(function(_){var g=_["-id"],S=_["-type"],T=_.text,M=_.children,I=H1(_,["-id","-type","text","children"]),C={"-id":g};T!=null&&T["-value"]&&(C["-name"]=T["-value"]),I["-json"]&&(C["-json"]=I["-json"]),I["-properties"]&&Object.assign(C,I["-properties"]),M&&(C.children=M),P[S]||(P[S]=[]),P[S].push(C),u.set(g,C)});var f=d.edges.map(function(_){var g=_["-id"];_["-type"];var S=_["-sourceNodeId"],T=_["-targetNodeId"],M=_.text,I=H1(_,["-id","-type","-sourceNodeId","-targetNodeId","text"]),C=u.get(T);C["bpmn:incoming"]||(C["bpmn:incoming"]=[]),C["bpmn:incoming"].push(g);var U={"-id":g,"-sourceRef":S,"-targetRef":T};return M!=null&&M["-value"]&&(U["-name"]=M["-value"]),I["-json"]&&(U["-json"]=I["-json"]),I["-properties"]&&Object.assign(U,I["-properties"]),U});return j.edges.forEach(function(_){var g=_.sourceNodeId,S=_.id,T=u.get(g);T["bpmn:outgoing"]||(T["bpmn:outgoing"]=[]),T["bpmn:outgoing"].push(S)}),(b=P["bpmn:subProcess"])===null||b===void 0||b.forEach(function(_){var g={"bpmn:incoming":new Set,"bpmn:outgoing":new Set},S=[];_.children.forEach(function(z){var G,q=u.get(z["-id"]);["bpmn:incoming","bpmn:outgoing"].forEach(function(ce){q[ce]&&q[ce].forEach(function(he){g[ce].add(he)})});var J=(G=P[z["-type"]])===null||G===void 0?void 0:G.findIndex(function(ce){return ce["-id"]===z["-id"]});J>=0&&P[z["-type"]].splice(J,1),u.delete(z["-id"]),_[z["-type"]]||(_[z["-type"]]=[]),_[z["-type"]].push(q)});var T=g["bpmn:incoming"],M=g["bpmn:outgoing"];M.forEach(function(z){T.has(z)&&S.push(z)});for(var I=function(z){var G=f.findIndex(function(q){return q["-id"]===S[z]});G>=0?(_["bpmn:sequenceFlow"]||(_["bpmn:sequenceFlow"]=[]),_["bpmn:sequenceFlow"].push(f[G]),f.splice(G,1)):z++,C=z},C,U=0;U<S.length;)I(U),U=C;delete _.children}),P[Cu.FLOW]=f,P}function ux(P,j){P["bpmndi:BPMNEdge"]=j.edges.map(function(h){var b,u=h.id,d=h.pointsList.map(function(_){var g=_.x,S=_.y;return{"-x":g,"-y":S}}),f={"-id":u+"_di","-bpmnElement":u,"di:waypoint":d};return!((b=h.text)===null||b===void 0)&&b.value&&(f["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":h.text.x-h.text.value.length*10/2,"-y":h.text.y-7,"-width":h.text.value.length*10,"-height":14}}),f}),P["bpmndi:BPMNShape"]=j.nodes.map(function(h){var b,u=h.id,d=100,f=80,_=h.x,g=h.y,S=Lu.shapeConfigMap.get(h.type);S&&(d=S.width,f=S.height),_-=d/2,g-=f/2;var T={"-id":u+"_di","-bpmnElement":u,"dc:Bounds":{"-x":_,"-y":g,"-width":d,"-height":f}};return!((b=h.text)===null||b===void 0)&&b.value&&(T["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":h.text.x-h.text.value.length*10/2,"-y":h.text.y-7,"-width":h.text.value.length*10,"-height":14}}),T})}var cx=["bpmn:incoming","bpmn:outgoing"];function sx(P,j){var h=[],b=[],u=new Map,d=j??{},f=d.transformer,_=d.excludeFields,g={in:new Set(Jy(Vb.in,(_==null?void 0:_.in)||[])),out:new Set(Jy(Vb.out,(_==null?void 0:_.out)||[]))};es=dw(es,f);var S=P["bpmn:definitions"];if(S){var T=S["bpmn:process"];(function(I,C){C.forEach(function(U){try{Object.keys(I).forEach(function(z){try{U(z)}catch(G){console.error(G)}})}catch(z){console.error(z)}})})(T,[function(I){function C(z){z["-children"]||(z["-children"]=[]),Object.keys(z).forEach(function(G){var q;G.indexOf("bpmn:")===0&&!cx.includes(G)&&(T[G]||(T[G]=[]),!Array.isArray(T[G])&&(T[G]=[T[G]]),Array.isArray(z[G])?(q=T[G]).push.apply(q,Jy(z[G])):T[G].push(z[G]),Array.isArray(z[G])?z[G].forEach(function(J){!G.includes("Flow")&&z["-children"].push(J["-id"])}):!G.includes("Flow")&&z["-children"].push(z[G]["-id"]),delete z[G])})}if(I==="bpmn:subProcess"){var U=T[I];Array.isArray(U)?U.forEach(function(z){I==="bpmn:subProcess"&&C(z)}):C(U)}},function(I){var C=function(z){Object.keys(z).forEach(function(G){var q,J;if(G.includes("bpmn:")){var ce={};es[G]&&es[G].in?(ce=(J=(q=es[G]).in)===null||J===void 0?void 0:J.call(q,G,q1.cloneDeep(z[G])),delete z[G]):U(z[G]);var he=void 0;(he=Reflect.ownKeys(ce)).length>0&&he.forEach(function(se){Reflect.set(z,se,ce[se])})}})};function U(z){u.set(z["-id"],z),Array.isArray(z)?z.forEach(function(G){U(G)}):typeof z=="object"&&C(z)}U(T[I])},function(I){if(I.indexOf("bpmn:")===0){var C=T[I];if(I==="bpmn:sequenceFlow"){var U=S["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];b=fx(C,U)}else{var z=S["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];if(I==="bpmn:boundaryEvent"){var G=T[I],q=function(J){var ce=J["-attachedToRef"],he=u.get(ce);he["-boundaryEvents"]||(he["-boundaryEvents"]=[]),he["-boundaryEvents"].push(J["-id"])};Array.isArray(G)?G.forEach(function(J){q(J)}):q(G)}h=h.concat(lx(C,z,I))}}}])}var M=function(I,C,U){Object.keys(I).forEach(function(z){var G=U?U+"."+z:z;C.has(G)?delete I[z]:typeof I[z]=="object"&&M(I[z],C,G)})};return h.forEach(function(I){var C,U;if(!((C=j==null?void 0:j.mapping)===null||C===void 0)&&C.in){var z=(U=j==null?void 0:j.mapping)===null||U===void 0?void 0:U.in,G=I.type;z[G]&&(I.type=z[G])}M(I,g.in,"")}),b.forEach(function(I){var C,U;if(!((C=j==null?void 0:j.mapping)===null||C===void 0)&&C.in){var z=(U=j==null?void 0:j.mapping)===null||U===void 0?void 0:U.in,G=I.type;z[G]&&(I.type=z[G])}M(I,g.in,"")}),{nodes:h,edges:b}}function lx(P,j,h){var b=[];if(Array.isArray(P))P.forEach(function(f){var _;Array.isArray(j)?_=j.find(function(S){return S["-bpmnElement"]===f["-id"]}):_=j;var g=G1(_,h,f);b.push(g)});else{var u=void 0;Array.isArray(j)?u=j.find(function(f){return f["-bpmnElement"]===P["-id"]}):u=j;var d=G1(u,h,P);b.push(d)}return b}function G1(P,j,h){var b=Number(P["dc:Bounds"]["-x"]),u=Number(P["dc:Bounds"]["-y"]),d=h["-children"],f=h["-name"],_=Lu.shapeConfigMap.get(j);_&&(b+=_.width/2,u+=_.height/2);var g={};Object.entries(h).forEach(function(I){var C=ev(I,2),U=C[0],z=C[1];hw.includes(U)||(g[U]=z)}),g=$b(g);var S;if(f&&(S={x:b,y:u,value:f},P["bpmndi:BPMNLabel"]&&P["bpmndi:BPMNLabel"]["dc:Bounds"])){var T=P["bpmndi:BPMNLabel"]["dc:Bounds"];S.x=Number(T["-x"])+Number(T["-width"])/2,S.y=Number(T["-y"])+Number(T["-height"])/2}var M={id:P["-bpmnElement"],type:j,x:b,y:u,properties:g};return d&&(M.children=d),S&&(M.text=S),M}function fx(P,j){var h=[];if(Array.isArray(P))P.forEach(function(u){var d;Array.isArray(j)?d=j.find(function(f){return f["-bpmnElement"]===u["-id"]}):d=j,h.push(Y1(d,u))});else{var b=void 0;Array.isArray(j)?b=j.find(function(u){return u["-bpmnElement"]===P["-id"]}):b=j,h.push(Y1(b,P))}return h}function Y1(P,j){var h,b=j["-name"];if(b){var u=P["bpmndi:BPMNLabel"]["dc:Bounds"],d=0;b.split(`
`).forEach(function(S){d<S.length&&(d=S.length)}),h={value:b,x:Number(u["-x"])+d*10/2,y:Number(u["-y"])+7}}var f={};Object.entries(j).forEach(function(S){var T=ev(S,2),M=T[0],I=T[1];hw.includes(M)||(f[M]=I)}),f=$b(f);var _=P["di:waypoint"].map(function(S){return{x:Number(S["-x"]),y:Number(S["-y"])}}),g={id:j["-id"],type:Cu.FLOW,pointsList:_,sourceNodeId:j["-sourceRef"],targetNodeId:j["-targetRef"],properties:f};return h&&(g.text=h),g}var Lu=function(){function P(j){var h=this,b=j.lf;this.adapterOut=function(u,d){var f,_,g=u1({},h.processAttributes);ax(g,u,d);var S={"-id":"BPMNPlane_1","-bpmnElement":g["-id"]};ux(S,u);var T=h.definitionAttributes;T["bpmn:process"]=g,T["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":S};var M={"bpmn:definitions":T};if(!((f=d==null?void 0:d.mapping)===null||f===void 0)&&f.out){var I=(_=d==null?void 0:d.mapping)===null||_===void 0?void 0:_.out,C=function(U){Array.isArray(U)&&U.forEach(function(z){return C(z)}),typeof U=="object"&&Object.keys(U).forEach(function(z){var G;(G=I[z])?(U[G]=q1.cloneDeep(U[z]),delete U[z],C(U[G])):C(U[z])})};C(M)}return M},this.adapterIn=function(u,d){if(u)return sx(u,d)},b.adapterIn=this.adapterIn,b.adapterOut=this.adapterOut,this.processAttributes={"-isExecutable":"true","-id":"Process"},this.definitionAttributes={"-id":"Definitions","-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.10"}}return P.prototype.setCustomShape=function(j,h){P.shapeConfigMap.set(j,h)},P.pluginName="bpmn-adapter",P.shapeConfigMap=new Map,P}();Lu.shapeConfigMap.set(Cu.START,{width:M1.width,height:M1.height});Lu.shapeConfigMap.set(Cu.END,{width:N1.width,height:N1.height});Lu.shapeConfigMap.set(Cu.INTERMEDIATE_CATCH,{width:Yb.width,height:Yb.height});Lu.shapeConfigMap.set(Cu.INTERMEDIATE_THROW,{width:Yb.width,height:Yb.height});Lu.shapeConfigMap.set(Cu.BOUNDARY,{width:C1.width,height:C1.height});Lu.shapeConfigMap.set(Cu.PARALLEL_GATEWAY,{width:R1.width,height:R1.height});Lu.shapeConfigMap.set(Cu.INCLUSIVE_GATEWAY,{width:I1.width,height:I1.height});Lu.shapeConfigMap.set(Cu.EXCLUSIVE_GATEWAY,{width:L1.width,height:L1.height});Lu.shapeConfigMap.set(Cu.SYSTEM,{width:z1.width,height:z1.height});Lu.shapeConfigMap.set(Cu.USER,{width:B1.width,height:B1.height});Lu.shapeConfigMap.set(Cu.SUBPROCESS,{width:F1.width,height:F1.height});(function(P){rx(j,P);function j(h){var b=P.call(this,h)||this;b.adapterXmlIn=function(f){var _=ex(f);return b.adapterIn(_,b.props)},b.adapterXmlOut=function(f){var _=b.adapterOut(f,b.props);return nx(_)};var u=h.lf,d=h.props;return u.adapterIn=b.adapterXmlIn,u.adapterOut=b.adapterXmlOut,b.props=d,b}return j.pluginName="BPMNAdapter",j})(Lu);var Px=function(){function P(j){var h=this,b=j.lf;this.lf=b,this.customCssRules="",this.useGlobalRules=!0,b.getSnapshot=function(u,d){h.getSnapshot(u,d)},b.getSnapshotBlob=function(u){return h.getSnapshotBlob(u)},b.getSnapshotBase64=function(u){return h.getSnapshotBase64(u)}}return P.prototype.getSvgRootElement=function(j){var h=j.container.querySelector(".lf-canvas-overlay");return h},P.prototype.triggerDownload=function(j){var h=new MouseEvent("click",{view:document.defaultView,bubbles:!1,cancelable:!0}),b=document.createElement("a");b.setAttribute("download",this.fileName),b.setAttribute("href",j),b.setAttribute("target","_blank"),b.dispatchEvent(h)},P.prototype.removeAnchor=function(j){for(var h=j.childNodes,b=j.childNodes&&j.childNodes.length,u=0;u<b;u++){var d=h[u],f=d.classList&&Array.from(d.classList)||[];f.indexOf("lf-anchor")>-1&&(j.removeChild(j.childNodes[u]),b--,u--)}},P.prototype.removeRotateControl=function(j){for(var h=j.childNodes,b=j.childNodes&&j.childNodes.length,u=0;u<b;u++){var d=h[u],f=d.classList&&Array.from(d.classList)||[];f.indexOf("lf-rotate-control")>-1&&(j.removeChild(j.childNodes[u]),b--,u--)}},P.prototype.getSnapshot=function(j,h){var b=this;this.fileName=j||"logic-flow."+Date.now()+".png";var u=this.getSvgRootElement(this.lf);this.getCanvasData(u,h).then(function(d){var f=d.toDataURL("image/png").replace("image/png","image/octet-stream");b.triggerDownload(f)})},P.prototype.getSnapshotBase64=function(j){var h=this,b=this.getSvgRootElement(this.lf);return new Promise(function(u){h.getCanvasData(b,j).then(function(d){var f=d.toDataURL("image/png");u({data:f,width:d.width,height:d.height})})})},P.prototype.getSnapshotBlob=function(j){var h=this,b=this.getSvgRootElement(this.lf);return new Promise(function(u){h.getCanvasData(b,j).then(function(d){d.toBlob(function(f){u({data:f,width:d.width,height:d.height})},"image/png")})})},P.prototype.getClassRules=function(){var j="";if(this.useGlobalRules)for(var h=document.styleSheets,b=0;b<h.length;b++)for(var u=h[b],d=0;d<u.cssRules.length;d++)j+=u.cssRules[d].cssText;return this.customCssRules&&(j+=this.customCssRules),j},P.prototype.getCanvasData=function(j,h){var b=this,u=j.cloneNode(!0),d=u.lastChild,f=d.childNodes&&d.childNodes.length;if(f)for(var _=0;_<f;_++){var g=d.childNodes[_],S=g.classList&&Array.from(g.classList);if(S&&S.indexOf("lf-base")<0)d.removeChild(d.childNodes[_]),f--,_--;else{var T=d.childNodes[_];T&&T.childNodes.forEach(function(Ee){var be=Ee;b.removeAnchor(be.firstChild),b.removeRotateControl(be.firstChild)})}}var M=window.devicePixelRatio||1;M<1&&(M=1);var I=document.createElement("canvas"),C=this.lf.graphModel.rootEl.querySelector(".lf-base"),U=C.getBoundingClientRect(),z=document.querySelector(".lf-canvas-overlay").getBoundingClientRect(),G=U.x-z.x,q=U.y-z.y,J=this.lf.graphModel,ce=J.transformModel,he=ce.SCALE_X,se=ce.SCALE_Y,Q=ce.TRANSLATE_X,re=ce.TRANSLATE_Y;u.lastChild.style.transform="matrix(1, 0, 0, 1, "+((-G+Q)*(1/he)+10)+", "+((-q+re)*(1/se)+10)+")";var W=Math.ceil(U.width/he),L=Math.ceil(U.height/se);I.style.width=W+"px",I.style.height=L+"px",I.width=W*M+80,I.height=L*M+80;var H=I.getContext("2d");H.clearRect(0,0,I.width,I.height),H.scale(M,M),h?(H.fillStyle=h,H.fillRect(0,0,W*M+80,L*M+80)):H.clearRect(0,0,W,L);var X=new Image,$=document.createElement("style");$.innerHTML=this.getClassRules();var ie=document.createElement("foreignObject");return ie.appendChild($),u.appendChild(ie),new Promise(function(Ee){X.onload=function(){var ze=navigator.userAgent.indexOf("Firefox")>-1;try{ze?createImageBitmap(X,{resizeWidth:I.width,resizeHeight:I.height}).then(function(je){H.drawImage(je,0,0),Ee(I)}):(H.drawImage(X,0,0),Ee(I))}catch{H.drawImage(X,0,0),Ee(I)}};var be="data:image/svg+xml;charset=utf-8,"+new XMLSerializer().serializeToString(u),Pe=be.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");X.src=Pe})},P.pluginName="snapshot",P}(),W1=globalThis&&globalThis.__assign||function(){return W1=Object.assign||function(P){for(var j,h=1,b=arguments.length;h<b;h++){j=arguments[h];for(var u in j)Object.prototype.hasOwnProperty.call(j,u)&&(P[u]=j[u])}return P},W1.apply(this,arguments)};globalThis&&globalThis.__read;var V1;(function(P){P.HORIZONTAL="horizontal",P.VERTICAL="vertical"})(V1||(V1={}));var px=globalThis&&globalThis.__read||function(P,j){var h=typeof Symbol=="function"&&P[Symbol.iterator];if(!h)return P;var b=h.call(P),u,d=[],f;try{for(;(j===void 0||j-- >0)&&!(u=b.next()).done;)d.push(u.value)}catch(_){f={error:_}}finally{try{u&&!u.done&&(h=b.return)&&h.call(b)}finally{if(f)throw f.error}}return d};globalThis&&globalThis.__spread;var hx=globalThis&&globalThis.__read||function(P,j){var h=typeof Symbol=="function"&&P[Symbol.iterator];if(!h)return P;var b=h.call(P),u,d=[],f;try{for(;(j===void 0||j-- >0)&&!(u=b.next()).done;)d.push(u.value)}catch(_){f={error:_}}finally{try{u&&!u.done&&(h=b.return)&&h.call(b)}finally{if(f)throw f.error}}return d},dx=globalThis&&globalThis.__spread||function(){for(var P=[],j=0;j<arguments.length;j++)P=P.concat(hx(arguments[j]));return P},Ax=function(){function P(j){var h=this,b=j.lf;this.controlItems=[{key:"zoom-out",iconClass:"lf-control-zoomOut",title:"缩小流程图",text:"缩小",onClick:function(){h.lf.zoom(!1)}},{key:"zoom-in",iconClass:"lf-control-zoomIn",title:"放大流程图",text:"放大",onClick:function(){h.lf.zoom(!0)}},{key:"reset",iconClass:"lf-control-fit",title:"恢复流程原有尺寸",text:"适应",onClick:function(){h.lf.resetZoom()}},{key:"undo",iconClass:"lf-control-undo",title:"回到上一步",text:"上一步",onClick:function(){h.lf.undo()}},{key:"redo",iconClass:"lf-control-redo",title:"移到下一步",text:"下一步",onClick:function(){h.lf.redo()}}],this.lf=b}return P.prototype.render=function(j,h){this.destroy();var b=this.getControlTool();this.toolEl=b,h.appendChild(b),this.domContainer=h},P.prototype.destroy=function(){this.domContainer&&this.toolEl&&this.domContainer.contains(this.toolEl)&&this.domContainer.removeChild(this.toolEl)},P.prototype.addItem=function(j){this.controlItems.push(j)},P.prototype.removeItem=function(j){var h=this.controlItems.findIndex(function(b){return b.key===j});return h==-1?null:this.controlItems.splice(h,1)[0]},P.prototype.getControlTool=function(){var j=this,h="lf-control-item",b="lf-control-item disabled",u=document.createElement("div"),d=[];return u.className="lf-control",this.controlItems.forEach(function(f){var _=document.createElement("div"),g=document.createElement("i"),S=document.createElement("span");switch(_.className=b,f.onClick&&(_.onclick=f.onClick.bind(null,j.lf)),f.onMouseEnter&&(_.onmouseenter=f.onMouseEnter.bind(null,j.lf)),f.onMouseLeave&&(_.onmouseleave=f.onMouseLeave.bind(null,j.lf)),g.className=f.iconClass,S.className="lf-control-text",S.title=f.title,S.innerText=f.text,_.append(g,S),f.text){case"上一步":j.lf.on("history:change",function(T){var M=T.data.undoAble;_.className=M?h:b});break;case"下一步":j.lf.on("history:change",function(T){var M=T.data.redoAble;_.className=M?h:b});break;default:_.className=h;break}d.push(_)}),u.append.apply(u,dx(d)),u},P.pluginName="control",P}(),yx=globalThis&&globalThis.__read||function(P,j){var h=typeof Symbol=="function"&&P[Symbol.iterator];if(!h)return P;var b=h.call(P),u,d=[],f;try{for(;(j===void 0||j-- >0)&&!(u=b.next()).done;)d.push(u.value)}catch(_){f={error:_}}finally{try{u&&!u.done&&(h=b.return)&&h.call(b)}finally{if(f)throw f.error}}return d};globalThis&&globalThis.__spread;globalThis&&globalThis.__read;var kx=function(){function P(j){var h=this,b=j.lf;this.lf=b,this.lf.setPatternItems=function(u){h.setPatternItems(u)}}return P.prototype.render=function(j,h){var b=this;if(this.destroy(),!this.shapeList||this.shapeList.length===0){this.domContainer=h;return}this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(u){b.panelEl.appendChild(b.createDndItem(u))}),h.appendChild(this.panelEl),this.domContainer=h},P.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},P.prototype.setPatternItems=function(j){this.shapeList=j,this.domContainer&&this.render(this.lf,this.domContainer)},P.prototype.createDndItem=function(j){var h=this,b=document.createElement("div");b.className=j.className?"lf-dnd-item "+j.className:"lf-dnd-item";var u=document.createElement("div");if(u.className="lf-dnd-shape",j.icon&&(u.style.backgroundImage="url("+j.icon+")"),b.appendChild(u),j.label){var d=document.createElement("div");d.innerText=j.label,d.className="lf-dnd-text",b.appendChild(d)}return b.onmousedown=function(){j.type&&h.lf.dnd.startDrag({type:j.type,properties:j.properties,text:j.text}),j.callback&&j.callback(h.lf,h.domContainer)},b.ondblclick=function(f){h.lf.graphModel.eventCenter.emit("dnd:panel-dbclick",{e:f,data:j})},b.onclick=function(f){h.lf.graphModel.eventCenter.emit("dnd:panel-click",{e:f,data:j})},b.oncontextmenu=function(f){h.lf.graphModel.eventCenter.emit("dnd:panel-contextmenu",{e:f,data:j})},b},P.pluginName="dndPanel",P}(),Tx=function(){function P(j){var h=this,b=j.lf;this.__disabled=!1,this.isDefaultStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.__draw=function(d){var f=h.lf.getPointByClient(d.clientX,d.clientY).domOverlayPosition,_=f.x,g=f.y;h.endPoint={x:_,y:g};var S=h.startPoint,T=S.x,M=S.y,I=h.wrapper.style,C=T,U=M,z=_-T,G=g-M;_<T&&(C=_,z=T-_),g<M&&(U=g,G=M-g),I.left=C+"px",I.top=U+"px",I.width=z+"px",I.height=G+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",h.__draw),document.removeEventListener("mouseup",h.__drawOff),h.wrapper.oncontextmenu=null,h.__domContainer.removeChild(h.wrapper);var d=h.startPoint,f=d.x,_=d.y,g=h.endPoint,S=g.x,T=g.y;if(!(Math.abs(S-f)<10&&Math.abs(T-_)<10)){var M=[Math.min(f,S),Math.min(_,T)],I=[Math.max(f,S),Math.max(_,T)],C=h.lf.graphModel.getAreaElement(M,I,h.isWholeEdge,h.isWholeNode,!0),U=h.lf.graphModel.group;C.forEach(function(z){(!U||!U.getNodeGroup(z.id))&&h.lf.selectElementById(z.id,!0)}),h.lf.emit("selection:selected",C)}},this.lf=b;var u=b.getEditConfig().stopMoveGraph;this.isDefaultStopMoveGraph=u,b.openSelectionSelect=function(){h.openSelectionSelect()},b.closeSelectionSelect=function(){h.closeSelectionSelect()}}return P.prototype.render=function(j,h){var b=this;this.__domContainer=h,j.on("blank:mousedown",function(u){var d=u.e,f=j.getEditConfig();if(!(!f.stopMoveGraph||b.__disabled)){var _=d.button===2;if(!_){var g=j.getPointByClient(d.clientX,d.clientY).domOverlayPosition,S=g.x,T=g.y;b.startPoint={x:S,y:T},b.endPoint={x:S,y:T};var M=document.createElement("div");M.className="lf-selection-select",M.oncontextmenu=function(C){C.preventDefault()},M.style.top=b.startPoint.y+"px",M.style.left=b.startPoint.x+"px",h.appendChild(M),b.wrapper=M,document.addEventListener("mousemove",b.__draw),document.addEventListener("mouseup",b.__drawOff)}}})},P.prototype.setSelectionSense=function(j,h){j===void 0&&(j=!0),h===void 0&&(h=!0),this.isWholeEdge=j,this.isWholeNode=h},P.prototype.openSelectionSelect=function(){var j=this.lf.getEditConfig().stopMoveGraph;j||(this.isDefaultStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},P.prototype.closeSelectionSelect=function(){this.isDefaultStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},P.prototype.open=function(){this.__disabled=!1},P.prototype.close=function(){this.__disabled=!0},P.pluginName="selectionSelect",P}();globalThis&&globalThis.__values;var yw=globalThis&&globalThis.__extends||function(){var P=function(j,h){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,u){b.__proto__=u}||function(b,u){for(var d in u)u.hasOwnProperty(d)&&(b[d]=u[d])},P(j,h)};return function(j,h){P(j,h);function b(){this.constructor=j}j.prototype=h===null?Object.create(h):(b.prototype=h.prototype,new b)}}(),qy=globalThis&&globalThis.__assign||function(){return qy=Object.assign||function(P){for(var j,h=1,b=arguments.length;h<b;h++){j=arguments[h];for(var u in j)Object.prototype.hasOwnProperty.call(j,u)&&(P[u]=j[u])}return P},qy.apply(this,arguments)},Ib=globalThis&&globalThis.__read||function(P,j){var h=typeof Symbol=="function"&&P[Symbol.iterator];if(!h)return P;var b=h.call(P),u,d=[],f;try{for(;(j===void 0||j-- >0)&&!(u=b.next()).done;)d.push(u.value)}catch(_){f={error:_}}finally{try{u&&!u.done&&(h=b.return)&&h.call(b)}finally{if(f)throw f.error}}return d},vx={tr:"tl",lb:"tl",tl:"tr",rb:"tr",br:"bl",lt:"bl",bl:"br",rt:"br"};function gx(P){for(var j=P,h=1;h<j.length-1;){var b=Ib(j[h-1],2),u=b[0],d=b[1],f=Ib(j[h],2),_=f[0],g=f[1],S=Ib(j[h+1],2),T=S[0],M=S[1];u===_&&_===T||d===g&&g===M?j.splice(h,1):h++}return j}function bx(P,j,h,b){var u=[P[0],P[1]],d=[P[0],P[1]];switch(h){case"tl":return j==="tr"?(u[1]+=b,d[0]+=b):j==="lb"&&(u[0]+=b,d[1]+=b),[u,d];case"tr":return j==="tl"?(u[1]+=b,d[0]-=b):j==="rb"&&(u[0]-=b,d[1]+=b),[u,d];case"bl":return j==="br"?(u[1]-=b,d[0]+=b):j==="lt"&&(u[0]+=b,d[1]-=b),[u,d];case"br":return j==="bl"?(u[1]-=b,d[0]-=b):j==="rt"&&(u[0]-=b,d[1]-=b),[u,d];default:return[]}}function mx(P,j,h,b){var u,d="",f="";P[0]===j[0]?d=P[1]>j[1]?"t":"b":P[1]===j[1]&&(d=P[0]>j[0]?"l":"r"),j[0]===h[0]?f=j[1]>h[1]?"t":"b":j[1]===h[1]&&(f=j[0]>h[0]?"l":"r");var _=Math.min(Math.hypot(j[0]-P[0],j[1]-P[1])/2,Math.hypot(h[0]-j[0],h[1]-j[1])/2,b)||1/5*b,g=""+d+f,S=vx[g]||"-",T="L "+P[0]+" "+P[1];if(S==="-")T+="L "+j[0]+" "+j[1]+" L "+h[0]+" "+h[1];else{var M=Ib(bx(j,g,S,_),2),I=M[0],C=M[1];I&&C&&(T+="L "+I[0]+" "+I[1]+" Q "+j[0]+" "+j[1]+" "+C[0]+" "+C[1],u=Ib(C,2),j[0]=u[0],j[1]=u[1])}return T}function Ox(P,j){var h=0,b="";if(P.length===2)b+="M"+P[h][0]+" "+P[h++][1]+" L "+P[h][0]+" "+P[h][1];else{for(b+="M"+P[h][0]+" "+P[h++][1];h+1<P.length;){var u=P[h-1],d=P[h],f=P[h+++1];b+=mx(u,d,f,j)}b+="L "+P[h][0]+" "+P[h][1]}return b}(function(P){yw(j,P);function j(){return P!==null&&P.apply(this,arguments)||this}return j.prototype.getEdge=function(){var h=this.props.model,b=h.points,u=h.isAnimation,d=h.arrowConfig,f=h.radius,_=f===void 0?5:f,g=h.getEdgeStyle(),S=h.getEdgeAnimationStyle(),T=gx(b.split(" ").map(function(C){return C.split(",").map(function(U){return+U})})),M=Ox(T,_),I=qy(qy(qy({style:u?S:{}},g),d),{fill:"none"});return en.h("path",qy({d:M},I))},j})(en.PolylineEdge);(function(P){yw(j,P);function j(){return P!==null&&P.apply(this,arguments)||this}return j})(en.PolylineEdgeModel);var _x=globalThis&&globalThis.__read||function(P,j){var h=typeof Symbol=="function"&&P[Symbol.iterator];if(!h)return P;var b=h.call(P),u,d=[],f;try{for(;(j===void 0||j-- >0)&&!(u=b.next()).done;)d.push(u.value)}catch(_){f={error:_}}finally{try{u&&!u.done&&(h=b.return)&&h.call(b)}finally{if(f)throw f.error}}return d};globalThis&&globalThis.__spread;var $1=globalThis&&globalThis.__assign||function(){return $1=Object.assign||function(P){for(var j,h=1,b=arguments.length;h<b;h++){j=arguments[h];for(var u in j)Object.prototype.hasOwnProperty.call(j,u)&&(P[u]=j[u])}return P},$1.apply(this,arguments)},K1=globalThis&&globalThis.__assign||function(){return K1=Object.assign||function(P){for(var j,h=1,b=arguments.length;h<b;h++){j=arguments[h];for(var u in j)Object.prototype.hasOwnProperty.call(j,u)&&(P[u]=j[u])}return P},K1.apply(this,arguments)},wx=globalThis&&globalThis.__read||function(P,j){var h=typeof Symbol=="function"&&P[Symbol.iterator];if(!h)return P;var b=h.call(P),u,d=[],f;try{for(;(j===void 0||j-- >0)&&!(u=b.next()).done;)d.push(u.value)}catch(_){f={error:_}}finally{try{u&&!u.done&&(h=b.return)&&h.call(b)}finally{if(f)throw f.error}}return d};globalThis&&globalThis.__spread;export{Vp as B,Ax as C,kx as D,Sx as L,Tx as S,Px as a,jx as c,vw as g,gw as l};
